# Comparing `tmp/polyaxon-1.9.6rc5.tar.gz` & `tmp/polyaxon-2.0.0rc0.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "dist/polyaxon-1.9.6rc5.tar", last modified: Sat Jun 19 11:35:34 2021, max compression
+gzip compressed data, was "polyaxon-2.0.0rc0.tar", last modified: Fri Apr  7 15:21:39 2023, max compression
```

## Comparing `polyaxon-1.9.6rc5.tar` & `polyaxon-2.0.0rc0.tar`

### file list

```diff
@@ -1,729 +1,748 @@
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/
--rw-r--r--   0 runner    (1001) docker     (121)      141 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (121)    11347 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/PKG-INFO
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/agents/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/agents/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4445 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/agents/agent.py
--rw-r--r--   0 runner    (1001) docker     (121)    15748 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/agents/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     2771 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/agents/converter.py
--rw-r--r--   0 runner    (1001) docker     (121)     2752 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/agents/manager.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/agents/spawners/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/agents/spawners/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2651 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/agents/spawners/async_spawner.py
--rw-r--r--   0 runner    (1001) docker     (121)     1583 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/agents/spawners/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     2925 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/agents/spawners/spawner.py
--rw-r--r--   0 runner    (1001) docker     (121)     1679 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/api.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/auxiliaries/
--rw-r--r--   0 runner    (1001) docker     (121)     1155 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/auxiliaries/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2489 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/auxiliaries/cleaner.py
--rw-r--r--   0 runner    (1001) docker     (121)     4124 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/auxiliaries/init.py
--rw-r--r--   0 runner    (1001) docker     (121)     1547 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/auxiliaries/notifier.py
--rw-r--r--   0 runner    (1001) docker     (121)     5489 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/auxiliaries/sidecar.py
--rw-r--r--   0 runner    (1001) docker     (121)     1481 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/auxiliaries/tuner.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/builds/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/builds/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     8510 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/builds/builder.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/builds/generator/
--rw-r--r--   0 runner    (1001) docker     (121)      673 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/builds/generator/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1470 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/builds/generator/dockerfile.py
--rw-r--r--   0 runner    (1001) docker     (121)     2145 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/builds/generator/generator.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/cli/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     6626 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/admin.py
--rw-r--r--   0 runner    (1001) docker     (121)     5471 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/auth.py
--rw-r--r--   0 runner    (1001) docker     (121)     1932 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/check.py
--rw-r--r--   0 runner    (1001) docker     (121)     1232 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/completion.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2349 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/agent.py
--rw-r--r--   0 runner    (1001) docker     (121)     5666 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/clean_artifacts.py
--rw-r--r--   0 runner    (1001) docker     (121)     2473 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/clean_ops.py
--rw-r--r--   0 runner    (1001) docker     (121)     8486 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/docker.py
--rw-r--r--   0 runner    (1001) docker     (121)     6549 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/initializer.py
--rw-r--r--   0 runner    (1001) docker     (121)     2238 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/notifier.py
--rw-r--r--   0 runner    (1001) docker     (121)     1581 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/proxies.py
--rw-r--r--   0 runner    (1001) docker     (121)     2030 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/sidecar.py
--rw-r--r--   0 runner    (1001) docker     (121)     5535 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/tuner.py
--rw-r--r--   0 runner    (1001) docker     (121)     1481 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/components/wait.py
--rw-r--r--   0 runner    (1001) docker     (121)     5745 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/config.py
--rw-r--r--   0 runner    (1001) docker     (121)     1940 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/dashboard.py
--rw-r--r--   0 runner    (1001) docker     (121)     2301 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/errors.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/cli/executor/
--rw-r--r--   0 runner    (1001) docker     (121)      780 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/executor/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2746 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/executor/conda.py
--rw-r--r--   0 runner    (1001) docker     (121)     5471 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/executor/docker.py
--rw-r--r--   0 runner    (1001) docker     (121)     2914 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/executor/k8s.py
--rw-r--r--   0 runner    (1001) docker     (121)     7364 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/executor/platform.py
--rw-r--r--   0 runner    (1001) docker     (121)    20505 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/hub.py
--rw-r--r--   0 runner    (1001) docker     (121)     7917 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/init.py
--rw-r--r--   0 runner    (1001) docker     (121)    38022 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/operations.py
--rw-r--r--   0 runner    (1001) docker     (121)     1804 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/options.py
--rw-r--r--   0 runner    (1001) docker     (121)     3040 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/port_forward.py
--rw-r--r--   0 runner    (1001) docker     (121)    11673 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/projects.py
--rw-r--r--   0 runner    (1001) docker     (121)    19088 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/registry.py
--rw-r--r--   0 runner    (1001) docker     (121)    10402 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/run.py
--rw-r--r--   0 runner    (1001) docker     (121)     5486 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/session.py
--rw-r--r--   0 runner    (1001) docker     (121)     1298 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     4899 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/cli/version.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/client/
--rw-r--r--   0 runner    (1001) docker     (121)      781 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4940 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/client.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/client/decorators/
--rw-r--r--   0 runner    (1001) docker     (121)      742 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/decorators/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3687 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/decorators/client_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      894 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/decorators/is_managed.py
--rw-r--r--   0 runner    (1001) docker     (121)     1786 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/impersonate.py
--rw-r--r--   0 runner    (1001) docker     (121)     6073 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/project.py
--rw-r--r--   0 runner    (1001) docker     (121)    75088 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/run.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/client/transport/
--rw-r--r--   0 runner    (1001) docker     (121)     1875 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/transport/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     6433 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/transport/http_transport.py
--rw-r--r--   0 runner    (1001) docker     (121)     5337 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/transport/periodic_transport.py
--rw-r--r--   0 runner    (1001) docker     (121)     1571 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/transport/retry_transport.py
--rw-r--r--   0 runner    (1001) docker     (121)     1933 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/transport/socket_transport.py
--rw-r--r--   0 runner    (1001) docker     (121)     4488 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/transport/threaded_transport.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/client/workers/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/workers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1800 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/workers/base_worker.py
--rw-r--r--   0 runner    (1001) docker     (121)     4120 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/workers/periodic_worker.py
--rw-r--r--   0 runner    (1001) docker     (121)     4211 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/client/workers/queue_worker.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/config_reader/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/config_reader/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    13060 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/config_reader/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     9628 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/config_reader/spec.py
--rw-r--r--   0 runner    (1001) docker     (121)     1060 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/config_reader/utils.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/connections/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/connections/aws/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/aws/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    11586 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/aws/base.py
--rw-r--r--   0 runner    (1001) docker     (121)    19307 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/aws/s3.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/connections/azure/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/azure/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    14477 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/azure/azure_blobstore.py
--rw-r--r--   0 runner    (1001) docker     (121)     2432 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/azure/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     1124 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/base.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/connections/gcp/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/gcp/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     7202 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/gcp/base.py
--rw-r--r--   0 runner    (1001) docker     (121)    11659 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/gcp/gcs.py
--rw-r--r--   0 runner    (1001) docker     (121)     1920 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/getter.py
--rw-r--r--   0 runner    (1001) docker     (121)     2049 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/kinds.py
--rw-r--r--   0 runner    (1001) docker     (121)     4567 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/reader.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/connections/schemas/
--rw-r--r--   0 runner    (1001) docker     (121)     1094 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/schemas/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     6692 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/schemas/connections.py
--rw-r--r--   0 runner    (1001) docker     (121)     1315 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/connections/schemas/k8s_resources.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/constants/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/constants/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      747 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/constants/globals.py
--rw-r--r--   0 runner    (1001) docker     (121)     1302 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/constants/metadata.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/containers/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/containers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2397 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/containers/contexts.py
--rw-r--r--   0 runner    (1001) docker     (121)     1558 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/containers/names.py
--rw-r--r--   0 runner    (1001) docker     (121)      731 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/containers/pull_policy.py
--rw-r--r--   0 runner    (1001) docker     (121)      709 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/containers/statuses.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/contexts/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/contexts/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1280 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/contexts/keys.py
--rw-r--r--   0 runner    (1001) docker     (121)      660 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/contexts/params.py
--rw-r--r--   0 runner    (1001) docker     (121)     3640 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/contexts/refs.py
--rw-r--r--   0 runner    (1001) docker     (121)     1350 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/contexts/sections.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/deploy/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/deploy/operators/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/operators/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2152 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/operators/cmd_operator.py
--rw-r--r--   0 runner    (1001) docker     (121)     7786 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/operators/compose.py
--rw-r--r--   0 runner    (1001) docker     (121)     1179 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/operators/conda.py
--rw-r--r--   0 runner    (1001) docker     (121)     1517 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/operators/docker.py
--rw-r--r--   0 runner    (1001) docker     (121)     1383 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/operators/helm.py
--rw-r--r--   0 runner    (1001) docker     (121)     1778 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/operators/kubectl.py
--rw-r--r--   0 runner    (1001) docker     (121)     1143 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/operators/pip.py
--rw-r--r--   0 runner    (1001) docker     (121)      830 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/reader.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1238 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/auth.py
--rw-r--r--   0 runner    (1001) docker     (121)     2327 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/celery.py
--rw-r--r--   0 runner    (1001) docker     (121)    18430 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/deployment.py
--rw-r--r--   0 runner    (1001) docker     (121)      978 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/deployment_types.py
--rw-r--r--   0 runner    (1001) docker     (121)     1894 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/email.py
--rw-r--r--   0 runner    (1001) docker     (121)     1567 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/ingress.py
--rw-r--r--   0 runner    (1001) docker     (121)     1704 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/intervals.py
--rw-r--r--   0 runner    (1001) docker     (121)     1420 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/operators.py
--rw-r--r--   0 runner    (1001) docker     (121)     1012 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/rbac.py
--rw-r--r--   0 runner    (1001) docker     (121)     1345 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/root_user.py
--rw-r--r--   0 runner    (1001) docker     (121)     1752 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/security_context.py
--rw-r--r--   0 runner    (1001) docker     (121)    18141 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/service.py
--rw-r--r--   0 runner    (1001) docker     (121)      770 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/service_types.py
--rw-r--r--   0 runner    (1001) docker     (121)     1194 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/ssl.py
--rw-r--r--   0 runner    (1001) docker     (121)     1697 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/deploy/schemas/ui.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/getters/
--rw-r--r--   0 runner    (1001) docker     (121)     1245 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/getters/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1569 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/getters/agent.py
--rw-r--r--   0 runner    (1001) docker     (121)     2418 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/getters/owner_entity.py
--rw-r--r--   0 runner    (1001) docker     (121)     2591 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/getters/project.py
--rw-r--r--   0 runner    (1001) docker     (121)     1177 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/getters/queue.py
--rw-r--r--   0 runner    (1001) docker     (121)     3208 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/getters/run.py
--rw-r--r--   0 runner    (1001) docker     (121)     1719 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/getters/user.py
--rw-r--r--   0 runner    (1001) docker     (121)     3328 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/getters/versioned_entity.py
--rw-r--r--   0 runner    (1001) docker     (121)     6437 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/env_vars/keys.py
--rw-r--r--   0 runner    (1001) docker     (121)     3902 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/exceptions.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/init/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/init/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1807 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/init/auth.py
--rw-r--r--   0 runner    (1001) docker     (121)     1479 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/init/dockerfile.py
--rw-r--r--   0 runner    (1001) docker     (121)     1550 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/init/file.py
--rw-r--r--   0 runner    (1001) docker     (121)     5181 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/init/git.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/k8s/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     7310 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/async_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1121 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/constants.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/k8s/custom_resources/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/custom_resources/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1140 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/custom_resources/crd.py
--rw-r--r--   0 runner    (1001) docker     (121)     1229 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/custom_resources/operation.py
--rw-r--r--   0 runner    (1001) docker     (121)     1119 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/events.py
--rw-r--r--   0 runner    (1001) docker     (121)     1793 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/k8s_schemas.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/k8s/logging/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/logging/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3723 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/logging/async_monitor.py
--rw-r--r--   0 runner    (1001) docker     (121)     3999 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/logging/monitor.py
--rw-r--r--   0 runner    (1001) docker     (121)    27254 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1474 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/monitor.py
--rw-r--r--   0 runner    (1001) docker     (121)      637 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/namespace.py
--rw-r--r--   0 runner    (1001) docker     (121)     2056 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/nodes.py
--rw-r--r--   0 runner    (1001) docker     (121)     1176 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/pods.py
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/k8s/run_instance.py
--rw-r--r--   0 runner    (1001) docker     (121)     9776 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/lifecycle.py
--rw-r--r--   0 runner    (1001) docker     (121)      803 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/live_state.py
--rw-r--r--   0 runner    (1001) docker     (121)     2531 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/logger.py
--rw-r--r--   0 runner    (1001) docker     (121)     5977 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/main.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/managers/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2062 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/agent.py
--rw-r--r--   0 runner    (1001) docker     (121)     1938 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/auth.py
--rw-r--r--   0 runner    (1001) docker     (121)     8379 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     2214 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/cli.py
--rw-r--r--   0 runner    (1001) docker     (121)     1728 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/client.py
--rw-r--r--   0 runner    (1001) docker     (121)     1099 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/compose.py
--rw-r--r--   0 runner    (1001) docker     (121)    13358 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/deploy.py
--rw-r--r--   0 runner    (1001) docker     (121)     1242 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/git.py
--rw-r--r--   0 runner    (1001) docker     (121)     6737 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/ignore.py
--rw-r--r--   0 runner    (1001) docker     (121)     1364 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/project.py
--rw-r--r--   0 runner    (1001) docker     (121)     1250 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/proxies.py
--rw-r--r--   0 runner    (1001) docker     (121)     1170 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/run.py
--rw-r--r--   0 runner    (1001) docker     (121)     1260 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/managers/user.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/notifiers/
--rw-r--r--   0 runner    (1001) docker     (121)     1492 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/notifiers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5703 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/notifiers/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     2105 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/notifiers/discord_webhook.py
--rw-r--r--   0 runner    (1001) docker     (121)     1956 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/notifiers/hipchat_webhook.py
--rw-r--r--   0 runner    (1001) docker     (121)     1049 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/notifiers/keys.py
--rw-r--r--   0 runner    (1001) docker     (121)     2414 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/notifiers/mattermost_webhook.py
--rw-r--r--   0 runner    (1001) docker     (121)     2418 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/notifiers/pagerduty_webhook.py
--rw-r--r--   0 runner    (1001) docker     (121)     2855 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/notifiers/slack_webhook.py
--rw-r--r--   0 runner    (1001) docker     (121)     2453 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/notifiers/spec.py
--rw-r--r--   0 runner    (1001) docker     (121)     2701 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/notifiers/webhook.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/operations/
--rw-r--r--   0 runner    (1001) docker     (121)      881 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/operations/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2327 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/operations/cleaner.py
--rw-r--r--   0 runner    (1001) docker     (121)     2518 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/operations/notifier.py
--rw-r--r--   0 runner    (1001) docker     (121)     2661 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/operations/tuner.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/parser/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/parser/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      640 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/parser/constants.py
--rw-r--r--   0 runner    (1001) docker     (121)    38145 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/parser/parser.py
--rw-r--r--   0 runner    (1001) docker     (121)      871 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/pkg.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/plugins/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/plugins/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1237 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/plugins/sentry.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/
--rw-r--r--   0 runner    (1001) docker     (121)     1081 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     9040 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/check.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/manager/
--rw-r--r--   0 runner    (1001) docker     (121)      830 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/manager/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3587 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/manager/operations.py
--rw-r--r--   0 runner    (1001) docker     (121)     5143 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/manager/workflows.py
--rw-r--r--   0 runner    (1001) docker     (121)     1725 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/params.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/
--rw-r--r--   0 runner    (1001) docker     (121)     1467 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4504 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/base.py
--rw-r--r--   0 runner    (1001) docker     (121)    10438 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/compiled_operation.py
--rw-r--r--   0 runner    (1001) docker     (121)      923 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/component.py
--rw-r--r--   0 runner    (1001) docker     (121)      746 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/kinds.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/libs/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/libs/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      939 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/libs/engine.py
--rw-r--r--   0 runner    (1001) docker     (121)    10332 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/libs/parser.py
--rw-r--r--   0 runner    (1001) docker     (121)     1544 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/libs/validator.py
--rw-r--r--   0 runner    (1001) docker     (121)     5818 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/operation.py
--rw-r--r--   0 runner    (1001) docker     (121)     2756 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/sections.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/artifacts/
--rw-r--r--   0 runner    (1001) docker     (121)      749 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/artifacts/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      687 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/artifacts/kinds.py
--rw-r--r--   0 runner    (1001) docker     (121)     2078 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/artifacts/schemas.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/events/
--rw-r--r--   0 runner    (1001) docker     (121)     1222 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/events/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1671 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/events/paths.py
--rw-r--r--   0 runner    (1001) docker     (121)    16747 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/events/schemas.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/logging/
--rw-r--r--   0 runner    (1001) docker     (121)      666 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/logging/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2343 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/logging/handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1346 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/logging/parser.py
--rw-r--r--   0 runner    (1001) docker     (121)     4982 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/logging/schemas.py
--rw-r--r--   0 runner    (1001) docker     (121)     2452 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/logging/streamer.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/processors/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/processors/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    23459 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/processors/events_processors.py
--rw-r--r--   0 runner    (1001) docker     (121)     1870 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/processors/gpu_processor.py
--rw-r--r--   0 runner    (1001) docker     (121)     1617 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/processors/logs_processor.py
--rw-r--r--   0 runner    (1001) docker     (121)     1604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/processors/psutil_processor.py
--rw-r--r--   0 runner    (1001) docker     (121)    13782 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/processors/writer.py
--rw-r--r--   0 runner    (1001) docker     (121)      754 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyboard/utils.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/
--rw-r--r--   0 runner    (1001) docker     (121)     4427 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/builds/
--rw-r--r--   0 runner    (1001) docker     (121)     7806 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/builds/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/cache/
--rw-r--r--   0 runner    (1001) docker     (121)     2835 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/cache/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/component/
--rw-r--r--   0 runner    (1001) docker     (121)      769 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/component/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2296 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/component/base.py
--rw-r--r--   0 runner    (1001) docker     (121)    12907 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/component/component.py
--rw-r--r--   0 runner    (1001) docker     (121)     1259 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/component/component_reference.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/containers/
--rw-r--r--   0 runner    (1001) docker     (121)      683 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/containers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1309 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/containers/container.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/dags/
--rw-r--r--   0 runner    (1001) docker     (121)     4082 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/dags/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/early_stopping/
--rw-r--r--   0 runner    (1001) docker     (121)     1303 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/early_stopping/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     8707 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/early_stopping/policies.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/environment/
--rw-r--r--   0 runner    (1001) docker     (121)    15359 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/environment/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/events/
--rw-r--r--   0 runner    (1001) docker     (121)     6731 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/events/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/hooks/
--rw-r--r--   0 runner    (1001) docker     (121)     7291 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/hooks/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/init/
--rw-r--r--   0 runner    (1001) docker     (121)     9178 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/init/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/io/
--rw-r--r--   0 runner    (1001) docker     (121)      656 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/io/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    16567 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/io/io.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/joins/
--rw-r--r--   0 runner    (1001) docker     (121)     7419 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/joins/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/
--rw-r--r--   0 runner    (1001) docker     (121)     3537 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      901 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/base.py
--rw-r--r--   0 runner    (1001) docker     (121)    16130 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/bayes.py
--rw-r--r--   0 runner    (1001) docker     (121)     6834 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/grid_search.py
--rw-r--r--   0 runner    (1001) docker     (121)    15645 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/hyperband.py
--rw-r--r--   0 runner    (1001) docker     (121)     7008 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/hyperopt.py
--rw-r--r--   0 runner    (1001) docker     (121)     7995 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/iterative.py
--rw-r--r--   0 runner    (1001) docker     (121)     1032 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/kinds.py
--rw-r--r--   0 runner    (1001) docker     (121)     4016 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/mapping.py
--rw-r--r--   0 runner    (1001) docker     (121)    25587 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/params.py
--rw-r--r--   0 runner    (1001) docker     (121)     6807 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/random_search.py
--rw-r--r--   0 runner    (1001) docker     (121)     4119 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/tuner.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/mounts/
--rw-r--r--   0 runner    (1001) docker     (121)      711 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/mounts/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1108 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/mounts/artifacts_mounts.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/notifications/
--rw-r--r--   0 runner    (1001) docker     (121)     2961 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/notifications/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/operations/
--rw-r--r--   0 runner    (1001) docker     (121)      803 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/operations/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3381 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/operations/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     4887 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/operations/compiled_operation.py
--rw-r--r--   0 runner    (1001) docker     (121)    23852 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/operations/operation.py
--rw-r--r--   0 runner    (1001) docker     (121)     2690 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/operators.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/optimization/
--rw-r--r--   0 runner    (1001) docker     (121)     2921 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/optimization/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/params/
--rw-r--r--   0 runner    (1001) docker     (121)      681 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/params/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    11498 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/params/ops_params.py
--rw-r--r--   0 runner    (1001) docker     (121)    18734 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/params/params.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/plugins/
--rw-r--r--   0 runner    (1001) docker     (121)     9639 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/plugins/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/references/
--rw-r--r--   0 runner    (1001) docker     (121)      936 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/references/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1177 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/references/dag.py
--rw-r--r--   0 runner    (1001) docker     (121)     1177 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/references/hub.py
--rw-r--r--   0 runner    (1001) docker     (121)      686 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/references/mixin.py
--rw-r--r--   0 runner    (1001) docker     (121)     1184 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/references/path.py
--rw-r--r--   0 runner    (1001) docker     (121)     1175 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/references/url.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/
--rw-r--r--   0 runner    (1001) docker     (121)     4268 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1038 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/cleaner.py
--rw-r--r--   0 runner    (1001) docker     (121)    23621 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/dag.py
--rw-r--r--   0 runner    (1001) docker     (121)     9460 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/dask.py
--rw-r--r--   0 runner    (1001) docker     (121)     1184 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/flink.py
--rw-r--r--   0 runner    (1001) docker     (121)     7851 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/job.py
--rw-r--r--   0 runner    (1001) docker     (121)     1349 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/kinds.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/kubeflow/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/kubeflow/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      836 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/kubeflow/clean_pod_policy.py
--rw-r--r--   0 runner    (1001) docker     (121)     4385 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/kubeflow/mpi_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     4259 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/kubeflow/pytorch_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     7487 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/kubeflow/replica.py
--rw-r--r--   0 runner    (1001) docker     (121)     5725 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/kubeflow/tf_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     1044 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/notifier.py
--rw-r--r--   0 runner    (1001) docker     (121)     2932 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/patch.py
--rw-r--r--   0 runner    (1001) docker     (121)     1172 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/ray.py
--rw-r--r--   0 runner    (1001) docker     (121)     3201 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/resources.py
--rw-r--r--   0 runner    (1001) docker     (121)     9083 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/service.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/spark/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/spark/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5465 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/spark/replica.py
--rw-r--r--   0 runner    (1001) docker     (121)     8956 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/spark/spark.py
--rw-r--r--   0 runner    (1001) docker     (121)     1026 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/tuner.py
--rw-r--r--   0 runner    (1001) docker     (121)      829 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/run/utils.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/schedules/
--rw-r--r--   0 runner    (1001) docker     (121)     1761 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/schedules/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3584 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/schedules/cron.py
--rw-r--r--   0 runner    (1001) docker     (121)     2434 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/schedules/datetime.py
--rw-r--r--   0 runner    (1001) docker     (121)     3909 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/schedules/interval.py
--rw-r--r--   0 runner    (1001) docker     (121)      687 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/schedules/kinds.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/templates/
--rw-r--r--   0 runner    (1001) docker     (121)     3597 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/templates/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/termination/
--rw-r--r--   0 runner    (1001) docker     (121)     4385 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/termination/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1174 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyflow/trigger_policies.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polyplot/
--rw-r--r--   0 runner    (1001) docker     (121)      665 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyplot/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5799 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polyplot/run_plot.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/common/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/common/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1814 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/common/accelerators.py
--rw-r--r--   0 runner    (1001) docker     (121)     1030 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/common/constants.py
--rw-r--r--   0 runner    (1001) docker     (121)     1492 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/common/container_resources.py
--rw-r--r--   0 runner    (1001) docker     (121)     4214 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/common/containers.py
--rw-r--r--   0 runner    (1001) docker     (121)    10416 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/common/env_vars.py
--rw-r--r--   0 runner    (1001) docker     (121)     3399 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/common/mounts.py
--rw-r--r--   0 runner    (1001) docker     (121)     2384 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/common/setter.py
--rw-r--r--   0 runner    (1001) docker     (121)     1124 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/common/stores.py
--rw-r--r--   0 runner    (1001) docker     (121)     4322 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/common/volumes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/
--rw-r--r--   0 runner    (1001) docker     (121)     2209 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5807 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/config.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/
--rw-r--r--   0 runner    (1001) docker     (121)      717 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2808 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     6734 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/contexts.py
--rw-r--r--   0 runner    (1001) docker     (121)     1383 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/job.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/kubeflow/
--rw-r--r--   0 runner    (1001) docker     (121)      878 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/kubeflow/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1837 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/kubeflow/mpi_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     1846 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/kubeflow/pytroch_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     1922 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/kubeflow/tf_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     2048 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/service.py
--rw-r--r--   0 runner    (1001) docker     (121)     2997 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converter.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/
--rw-r--r--   0 runner    (1001) docker     (121)     2320 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    26073 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     1590 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/helpers.py
--rw-r--r--   0 runner    (1001) docker     (121)     3035 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/job.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/kubeflow/
--rw-r--r--   0 runner    (1001) docker     (121)      866 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/kubeflow/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3444 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/kubeflow/mpi_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     3421 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/kubeflow/pytroch_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     3541 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/kubeflow/tf_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     3141 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/service.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/lineage/
--rw-r--r--   0 runner    (1001) docker     (121)      687 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/lineage/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1081 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/lineage/artifacts_collector.py
--rw-r--r--   0 runner    (1001) docker     (121)     1369 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/lineage/collector.py
--rw-r--r--   0 runner    (1001) docker     (121)     2598 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/lineage/io_collector.py
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/lineage/params_collector.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/resolver/
--rw-r--r--   0 runner    (1001) docker     (121)      749 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/resolver/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     9470 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/resolver/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     3255 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/compiler/resolver/resolver.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/
--rw-r--r--   0 runner    (1001) docker     (121)      922 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2685 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/job.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/kubeflow/
--rw-r--r--   0 runner    (1001) docker     (121)      901 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/kubeflow/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1648 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/kubeflow/common.py
--rw-r--r--   0 runner    (1001) docker     (121)     3014 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/kubeflow/mpi_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     2834 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/kubeflow/pytorch_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     3388 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/kubeflow/tf_job.py
--rw-r--r--   0 runner    (1001) docker     (121)     2764 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/service.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/init/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/init/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3349 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/init/artifacts.py
--rw-r--r--   0 runner    (1001) docker     (121)     1441 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/init/auth.py
--rw-r--r--   0 runner    (1001) docker     (121)     3517 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/init/custom.py
--rw-r--r--   0 runner    (1001) docker     (121)     2843 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/init/dockerfile.py
--rw-r--r--   0 runner    (1001) docker     (121)     2852 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/init/file.py
--rw-r--r--   0 runner    (1001) docker     (121)     5376 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/init/git.py
--rw-r--r--   0 runner    (1001) docker     (121)     8374 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/init/store.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/main/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/main/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4082 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/main/container.py
--rw-r--r--   0 runner    (1001) docker     (121)     2762 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/main/env_vars.py
--rw-r--r--   0 runner    (1001) docker     (121)     2237 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/main/k8s_resources.py
--rw-r--r--   0 runner    (1001) docker     (121)     2883 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/main/volumes.py
--rw-r--r--   0 runner    (1001) docker     (121)     2571 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/mixins.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/pod/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/pod/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3087 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/pod/spec.py
--rw-r--r--   0 runner    (1001) docker     (121)     5294 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/pod/volumes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/sidecar/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/sidecar/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4970 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/sidecar/container.py
--rw-r--r--   0 runner    (1001) docker     (121)     1314 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/sidecar/env_vars.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polypod/specs/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/specs/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3190 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/specs/contexts.py
--rw-r--r--   0 runner    (1001) docker     (121)      831 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polypod/specs/replica.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polytune/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3407 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/iteration_lineage.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polytune/matrix/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/matrix/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2047 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/matrix/dist.py
--rw-r--r--   0 runner    (1001) docker     (121)     3060 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/matrix/hyperopt.py
--rw-r--r--   0 runner    (1001) docker     (121)     7553 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/matrix/utils.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polytune/schemas/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/schemas/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1326 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/schemas/iteration.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1141 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/base.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/bayesian_optimization/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/bayesian_optimization/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5204 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/bayesian_optimization/acquisition_function.py
--rw-r--r--   0 runner    (1001) docker     (121)     1906 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/bayesian_optimization/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1925 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/bayesian_optimization/optimizer.py
--rw-r--r--   0 runner    (1001) docker     (121)     5927 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/bayesian_optimization/space.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/grid_search/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/grid_search/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1376 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/grid_search/manager.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/hyperband/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/hyperband/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5593 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/hyperband/manager.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/hyperopt/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/hyperopt/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     6017 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/hyperopt/manager.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/mapping/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/mapping/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1226 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/mapping/manager.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/random_search/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/random_search/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2468 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/random_search/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1330 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/spec.py
--rw-r--r--   0 runner    (1001) docker     (121)      725 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/utils.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/pql/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/pql/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    14524 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/pql/builder.py
--rw-r--r--   0 runner    (1001) docker     (121)     5203 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/pql/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    14238 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/pql/parser.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/proxies/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/proxies/generators/
--rw-r--r--   0 runner    (1001) docker     (121)      807 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/generators/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      924 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/generators/api.py
--rw-r--r--   0 runner    (1001) docker     (121)      746 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/generators/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     1043 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/generators/gateway.py
--rw-r--r--   0 runner    (1001) docker     (121)      931 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/generators/streams.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/
--rw-r--r--   0 runner    (1001) docker     (121)      708 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/api/
--rw-r--r--   0 runner    (1001) docker     (121)      729 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/api/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1875 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/api/base.py
--rw-r--r--   0 runner    (1001) docker     (121)      921 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/api/main.py
--rw-r--r--   0 runner    (1001) docker     (121)     1984 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/api/uwsgi.py
--rw-r--r--   0 runner    (1001) docker     (121)     1112 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/base.py
--rw-r--r--   0 runner    (1001) docker     (121)      866 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/buffering.py
--rw-r--r--   0 runner    (1001) docker     (121)      769 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/charset.py
--rw-r--r--   0 runner    (1001) docker     (121)      900 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/error_page.py
--rw-r--r--   0 runner    (1001) docker     (121)      826 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/favicon.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/
--rw-r--r--   0 runner    (1001) docker     (121)      811 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3620 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/api.py
--rw-r--r--   0 runner    (1001) docker     (121)     2153 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/auth.py
--rw-r--r--   0 runner    (1001) docker     (121)     2788 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     1296 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/dns.py
--rw-r--r--   0 runner    (1001) docker     (121)      892 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/healthz.py
--rw-r--r--   0 runner    (1001) docker     (121)      899 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/main.py
--rw-r--r--   0 runner    (1001) docker     (121)     1003 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/redirect.py
--rw-r--r--   0 runner    (1001) docker     (121)     3504 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/services.py
--rw-r--r--   0 runner    (1001) docker     (121)     1569 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/ssl.py
--rw-r--r--   0 runner    (1001) docker     (121)     1392 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/streams.py
--rw-r--r--   0 runner    (1001) docker     (121)      884 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gzip.py
--rw-r--r--   0 runner    (1001) docker     (121)     1019 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/listen.py
--rw-r--r--   0 runner    (1001) docker     (121)     3080 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/locations.py
--rw-r--r--   0 runner    (1001) docker     (121)      975 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/logging.py
--rw-r--r--   0 runner    (1001) docker     (121)      816 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/robots.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/streams/
--rw-r--r--   0 runner    (1001) docker     (121)      737 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/streams/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1729 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/streams/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     1188 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/streams/gunicorn.py
--rw-r--r--   0 runner    (1001) docker     (121)      921 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/streams/main.py
--rw-r--r--   0 runner    (1001) docker     (121)     1047 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/timeout.py
--rw-r--r--   0 runner    (1001) docker     (121)     1208 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/proxies/schemas/urls.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/schemas/
--rw-r--r--   0 runner    (1001) docker     (121)      715 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/schemas/api/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/api/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1990 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/api/authentication.py
--rw-r--r--   0 runner    (1001) docker     (121)     1262 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/api/log_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3851 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/api/resources.py
--rw-r--r--   0 runner    (1001) docker     (121)     1067 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/api/user.py
--rw-r--r--   0 runner    (1001) docker     (121)    18543 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/base.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/schemas/cli/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/cli/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     9388 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/cli/agent_config.py
--rw-r--r--   0 runner    (1001) docker     (121)     1964 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/cli/checks_config.py
--rw-r--r--   0 runner    (1001) docker     (121)     2226 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/cli/cli_config.py
--rw-r--r--   0 runner    (1001) docker     (121)    10302 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/cli/client_config.py
--rw-r--r--   0 runner    (1001) docker     (121)     7674 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/cli/proxies_config.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/
--rw-r--r--   0 runner    (1001) docker     (121)     1125 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1225 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/dict_or_str.py
--rw-r--r--   0 runner    (1001) docker     (121)     1357 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/docker_image.py
--rw-r--r--   0 runner    (1001) docker     (121)     1214 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/float_or_str.py
--rw-r--r--   0 runner    (1001) docker     (121)      934 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/indexed_dict.py
--rw-r--r--   0 runner    (1001) docker     (121)     1188 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/int_or_str.py
--rw-r--r--   0 runner    (1001) docker     (121)     2503 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/obj_list_obj.py
--rw-r--r--   0 runner    (1001) docker     (121)     2544 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/ref_or_obj.py
--rw-r--r--   0 runner    (1001) docker     (121)      921 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/str_or_fct.py
--rw-r--r--   0 runner    (1001) docker     (121)     1200 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/str_or_list.py
--rw-r--r--   0 runner    (1001) docker     (121)     1964 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/swagger.py
--rw-r--r--   0 runner    (1001) docker     (121)     1181 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/tensor.py
--rw-r--r--   0 runner    (1001) docker     (121)      908 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/fields/uuids.py
--rw-r--r--   0 runner    (1001) docker     (121)      689 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/patch_strategy.py
--rw-r--r--   0 runner    (1001) docker     (121)      683 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/pending.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/
--rw-r--r--   0 runner    (1001) docker     (121)     1481 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     6018 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/artifacts.py
--rw-r--r--   0 runner    (1001) docker     (121)     2825 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/auth.py
--rw-r--r--   0 runner    (1001) docker     (121)      740 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/base.py
--rw-r--r--   0 runner    (1001) docker     (121)    12577 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/connections.py
--rw-r--r--   0 runner    (1001) docker     (121)     7742 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/dockerfile.py
--rw-r--r--   0 runner    (1001) docker     (121)     1190 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/event.py
--rw-r--r--   0 runner    (1001) docker     (121)     4775 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/file.py
--rw-r--r--   0 runner    (1001) docker     (121)     2661 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/gcs.py
--rw-r--r--   0 runner    (1001) docker     (121)     4491 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/git.py
--rw-r--r--   0 runner    (1001) docker     (121)     1633 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/k8s_resources.py
--rw-r--r--   0 runner    (1001) docker     (121)     2639 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/s3.py
--rw-r--r--   0 runner    (1001) docker     (121)     2658 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/uri.py
--rw-r--r--   0 runner    (1001) docker     (121)     2945 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/types/wasb.py
--rw-r--r--   0 runner    (1001) docker     (121)     2782 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/schemas/utils.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/services/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/services/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      833 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/services/auth.py
--rw-r--r--   0 runner    (1001) docker     (121)      676 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/services/ephemeral.py
--rw-r--r--   0 runner    (1001) docker     (121)     1589 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/services/headers.py
--rw-r--r--   0 runner    (1001) docker     (121)     2948 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/settings.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/sidecar/
--rw-r--r--   0 runner    (1001) docker     (121)     3824 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/sidecar/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      910 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/sidecar/intervals.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/sidecar/monitors/
--rw-r--r--   0 runner    (1001) docker     (121)      721 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/sidecar/monitors/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2352 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/sidecar/monitors/artifacts.py
--rw-r--r--   0 runner    (1001) docker     (121)     1893 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/sidecar/monitors/logs.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/stores/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/stores/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5308 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/stores/async_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     2086 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/stores/base_store.py
--rw-r--r--   0 runner    (1001) docker     (121)     5096 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/stores/local_store.py
--rw-r--r--   0 runner    (1001) docker     (121)     4680 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/stores/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    11257 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/stores/polyaxon_store.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/streams/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/streams/app/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/app/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    15591 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/app/endpoints.py
--rw-r--r--   0 runner    (1001) docker     (121)     4530 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/app/main.py
--rw-r--r--   0 runner    (1001) docker     (121)      830 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/app/resources.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/streams/controllers/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/controllers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5348 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/controllers/events.py
--rw-r--r--   0 runner    (1001) docker     (121)      979 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/controllers/k8s_crd.py
--rw-r--r--   0 runner    (1001) docker     (121)     3843 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/controllers/logs.py
--rw-r--r--   0 runner    (1001) docker     (121)     1453 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/controllers/notebooks.py
--rw-r--r--   0 runner    (1001) docker     (121)     4056 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/controllers/uploads.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/streams/tasks/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/tasks/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2570 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/tasks/logs.py
--rw-r--r--   0 runner    (1001) docker     (121)     2606 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/streams/tasks/notification.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/tracking/
--rw-r--r--   0 runner    (1001) docker     (121)    21527 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3989 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/fastai.py
--rw-r--r--   0 runner    (1001) docker     (121)     1550 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/fastai_v1.py
--rw-r--r--   0 runner    (1001) docker     (121)     1104 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/ignite.py
--rw-r--r--   0 runner    (1001) docker     (121)     6362 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/keras.py
--rw-r--r--   0 runner    (1001) docker     (121)      974 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/lightgbm.py
--rw-r--r--   0 runner    (1001) docker     (121)     4273 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/pytorch_lightning.py
--rw-r--r--   0 runner    (1001) docker     (121)     3988 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/scikit.py
--rw-r--r--   0 runner    (1001) docker     (121)     4728 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/tensorboard.py
--rw-r--r--   0 runner    (1001) docker     (121)     2315 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/tensorflow.py
--rw-r--r--   0 runner    (1001) docker     (121)     2946 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/contrib/xgboost.py
--rw-r--r--   0 runner    (1001) docker     (121)    55447 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/tracking/run.py
--rw-r--r--   0 runner    (1001) docker     (121)     1908 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/utils/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1484 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/bool_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     2457 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/cache.py
--rw-r--r--   0 runner    (1001) docker     (121)     1252 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/cached_property.py
--rw-r--r--   0 runner    (1001) docker     (121)     1081 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/cli_constants.py
--rw-r--r--   0 runner    (1001) docker     (121)      749 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/click_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     1270 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/cmd.py
--rw-r--r--   0 runner    (1001) docker     (121)     5056 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/code_reference.py
--rw-r--r--   0 runner    (1001) docker     (121)      861 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/coroutine.py
--rw-r--r--   0 runner    (1001) docker     (121)     1210 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/csv_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     6843 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/date_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     1101 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/encoding.py
--rw-r--r--   0 runner    (1001) docker     (121)     1036 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/enums_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     2466 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/env.py
--rw-r--r--   0 runner    (1001) docker     (121)    10404 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/formatting.py
--rw-r--r--   0 runner    (1001) docker     (121)     1829 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/fqn_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)      756 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/hashing.py
--rw-r--r--   0 runner    (1001) docker     (121)      884 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/host_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     1737 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/http_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     2827 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/humanize.py
--rw-r--r--   0 runner    (1001) docker     (121)     1882 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/imports.py
--rw-r--r--   0 runner    (1001) docker     (121)     2188 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/indentation.py
--rw-r--r--   0 runner    (1001) docker     (121)     1068 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/list_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)      685 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/log_levels.py
--rw-r--r--   0 runner    (1001) docker     (121)     1430 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/manager_interface.py
--rw-r--r--   0 runner    (1001) docker     (121)     2479 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/memoize_decorators.py
--rw-r--r--   0 runner    (1001) docker     (121)     1631 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/np_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     7313 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/path_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     1101 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/query_params.py
--rw-r--r--   0 runner    (1001) docker     (121)     5973 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/requests_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     1158 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/sanitizers.py
--rw-r--r--   0 runner    (1001) docker     (121)     3821 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/signal_decorators.py
--rw-r--r--   0 runner    (1001) docker     (121)     2468 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/string_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     1757 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/tz_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     3725 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/units.py
--rw-r--r--   0 runner    (1001) docker     (121)     2037 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/urls_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)      910 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/validation.py
--rw-r--r--   0 runner    (1001) docker     (121)      851 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/versions.py
--rw-r--r--   0 runner    (1001) docker     (121)     1437 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/workers_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     1150 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/utils/yaml_utils.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon/vendor/
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/vendor/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    56892 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/polyaxon/vendor/pynvml.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon.egg-info/
--rw-r--r--   0 runner    (1001) docker     (121)    11347 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (121)    21427 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (121)        1 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (121)       72 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon.egg-info/entry_points.txt
--rw-r--r--   0 runner    (1001) docker     (121)      675 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon.egg-info/requires.txt
--rw-r--r--   0 runner    (1001) docker     (121)       15 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/polyaxon.egg-info/top_level.txt
--rw-r--r--   0 runner    (1001) docker     (121)     1312 2021-06-19 11:35:34.000000 polyaxon-1.9.6rc5/setup.cfg
--rw-r--r--   0 runner    (1001) docker     (121)     3551 2021-06-19 11:35:26.000000 polyaxon-1.9.6rc5/setup.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.597455 polyaxon-2.0.0rc0/
+-rw-r--r--   0 runner    (1001) docker     (123)      175 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (123)    10054 2023-04-07 15:21:39.597455 polyaxon-2.0.0rc0/PKG-INFO
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.497454 polyaxon-2.0.0rc0/polyaxon/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      644 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/__main__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.497454 polyaxon-2.0.0rc0/polyaxon/agents/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/agents/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4687 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/agents/agent.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16634 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/agents/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2801 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/agents/converter.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2842 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/agents/manager.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.501454 polyaxon-2.0.0rc0/polyaxon/agents/spawners/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/agents/spawners/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2651 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/agents/spawners/async_spawner.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1724 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/agents/spawners/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2925 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/agents/spawners/spawner.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2109 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/api.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.501454 polyaxon-2.0.0rc0/polyaxon/auxiliaries/
+-rw-r--r--   0 runner    (1001) docker     (123)     1223 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/auxiliaries/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7584 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/auxiliaries/cleaner.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2895 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/auxiliaries/default_scheduling.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4200 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/auxiliaries/init.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6387 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/auxiliaries/notifier.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5254 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/auxiliaries/sidecar.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1541 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/auxiliaries/tuner.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.501454 polyaxon-2.0.0rc0/polyaxon/builds/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/builds/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9202 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/builds/builder.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.501454 polyaxon-2.0.0rc0/polyaxon/builds/generator/
+-rw-r--r--   0 runner    (1001) docker     (123)      673 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/builds/generator/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1631 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/builds/generator/dockerfile.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2853 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/builds/generator/generator.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.505454 polyaxon-2.0.0rc0/polyaxon/cli/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9423 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/admin.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16965 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/artifacts.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5460 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/auth.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1941 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/check.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2621 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/completion.py
+-rw-r--r--   0 runner    (1001) docker     (123)    18387 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/components.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7058 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/config.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1979 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/dashboard.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1203 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/errors.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.505454 polyaxon-2.0.0rc0/polyaxon/cli/executor/
+-rw-r--r--   0 runner    (1001) docker     (123)      780 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/executor/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2709 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/executor/conda.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5582 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/executor/docker.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2885 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/executor/k8s.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8418 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/executor/platform.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8304 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/init.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/models.py
+-rw-r--r--   0 runner    (1001) docker     (123)    61973 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/operations.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2531 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/options.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3148 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/port_forward.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17141 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/project_versions.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12230 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/projects.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12689 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/run.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.505454 polyaxon-2.0.0rc0/polyaxon/cli/services/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/services/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2367 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/services/agent.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4300 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/services/clean_artifacts.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8440 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/services/docker.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10332 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/services/initializer.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2298 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/services/notifier.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2055 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/services/sidecar.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5554 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/services/tuner.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1502 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/services/wait.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6586 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/session.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1891 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5126 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/cli/version.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.509454 polyaxon-2.0.0rc0/polyaxon/client/
+-rw-r--r--   0 runner    (1001) docker     (123)      761 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8021 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/client.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.509454 polyaxon-2.0.0rc0/polyaxon/client/decorators/
+-rw-r--r--   0 runner    (1001) docker     (123)      789 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/decorators/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5237 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/decorators/client_call_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1042 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/decorators/errors.py
+-rw-r--r--   0 runner    (1001) docker     (123)      894 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/decorators/is_managed.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1901 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/impersonate.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1017 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/init.py
+-rw-r--r--   0 runner    (1001) docker     (123)    58628 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/project.py
+-rw-r--r--   0 runner    (1001) docker     (123)   107941 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/run.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.509454 polyaxon-2.0.0rc0/polyaxon/client/transport/
+-rw-r--r--   0 runner    (1001) docker     (123)     1875 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/transport/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6433 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/transport/http_transport.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5437 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/transport/periodic_transport.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1571 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/transport/retry_transport.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1933 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/transport/socket_transport.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4488 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/transport/threaded_transport.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2453 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/transport/ws_client.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.509454 polyaxon-2.0.0rc0/polyaxon/client/workers/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/workers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1844 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/workers/base_worker.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4120 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/workers/periodic_worker.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4211 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/client/workers/queue_worker.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.509454 polyaxon-2.0.0rc0/polyaxon/config_reader/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/config_reader/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13126 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/config_reader/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9758 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/config_reader/spec.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.509454 polyaxon-2.0.0rc0/polyaxon/connections/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.513454 polyaxon-2.0.0rc0/polyaxon/connections/aws/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/aws/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6256 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/aws/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7381 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/aws/service.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.513454 polyaxon-2.0.0rc0/polyaxon/connections/azure/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/azure/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4041 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/azure/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1693 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/azure/service.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1168 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/base.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.513454 polyaxon-2.0.0rc0/polyaxon/connections/gcp/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/gcp/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5193 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/gcp/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3395 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/gcp/service.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2945 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/kinds.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4559 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/reader.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.513454 polyaxon-2.0.0rc0/polyaxon/connections/schemas/
+-rw-r--r--   0 runner    (1001) docker     (123)      913 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/schemas/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3925 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/schemas/connections.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1076 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/connections/schemas/k8s_resources.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.513454 polyaxon-2.0.0rc0/polyaxon/constants/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/constants/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      723 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/constants/globals.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1399 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/constants/metadata.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.513454 polyaxon-2.0.0rc0/polyaxon/containers/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/containers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1934 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/containers/names.py
+-rw-r--r--   0 runner    (1001) docker     (123)      736 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/containers/pull_policy.py
+-rw-r--r--   0 runner    (1001) docker     (123)      709 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/containers/statuses.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.513454 polyaxon-2.0.0rc0/polyaxon/contexts/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/contexts/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1314 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/contexts/keys.py
+-rw-r--r--   0 runner    (1001) docker     (123)      660 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/contexts/params.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4409 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/contexts/paths.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4197 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/contexts/refs.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1375 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/contexts/sections.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.513454 polyaxon-2.0.0rc0/polyaxon/deploy/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.517454 polyaxon-2.0.0rc0/polyaxon/deploy/operators/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/operators/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2152 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/operators/cmd_operator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7853 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/operators/compose.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1179 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/operators/conda.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1517 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/operators/docker.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1383 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/operators/helm.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1807 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/operators/kubectl.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1143 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/operators/pip.py
+-rw-r--r--   0 runner    (1001) docker     (123)      830 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/reader.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.517454 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      883 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/auth.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1399 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/celery.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13189 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/deployment.py
+-rw-r--r--   0 runner    (1001) docker     (123)      953 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/deployment_types.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1133 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/email.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1011 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/ingress.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1139 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/intervals.py
+-rw-r--r--   0 runner    (1001) docker     (123)      922 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/operators.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1134 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/proxy.py
+-rw-r--r--   0 runner    (1001) docker     (123)      749 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/rbac.py
+-rw-r--r--   0 runner    (1001) docker     (123)      969 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/root_user.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1654 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/security_context.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4159 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/service.py
+-rw-r--r--   0 runner    (1001) docker     (123)      768 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/service_types.py
+-rw-r--r--   0 runner    (1001) docker     (123)      881 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/ssl.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1070 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/deploy/schemas/ui.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1215 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/dist.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.517454 polyaxon-2.0.0rc0/polyaxon/env_vars/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/env_vars/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.521454 polyaxon-2.0.0rc0/polyaxon/env_vars/getters/
+-rw-r--r--   0 runner    (1001) docker     (123)     1120 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/env_vars/getters/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1597 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/env_vars/getters/agent.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2288 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/env_vars/getters/owner_entity.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3282 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/env_vars/getters/project.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1177 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/env_vars/getters/queue.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3188 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/env_vars/getters/run.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1733 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/env_vars/getters/user.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3487 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/env_vars/getters/versioned_entity.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7797 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/env_vars/keys.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5469 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/exceptions.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.521454 polyaxon-2.0.0rc0/polyaxon/fs/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/fs/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11138 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/fs/async_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2619 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/fs/azure.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4167 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/fs/fs.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1291 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/fs/gcs.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1594 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/fs/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2275 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/fs/s3.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1495 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/fs/tar.py
+-rw-r--r--   0 runner    (1001) docker     (123)      764 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/fs/types.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5427 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/fs/watcher.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.521454 polyaxon-2.0.0rc0/polyaxon/init/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/init/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2465 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/init/artifacts.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1828 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/init/auth.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1159 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/init/dockerfile.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1275 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/init/file.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6513 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/init/git.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3334 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/init/tensorboard.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.525454 polyaxon-2.0.0rc0/polyaxon/k8s/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9513 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/async_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1121 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/constants.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.525454 polyaxon-2.0.0rc0/polyaxon/k8s/custom_resources/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/custom_resources/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1140 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/custom_resources/crd.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1229 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/custom_resources/operation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1119 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/events.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1793 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/k8s_schemas.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5328 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/k8s_validation.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.525454 polyaxon-2.0.0rc0/polyaxon/k8s/logging/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/logging/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3575 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/logging/async_monitor.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4022 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/logging/monitor.py
+-rw-r--r--   0 runner    (1001) docker     (123)    27030 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1474 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/monitor.py
+-rw-r--r--   0 runner    (1001) docker     (123)      637 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/namespace.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2071 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/nodes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1176 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/pods.py
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/k8s/run_instance.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11533 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/lifecycle.py
+-rw-r--r--   0 runner    (1001) docker     (123)      803 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/live_state.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3340 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/logger.py
+-rwxr-xr-x   0 runner    (1001) docker     (123)     6167 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/main.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.529454 polyaxon-2.0.0rc0/polyaxon/managers/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1962 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/agent.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1895 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/auth.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8806 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2713 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/cli.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1603 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/client.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1122 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/compose.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14583 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/deploy.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1308 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/git.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1614 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/home.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7551 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/ignore.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1439 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/project.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1211 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/run.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1304 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/managers/user.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.529454 polyaxon-2.0.0rc0/polyaxon/notifiers/
+-rw-r--r--   0 runner    (1001) docker     (123)     1492 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/notifiers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5690 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/notifiers/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2105 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/notifiers/discord_webhook.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1956 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/notifiers/hipchat_webhook.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1049 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/notifiers/keys.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2414 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/notifiers/mattermost_webhook.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2418 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/notifiers/pagerduty_webhook.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2849 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/notifiers/slack_webhook.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2517 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/notifiers/spec.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2695 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/notifiers/webhook.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.529454 polyaxon-2.0.0rc0/polyaxon/operations/
+-rw-r--r--   0 runner    (1001) docker     (123)      881 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/operations/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2718 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/operations/cleaner.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2688 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/operations/notifier.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2699 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/operations/tuner.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.529454 polyaxon-2.0.0rc0/polyaxon/parser/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/parser/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      640 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/parser/constants.py
+-rw-r--r--   0 runner    (1001) docker     (123)    40787 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/parser/parser.py
+-rw-r--r--   0 runner    (1001) docker     (123)      871 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/pkg.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.529454 polyaxon-2.0.0rc0/polyaxon/plugins/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/plugins/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1563 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/plugins/sentry.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.529454 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/
+-rw-r--r--   0 runner    (1001) docker     (123)     1081 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9818 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/check.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.533455 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/manager/
+-rw-r--r--   0 runner    (1001) docker     (123)      830 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/manager/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4749 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/manager/operations.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4982 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/manager/workflows.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3606 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/params.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.533455 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/
+-rw-r--r--   0 runner    (1001) docker     (123)     1467 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4717 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)    34545 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/compiled_operation.py
+-rw-r--r--   0 runner    (1001) docker     (123)      966 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/component.py
+-rw-r--r--   0 runner    (1001) docker     (123)      746 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/kinds.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.533455 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/libs/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/libs/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      977 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/libs/engine.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10994 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/libs/parser.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1546 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/libs/validator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5026 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/operation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2777 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/sections.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.533455 polyaxon-2.0.0rc0/polyaxon/polyboard/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyboard/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      743 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyboard/artifacts.py
+-rw-r--r--   0 runner    (1001) docker     (123)      669 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyboard/events.py
+-rw-r--r--   0 runner    (1001) docker     (123)      690 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyboard/logging.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.533455 polyaxon-2.0.0rc0/polyaxon/polyflow/
+-rw-r--r--   0 runner    (1001) docker     (123)     3477 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.533455 polyaxon-2.0.0rc0/polyaxon/polyflow/builds/
+-rw-r--r--   0 runner    (1001) docker     (123)     7345 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/builds/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.533455 polyaxon-2.0.0rc0/polyaxon/polyflow/cache/
+-rw-r--r--   0 runner    (1001) docker     (123)     3475 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/cache/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.533455 polyaxon-2.0.0rc0/polyaxon/polyflow/component/
+-rw-r--r--   0 runner    (1001) docker     (123)      748 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/component/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1963 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/component/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12553 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/component/component.py
+-rw-r--r--   0 runner    (1001) docker     (123)      976 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/component/component_reference.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.537454 polyaxon-2.0.0rc0/polyaxon/polyflow/containers/
+-rw-r--r--   0 runner    (1001) docker     (123)      683 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/containers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1295 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/containers/container.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.537454 polyaxon-2.0.0rc0/polyaxon/polyflow/dags/
+-rw-r--r--   0 runner    (1001) docker     (123)     4082 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/dags/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.537454 polyaxon-2.0.0rc0/polyaxon/polyflow/early_stopping/
+-rw-r--r--   0 runner    (1001) docker     (123)     1043 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/early_stopping/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7133 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/early_stopping/policies.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.537454 polyaxon-2.0.0rc0/polyaxon/polyflow/environment/
+-rw-r--r--   0 runner    (1001) docker     (123)    15301 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/environment/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.537454 polyaxon-2.0.0rc0/polyaxon/polyflow/events/
+-rw-r--r--   0 runner    (1001) docker     (123)     7716 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/events/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.537454 polyaxon-2.0.0rc0/polyaxon/polyflow/hooks/
+-rw-r--r--   0 runner    (1001) docker     (123)     7126 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/hooks/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.537454 polyaxon-2.0.0rc0/polyaxon/polyflow/init/
+-rw-r--r--   0 runner    (1001) docker     (123)    11450 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/init/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.537454 polyaxon-2.0.0rc0/polyaxon/polyflow/io/
+-rw-r--r--   0 runner    (1001) docker     (123)      646 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/io/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15956 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/io/io.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.537454 polyaxon-2.0.0rc0/polyaxon/polyflow/joins/
+-rw-r--r--   0 runner    (1001) docker     (123)     6900 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/joins/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.541454 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/
+-rw-r--r--   0 runner    (1001) docker     (123)     2810 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      851 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14534 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/bayes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6627 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/grid_search.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15427 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/hyperband.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7332 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/hyperopt.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7766 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/iterative.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1620 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/kinds.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3929 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/mapping.py
+-rw-r--r--   0 runner    (1001) docker     (123)    27049 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/params.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6650 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/random_search.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3804 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/tuner.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.541454 polyaxon-2.0.0rc0/polyaxon/polyflow/mounts/
+-rw-r--r--   0 runner    (1001) docker     (123)      676 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/mounts/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      858 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/mounts/artifacts_mounts.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.541454 polyaxon-2.0.0rc0/polyaxon/polyflow/notifications/
+-rw-r--r--   0 runner    (1001) docker     (123)     2625 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/notifications/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.541454 polyaxon-2.0.0rc0/polyaxon/polyflow/operations/
+-rw-r--r--   0 runner    (1001) docker     (123)      748 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/operations/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2894 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/operations/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5185 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/operations/compiled_operation.py
+-rw-r--r--   0 runner    (1001) docker     (123)    23776 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/operations/operation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2752 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/operators.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.541454 polyaxon-2.0.0rc0/polyaxon/polyflow/optimization/
+-rw-r--r--   0 runner    (1001) docker     (123)     2511 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/optimization/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.541454 polyaxon-2.0.0rc0/polyaxon/polyflow/params/
+-rw-r--r--   0 runner    (1001) docker     (123)      668 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/params/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12382 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/params/ops_params.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19135 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/params/params.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.541454 polyaxon-2.0.0rc0/polyaxon/polyflow/plugins/
+-rw-r--r--   0 runner    (1001) docker     (123)     9323 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/plugins/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.541454 polyaxon-2.0.0rc0/polyaxon/polyflow/references/
+-rw-r--r--   0 runner    (1001) docker     (123)      878 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/references/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      990 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/references/dag.py
+-rw-r--r--   0 runner    (1001) docker     (123)      990 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/references/hub.py
+-rw-r--r--   0 runner    (1001) docker     (123)      686 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/references/mixin.py
+-rw-r--r--   0 runner    (1001) docker     (123)      993 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/references/path.py
+-rw-r--r--   0 runner    (1001) docker     (123)      988 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/references/url.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.545455 polyaxon-2.0.0rc0/polyaxon/polyflow/run/
+-rw-r--r--   0 runner    (1001) docker     (123)     4520 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      967 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)      848 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/cleaner.py
+-rw-r--r--   0 runner    (1001) docker     (123)    23693 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/dag.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9497 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/dask.py
+-rw-r--r--   0 runner    (1001) docker     (123)      965 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/flink.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8171 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1961 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kinds.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.545455 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      743 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/clean_pod_policy.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5648 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/mpi_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9391 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/mx_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5420 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/paddle_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5306 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/pytorch_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7827 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/replica.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1020 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/scheduling_policy.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7509 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/tf_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6151 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/xgboost_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)      850 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/notifier.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3747 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/patch.py
+-rw-r--r--   0 runner    (1001) docker     (123)      963 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/ray.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3648 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/resources.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10132 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/service.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.545455 polyaxon-2.0.0rc0/polyaxon/polyflow/run/spark/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/spark/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5383 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/spark/replica.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8732 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/spark/spark.py
+-rw-r--r--   0 runner    (1001) docker     (123)      844 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/tuner.py
+-rw-r--r--   0 runner    (1001) docker     (123)      829 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/run/utils.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.549455 polyaxon-2.0.0rc0/polyaxon/polyflow/schedules/
+-rw-r--r--   0 runner    (1001) docker     (123)     1542 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/schedules/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3435 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/schedules/cron.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2274 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/schedules/datetime.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3732 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/schedules/interval.py
+-rw-r--r--   0 runner    (1001) docker     (123)      749 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/schedules/kinds.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.549455 polyaxon-2.0.0rc0/polyaxon/polyflow/templates/
+-rw-r--r--   0 runner    (1001) docker     (123)     3274 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/templates/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.549455 polyaxon-2.0.0rc0/polyaxon/polyflow/termination/
+-rw-r--r--   0 runner    (1001) docker     (123)     4105 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/termination/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1277 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyflow/trigger_policies.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.549455 polyaxon-2.0.0rc0/polyaxon/polyplot/
+-rw-r--r--   0 runner    (1001) docker     (123)      705 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polyplot/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.549455 polyaxon-2.0.0rc0/polyaxon/polypod/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.549455 polyaxon-2.0.0rc0/polyaxon/polypod/common/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/common/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1814 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/common/accelerators.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1848 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/common/annotations.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1020 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/common/constants.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1492 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/common/container_resources.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4322 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/common/containers.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12347 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/common/env_vars.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3334 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/common/mounts.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2454 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/common/setter.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1124 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/common/stores.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4361 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/common/volumes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.549455 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/
+-rw-r--r--   0 runner    (1001) docker     (123)     2356 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6908 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/config.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.553455 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/
+-rw-r--r--   0 runner    (1001) docker     (123)      717 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2869 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7030 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/contexts.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1383 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/job.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.553455 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/
+-rw-r--r--   0 runner    (1001) docker     (123)     1162 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1837 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/mpi_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2052 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/mx_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1843 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/paddle_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1846 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/pytroch_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1922 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/tf_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1845 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/xgb_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2496 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/service.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3263 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converter.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.553455 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/
+-rw-r--r--   0 runner    (1001) docker     (123)     2918 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    30602 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1590 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/helpers.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3136 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/job.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.553455 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/
+-rw-r--r--   0 runner    (1001) docker     (123)     1133 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3602 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/mpi_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3932 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/mx_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3570 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/paddle_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3579 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/pytroch_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3760 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/tf_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3606 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/xgboost_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3326 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/service.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.557455 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/lineage/
+-rw-r--r--   0 runner    (1001) docker     (123)      687 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/lineage/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1153 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/lineage/artifacts_collector.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1358 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/lineage/collector.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2584 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/lineage/io_collector.py
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/lineage/params_collector.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.557455 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/resolver/
+-rw-r--r--   0 runner    (1001) docker     (123)      749 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/resolver/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10334 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/resolver/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3427 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/compiler/resolver/resolver.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.557455 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/
+-rw-r--r--   0 runner    (1001) docker     (123)     1023 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2685 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/job.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.557455 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/
+-rw-r--r--   0 runner    (1001) docker     (123)     1196 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1648 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/common.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3177 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/mpi_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4309 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/mx_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3055 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/paddle_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3057 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/pytorch_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3745 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/tf_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3053 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/xgb_job.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2962 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/service.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.557455 polyaxon-2.0.0rc0/polyaxon/polypod/init/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/init/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3511 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/init/artifacts.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1541 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/init/auth.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3497 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/init/custom.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3082 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/init/dockerfile.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3071 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/init/file.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5414 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/init/git.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9973 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/init/store.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3728 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/init/tensorboard.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polypod/main/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/main/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4041 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/main/container.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2538 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/main/env_vars.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2237 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/main/k8s_resources.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2867 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/main/volumes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3249 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/mixins.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polypod/pod/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/pod/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3238 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/pod/spec.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5282 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/pod/volumes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polypod/sidecar/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/sidecar/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5070 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/sidecar/container.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1270 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/sidecar/env_vars.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polypod/specs/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/specs/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3190 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/specs/contexts.py
+-rw-r--r--   0 runner    (1001) docker     (123)      831 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polypod/specs/replica.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polytune/
+-rw-r--r--   0 runner    (1001) docker     (123)      639 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polytune/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/
+-rw-r--r--   0 runner    (1001) docker     (123)      639 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/bayesian_optimization/
+-rw-r--r--   0 runner    (1001) docker     (123)      727 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/bayesian_optimization/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/grid_search/
+-rw-r--r--   0 runner    (1001) docker     (123)      716 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/grid_search/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/hyperband/
+-rw-r--r--   0 runner    (1001) docker     (123)      713 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/hyperband/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/hyperopt/
+-rw-r--r--   0 runner    (1001) docker     (123)      711 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/hyperopt/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/mapping/
+-rw-r--r--   0 runner    (1001) docker     (123)      709 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/mapping/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/random_search/
+-rw-r--r--   0 runner    (1001) docker     (123)      720 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/random_search/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.561455 polyaxon-2.0.0rc0/polyaxon/pql/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/pql/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17927 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/pql/builder.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6121 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/pql/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14513 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/pql/parser.py
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/py.typed
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.565455 polyaxon-2.0.0rc0/polyaxon/schemas/
+-rw-r--r--   0 runner    (1001) docker     (123)      715 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.565455 polyaxon-2.0.0rc0/polyaxon/schemas/api/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/api/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1467 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/api/authentication.py
+-rw-r--r--   0 runner    (1001) docker     (123)      899 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/api/compatibility.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1101 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/api/home.py
+-rw-r--r--   0 runner    (1001) docker     (123)      951 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/api/installation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1010 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/api/log_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1959 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/api/resources.py
+-rw-r--r--   0 runner    (1001) docker     (123)      932 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/api/user.py
+-rw-r--r--   0 runner    (1001) docker     (123)      813 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/api/version.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15451 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/base.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.565455 polyaxon-2.0.0rc0/polyaxon/schemas/cli/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/cli/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11028 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/cli/agent_config.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1923 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/cli/checks_config.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1726 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/cli/cli_config.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7848 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/cli/client_config.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.569455 polyaxon-2.0.0rc0/polyaxon/schemas/fields/
+-rw-r--r--   0 runner    (1001) docker     (123)      964 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/fields/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1296 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/fields/docker_image.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2392 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/fields/email.py
+-rw-r--r--   0 runner    (1001) docker     (123)      762 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/fields/number.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1662 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/fields/ref_or_obj.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1186 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/fields/uuids.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1134 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/patch_strategy.py
+-rw-r--r--   0 runner    (1001) docker     (123)      765 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/pending.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.577455 polyaxon-2.0.0rc0/polyaxon/schemas/responses/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1108 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_activity.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1399 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_agent.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1062 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_agent_state_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1023 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_agent_state_response_agent_state.py
+-rw-r--r--   0 runner    (1001) docker     (123)      961 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_agent_status_body_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)      886 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_analytics_spec.py
+-rw-r--r--   0 runner    (1001) docker     (123)      874 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_artifact_tree.py
+-rw-r--r--   0 runner    (1001) docker     (123)      779 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_auth.py
+-rw-r--r--   0 runner    (1001) docker     (123)      931 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_cloning.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1202 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_connection_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1208 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_dashboard.py
+-rw-r--r--   0 runner    (1001) docker     (123)      844 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_dashboard_spec.py
+-rw-r--r--   0 runner    (1001) docker     (123)      877 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_entities_tags.py
+-rw-r--r--   0 runner    (1001) docker     (123)      878 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_entities_transfer.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1108 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_entity_notification_body.py
+-rw-r--r--   0 runner    (1001) docker     (123)      979 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_entity_stage_body_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1021 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_entity_status_body_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)      784 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_events_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      963 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_activities_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      950 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_agents_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      915 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_bookmarks_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      995 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_connections_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      966 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_dashboards_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1003 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_organization_members_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      978 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_organizations_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      954 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_presets_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      987 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_project_versions_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      958 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_projects_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      950 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_queues_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      950 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_run_artifacts_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      983 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_run_connections_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      959 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_run_edges_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      942 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_runs_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      955 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_searches_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      987 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_service_accounts_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      942 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_tags_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      971 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_team_members_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      946 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_teams_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      949 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_token_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1059 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_operation_body.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1360 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_organization.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1037 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_organization_member.py
+-rw-r--r--   0 runner    (1001) docker     (123)      874 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_password_change.py
+-rw-r--r--   0 runner    (1001) docker     (123)      944 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_pipeline.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1126 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_preset.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1438 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_project.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1200 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_project_settings.py
+-rw-r--r--   0 runner    (1001) docker     (123)      854 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_project_user_access.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1597 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_project_version.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1237 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_queue.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2501 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_run.py
+-rw-r--r--   0 runner    (1001) docker     (123)      889 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_run_connection.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1058 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_run_edge.py
+-rw-r--r--   0 runner    (1001) docker     (123)      857 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_run_reference_catalog.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1318 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_run_settings.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1273 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_search.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1376 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_search_spec.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1051 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_section_spec.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1152 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_service_account.py
+-rw-r--r--   0 runner    (1001) docker     (123)      861 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_settings_catalog.py
+-rw-r--r--   0 runner    (1001) docker     (123)      994 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_tag.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1205 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_team.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1033 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_team_member.py
+-rw-r--r--   0 runner    (1001) docker     (123)      899 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_team_settings.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1187 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_token.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1001 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_trial_start.py
+-rw-r--r--   0 runner    (1001) docker     (123)      986 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_user.py
+-rw-r--r--   0 runner    (1001) docker     (123)      796 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_user_email.py
+-rw-r--r--   0 runner    (1001) docker     (123)      975 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_user_singup.py
+-rw-r--r--   0 runner    (1001) docker     (123)      802 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_uuids.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2066 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/services.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.581455 polyaxon-2.0.0rc0/polyaxon/schemas/types/
+-rw-r--r--   0 runner    (1001) docker     (123)     1325 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5570 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/artifacts.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2423 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/auth.py
+-rw-r--r--   0 runner    (1001) docker     (123)      750 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13572 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/connections.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7822 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/dockerfile.py
+-rw-r--r--   0 runner    (1001) docker     (123)      844 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/event.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4269 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/file.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2322 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/gcs.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4188 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/git.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1352 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/k8s_resources.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2296 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/s3.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4632 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/tensorboard.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2284 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/uri.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2823 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/schemas/types/wasb.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.581455 polyaxon-2.0.0rc0/polyaxon/sdk/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.585455 polyaxon-2.0.0rc0/polyaxon/sdk/api/
+-rw-r--r--   0 runner    (1001) docker     (123)     1705 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)   111064 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/agents_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8995 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/artifacts_stores_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    36422 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/auth_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    54976 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/connections_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    54413 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/dashboards_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)   277371 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/organizations_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    55532 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/presets_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    66019 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/project_dashboards_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    65660 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/project_searches_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)   245065 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/projects_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    77685 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/queues_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)   497021 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/runs_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    53886 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/searches_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)   101617 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/service_accounts_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    60519 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/tags_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    99633 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/teams_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    73259 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/users_v1_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19041 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/api/versions_v1_api.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.589455 polyaxon-2.0.0rc0/polyaxon/sdk/async_client/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/async_client/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7357 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/async_client/api_client.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9814 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/async_client/rest.py
+-rw-r--r--   0 runner    (1001) docker     (123)      996 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/base_api.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15722 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/configuration.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4776 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/exceptions.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6642 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/models.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.589455 polyaxon-2.0.0rc0/polyaxon/sdk/sync_client/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/sync_client/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    29097 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/sync_client/api_client.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13225 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sdk/sync_client/rest.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.589455 polyaxon-2.0.0rc0/polyaxon/services/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/services/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      833 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/services/auth.py
+-rw-r--r--   0 runner    (1001) docker     (123)      676 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/services/ephemeral.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1139 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/services/headers.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2926 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/services/values.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4133 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/settings.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.589455 polyaxon-2.0.0rc0/polyaxon/sidecar/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sidecar/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.589455 polyaxon-2.0.0rc0/polyaxon/sidecar/container/
+-rw-r--r--   0 runner    (1001) docker     (123)     5108 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sidecar/container/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      910 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sidecar/container/intervals.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.589455 polyaxon-2.0.0rc0/polyaxon/sidecar/container/monitors/
+-rw-r--r--   0 runner    (1001) docker     (123)      741 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sidecar/container/monitors/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3346 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sidecar/container/monitors/artifacts.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1862 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sidecar/container/monitors/logs.py
+-rw-r--r--   0 runner    (1001) docker     (123)      687 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sidecar/ignore.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3715 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/sidecar/processor.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.589455 polyaxon-2.0.0rc0/polyaxon/stores/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/stores/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11658 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/stores/polyaxon_store.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.589455 polyaxon-2.0.0rc0/polyaxon/tracking/
+-rw-r--r--   0 runner    (1001) docker     (123)     2155 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.593455 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      760 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/fastai.py
+-rw-r--r--   0 runner    (1001) docker     (123)      729 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/fastai_v1.py
+-rw-r--r--   0 runner    (1001) docker     (123)      732 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/hugging_face.py
+-rw-r--r--   0 runner    (1001) docker     (123)      750 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/ignite.py
+-rw-r--r--   0 runner    (1001) docker     (123)      758 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/keras.py
+-rw-r--r--   0 runner    (1001) docker     (123)      729 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/lightgbm.py
+-rw-r--r--   0 runner    (1001) docker     (123)      737 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/pytorch_lightning.py
+-rw-r--r--   0 runner    (1001) docker     (123)      710 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/scikit.py
+-rw-r--r--   0 runner    (1001) docker     (123)      736 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/tensorboard.py
+-rw-r--r--   0 runner    (1001) docker     (123)      764 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/tensorflow.py
+-rw-r--r--   0 runner    (1001) docker     (123)      766 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/contrib/xgboost.py
+-rw-r--r--   0 runner    (1001) docker     (123)      677 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/tracking/run.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1936 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.593455 polyaxon-2.0.0rc0/polyaxon/utils/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2320 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/cache.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1400 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/cli_constants.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.597455 polyaxon-2.0.0rc0/polyaxon/utils/fixtures/
+-rw-r--r--   0 runner    (1001) docker     (123)     1799 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/fixtures/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2154 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/fixtures/backfill.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4463 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/fixtures/bo.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1021 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/fixtures/build.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2577 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/fixtures/grid.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9711 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/fixtures/jobs.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3903 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/fixtures/mapping.py
+-rw-r--r--   0 runner    (1001) docker     (123)    22732 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/fixtures/pipelines.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3245 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/fixtures/schedule.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2919 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/fixtures/services.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2480 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/formatting.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2883 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/fqn_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)      866 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/host_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7160 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/test_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2436 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/utils/urls_utils.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.597455 polyaxon-2.0.0rc0/polyaxon/vendor/
+-rw-r--r--   0 runner    (1001) docker     (123)      604 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/vendor/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6910 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon/vendor/shell_pty.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.497454 polyaxon-2.0.0rc0/polyaxon.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (123)    10054 2023-04-07 15:21:39.000000 polyaxon-2.0.0rc0/polyaxon.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)    23047 2023-04-07 15:21:39.000000 polyaxon-2.0.0rc0/polyaxon.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        1 2023-04-07 15:21:39.000000 polyaxon-2.0.0rc0/polyaxon.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       72 2023-04-07 15:21:39.000000 polyaxon-2.0.0rc0/polyaxon.egg-info/entry_points.txt
+-rw-r--r--   0 runner    (1001) docker     (123)      680 2023-04-07 15:21:39.000000 polyaxon-2.0.0rc0/polyaxon.egg-info/requires.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       22 2023-04-07 15:21:39.000000 polyaxon-2.0.0rc0/polyaxon.egg-info/top_level.txt
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-07 15:21:39.597455 polyaxon-2.0.0rc0/polyaxon_sdk/
+-rw-r--r--   0 runner    (1001) docker     (123)     2065 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/polyaxon_sdk/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1543 2023-04-07 15:21:39.597455 polyaxon-2.0.0rc0/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (123)     4803 2023-04-07 15:21:29.000000 polyaxon-2.0.0rc0/setup.py
```

### filetype from file(1)

```diff
@@ -1 +1 @@
-POSIX tar archive (GNU)
+POSIX tar archive
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/agents/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/agents/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/agents/agent.py` & `polyaxon-2.0.0rc0/polyaxon/agents/agent.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,30 +14,31 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import atexit
 import sys
 import time
 
-from typing import Dict
+from typing import Dict, Optional
 
-from polyaxon_sdk import V1Agent
-from polyaxon_sdk.rest import ApiException
+from clipped.versions import clean_version_for_check
 from urllib3.exceptions import HTTPError
 
 from polyaxon import pkg, settings
 from polyaxon.agents.base import BaseAgent
 from polyaxon.auxiliaries import V1PolyaxonInitContainer, V1PolyaxonSidecarContainer
 from polyaxon.lifecycle import V1StatusCondition, V1Statuses
+from polyaxon.schemas.responses.v1_agent import V1Agent
+from polyaxon.schemas.responses.v1_agent_state_response import V1AgentStateResponse
 from polyaxon.schemas.types import V1ConnectionType
-from polyaxon.utils.versions import clean_version_for_check
+from polyaxon.sdk.exceptions import ApiException
 
 
 class Agent(BaseAgent):
-    def __init__(self, owner, agent_uuid):
+    def __init__(self, owner: str, agent_uuid: str):
         super().__init__(sleep_interval=None)
 
         self.owner = owner
         self.agent_uuid = agent_uuid
         self._register()
 
     def _register(self):
@@ -56,23 +57,25 @@
         atexit.register(self._wait)
 
     def _wait(self):
         if not self._graceful_shutdown:
             self.log_agent_warning()
         time.sleep(1)
 
-    def get_info(self):
+    def get_info(self) -> V1Agent:
         return self.client.agents_v1.get_agent(owner=self.owner, uuid=self.agent_uuid)
 
-    def get_state(self):
+    def get_state(self) -> V1AgentStateResponse:
         return self.client.agents_v1.get_agent_state(
             owner=self.owner, uuid=self.agent_uuid
         )
 
-    def log_agent_status(self, status: str, reason: str = None, message: str = None):
+    def log_agent_status(
+        self, status: str, reason: Optional[str] = None, message: Optional[str] = None
+    ):
         status_condition = V1StatusCondition.get_condition(
             type=status, status=True, reason=reason, message=message
         )
         self.client.agents_v1.create_agent_status(
             owner=self.owner,
             uuid=self.agent_uuid,
             body={"condition": status_condition},
@@ -80,40 +83,40 @@
         )
 
     def sync(self):
         self.client.agents_v1.sync_agent(
             owner=self.owner,
             agent_uuid=self.agent_uuid,
             body=V1Agent(
-                content=settings.AGENT_CONFIG.to_dict(dump=True),
+                content=settings.AGENT_CONFIG.to_json(),
                 version=clean_version_for_check(pkg.VERSION),
                 version_api=self.spawner.k8s_manager.get_version(),
             ),
         )
 
     def sync_compatible_updates(self, compatible_updates: Dict):
         if compatible_updates and settings.AGENT_CONFIG:
             init = compatible_updates.get("init")
-            if init:
+            if init and settings.AGENT_CONFIG.init:
                 init = V1PolyaxonInitContainer.from_dict(init)
                 settings.AGENT_CONFIG.init = settings.AGENT_CONFIG.init.patch(init)
 
             sidecar = compatible_updates.get("sidecar")
-            if sidecar:
+            if sidecar and settings.AGENT_CONFIG.sidecar:
                 sidecar = V1PolyaxonSidecarContainer.from_dict(sidecar)
                 settings.AGENT_CONFIG.sidecar = settings.AGENT_CONFIG.sidecar.patch(
                     sidecar
                 )
             connections = compatible_updates.get("connections")
             if connections:
                 settings.AGENT_CONFIG.connections = [
                     V1ConnectionType.from_dict(c) for c in connections
                 ]
 
-            self.content = settings.AGENT_CONFIG.to_dict(dump=True)
+            self.content = settings.AGENT_CONFIG.to_json()
             self.sync()
 
     def log_agent_running(self):
         self.log_agent_status(status=V1Statuses.RUNNING, reason="AgentLogger")
 
     def log_agent_failed(self, message=None):
         self.log_agent_status(
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/agents/base.py` & `polyaxon-2.0.0rc0/polyaxon/agents/base.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,69 +13,69 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import time
 import traceback
 
 from concurrent.futures import ThreadPoolExecutor
-from typing import Dict, Tuple
-
-import polyaxon_sdk
+from typing import Dict, Optional, Tuple
 
+from clipped.tz_utils import now
+from clipped.workers_utils import exit_context, get_pool_workers, get_wait
 from kubernetes.client.rest import ApiException
 
 from polyaxon import live_state, settings
 from polyaxon.agents import converter
 from polyaxon.agents.spawners.spawner import Spawner
 from polyaxon.client import PolyaxonClient
 from polyaxon.env_vars.getters import get_run_info
 from polyaxon.exceptions import PolypodException
 from polyaxon.lifecycle import V1StatusCondition, V1Statuses
 from polyaxon.logger import logger
 from polyaxon.schemas.cli.checks_config import ChecksConfig
-from polyaxon.utils.tz_utils import now
-from polyaxon.utils.workers_utils import exit_context, get_pool_workers, get_wait
+from polyaxon.schemas.responses.v1_agent import V1Agent
+from polyaxon.schemas.responses.v1_agent_state_response import V1AgentStateResponse
 
 
 class BaseAgent:
     HEALTH_FILE = "/tmp/.healthz"
     SLEEP_STOP_TIME = 60 * 5
     SLEEP_ARCHIVED_TIME = 60 * 60
 
     def __init__(self, sleep_interval=None):
         self.sleep_interval = sleep_interval
         self.spawner = Spawner()
         self._spawner_refreshed_at = now()
         self.client = PolyaxonClient()
         self._graceful_shutdown = False
-        self.content = settings.AGENT_CONFIG.to_dict(dump=True)
+        self.content = settings.AGENT_CONFIG.to_json()
 
-    def get_info(self) -> polyaxon_sdk.V1Agent:
+    def get_info(self) -> V1Agent:
         raise NotImplementedError
 
-    def get_state(self) -> polyaxon_sdk.V1AgentStateResponse:
+    def get_state(self) -> V1AgentStateResponse:
         raise NotImplementedError
 
     def sync_compatible_updates(self, compatible_updates: Dict):
         raise NotImplementedError
 
     @classmethod
-    def get_healthz_config(cls):
+    def get_healthz_config(cls) -> Optional[ChecksConfig]:
         try:
             return ChecksConfig.read(cls.HEALTH_FILE, config_type=".json")
         except Exception:  # noqa
-            return
+            return None
 
     @classmethod
     def ping(cls):
         ChecksConfig.init_file(cls.HEALTH_FILE)
         config = cls.get_healthz_config()
         if config:
             config.last_check = now()
-            config.write(cls.HEALTH_FILE)
+            config.write(cls.HEALTH_FILE, mode=config._WRITE_MODE)
 
     @classmethod
     def pong(cls, interval: int = 15) -> bool:
         config = cls.get_healthz_config()
         if not config:
             return False
         return not config.should_check(interval=interval)
@@ -84,15 +84,15 @@
         if (
             now() - self._spawner_refreshed_at
         ).total_seconds() > settings.AGENT_CONFIG.get_spawner_refresh_interval():
             logger.debug("Refreshing spawner ... ")
             self.spawner.refresh()
             self._spawner_refreshed_at = now()
 
-    def start(self) -> None:
+    def start(self):
         try:
             with exit_context() as exit_event:
                 index = 0
                 workers = get_pool_workers()
 
                 with ThreadPoolExecutor(workers) as pool:
                     logger.debug("Thread pool Workers: {}".format(workers))
@@ -122,38 +122,42 @@
             print(
                 "Agent has been archived from the platform,"
                 "but the deployment is still running."
                 "Please either restore the agent or teardown the agent deployment."
             )
             self.end(sleep=self.SLEEP_ARCHIVED_TIME)
 
-    def end(self, sleep: int = None):
+    def end(self, sleep: Optional[int] = None):
         self._graceful_shutdown = True
         if sleep:
             time.sleep(sleep)
         else:
             logger.info("Agent is shutting down.")
 
-    def process(self, pool: "ThreadPoolExecutor") -> polyaxon_sdk.V1AgentStateResponse:
+    def process(self, pool: "ThreadPoolExecutor") -> V1AgentStateResponse:
         try:
             agent_state = self.get_state()
             if agent_state.compatible_updates:
                 self.sync_compatible_updates(agent_state.compatible_updates)
 
             if agent_state:
                 logger.info("Starting runs submission process.")
             else:
                 logger.info("No state was found.")
-                return polyaxon_sdk.V1AgentStateResponse()
+                return V1AgentStateResponse.construct()
 
             state = agent_state.state
+            if not state:
+                return agent_state
             for run_data in state.schedules or []:
                 pool.submit(self.submit_run, run_data)
             for run_data in state.queued or []:
                 pool.submit(self.submit_run, run_data)
+            for run_data in state.checks or []:
+                pool.submit(self.check_run, run_data)
             for run_data in state.stopping or []:
                 pool.submit(self.stop_run, run_data)
             for run_data in state.apply or []:
                 pool.submit(self.apply_run, run_data)
             for run_data in state.deleting or []:
                 pool.submit(self.delete_run, run_data)
             for run_data in state.hooks or []:
@@ -161,63 +165,61 @@
             for run_data in state.watchdogs or []:
                 pool.submit(self.make_and_create_run, run_data)
             for run_data in state.tuners or []:
                 pool.submit(self.make_and_create_run, run_data, True)
             return agent_state
         except Exception as exc:
             logger.error(exc)
-            return polyaxon_sdk.V1AgentStateResponse()
+            return V1AgentStateResponse.construct()
 
     def log_run_failed(
         self,
         run_owner: str,
         run_project: str,
         run_uuid: str,
         exc: Exception,
-        message: str = None,
-    ) -> None:
+        message: Optional[str] = None,
+    ):
         message = message or "Agent failed deploying run.\n"
         message += "error: {}\n{}".format(repr(exc), traceback.format_exc())
         self.log_run_status(
             run_owner=run_owner,
             run_project=run_project,
             run_uuid=run_uuid,
             status=V1Statuses.FAILED,
             reason="AgentLogger",
             message=message,
         )
         logger.warning(message)
 
-    def log_run_stopped(self, run_owner: str, run_project: str, run_uuid: str) -> None:
+    def log_run_stopped(self, run_owner: str, run_project: str, run_uuid: str):
         message = "Run was not found. The agent assumed it was already stopped."
         self.log_run_status(
             run_owner=run_owner,
             run_project=run_project,
             run_uuid=run_uuid,
             status=V1Statuses.STOPPED,
             reason="AgentLogger",
             message=message,
         )
         logger.warning(message)
 
-    def log_run_scheduled(
-        self, run_owner: str, run_project: str, run_uuid: str
-    ) -> None:
+    def log_run_scheduled(self, run_owner: str, run_project: str, run_uuid: str):
         message = "Run was scheduled by the agent."
         self.log_run_status(
             run_owner=run_owner,
             run_project=run_project,
             run_uuid=run_uuid,
             status=V1Statuses.SCHEDULED,
             reason="AgentLogger",
             message=message,
         )
         logger.info(message)
 
-    def log_run_running(self, run_owner: str, run_project: str, run_uuid: str) -> None:
+    def log_run_running(self, run_owner: str, run_project: str, run_uuid: str):
         message = "Run changes were applied by the agent."
         self.log_run_status(
             run_owner=run_owner,
             run_project=run_project,
             run_uuid=run_uuid,
             status=V1Statuses.RUNNING,
             reason="AgentLogger",
@@ -227,16 +229,16 @@
 
     def log_run_status(
         self,
         run_owner: str,
         run_project: str,
         run_uuid: str,
         status: str,
-        reason: str = None,
-        message: str = None,
+        reason: Optional[str] = None,
+        message: Optional[str] = None,
     ):
         status_condition = V1StatusCondition.get_condition(
             type=status, status=True, reason=reason, message=message
         )
         self.client.runs_v1.create_run_status(
             owner=run_owner,
             project=run_project,
@@ -263,15 +265,15 @@
         self,
         owner_name: str,
         project_name: str,
         run_name: str,
         run_uuid: str,
         content: str,
         default_auth=False,
-    ) -> Dict:
+    ) -> Optional[Dict]:
         try:
             return converter.make_and_convert(
                 owner_name=owner_name,
                 project_name=project_name,
                 run_name=run_name,
                 run_uuid=run_uuid,
                 content=content,
@@ -285,23 +287,24 @@
             )
         except Exception as e:
             logger.info(
                 "Agent failed during compilation with unknown exception: {}\n{}".format(
                     repr(e), traceback.format_exc()
                 )
             )
+        return None
 
     def prepare_run_resource(
         self,
         owner_name: str,
         project_name: str,
         run_name: str,
         run_uuid: str,
         content: str,
-    ) -> Dict:
+    ) -> Optional[Dict]:
         try:
             return converter.convert(
                 owner_name=owner_name,
                 project_name=project_name,
                 run_name=run_name,
                 run_uuid=run_uuid,
                 content=content,
@@ -320,14 +323,15 @@
             self.log_run_failed(
                 run_owner=owner_name,
                 run_project=project_name,
                 run_uuid=run_uuid,
                 exc=e,
                 message="Agent failed during compilation with unknown exception.\n",
             )
+        return None
 
     def submit_run(self, run_data: Tuple[str, str, str, str]):
         run_owner, run_project, run_uuid = get_run_info(run_instance=run_data[0])
         resource = self.prepare_run_resource(
             owner_name=run_owner,
             project_name=run_project,
             run_name=run_data[2],
@@ -413,14 +417,27 @@
             )
         except Exception as e:
             self.log_run_failed(
                 run_owner=run_owner, run_project=run_project, run_uuid=run_uuid, exc=e
             )
             self.clean_run(run_uuid=run_uuid, run_kind=run_data[1])
 
+    def check_run(self, run_data: Tuple[str, str]):
+        run_owner, run_project, run_uuid = get_run_info(run_instance=run_data[0])
+        try:
+            self.spawner.get(run_uuid=run_uuid, run_kind=run_data[1])
+        except ApiException as e:
+            if e.status == 404:
+                logger.info(
+                    "Run does not exist anymore, it could have been stopped or deleted."
+                )
+                self.log_run_stopped(
+                    run_owner=run_owner, run_project=run_project, run_uuid=run_uuid
+                )
+
     def stop_run(self, run_data: Tuple[str, str]):
         run_owner, run_project, run_uuid = get_run_info(run_instance=run_data[0])
         try:
             self.spawner.stop(run_uuid=run_uuid, run_kind=run_data[1])
         except ApiException as e:
             if e.status == 404:
                 logger.info("Run does not exist anymore, it could have been stopped.")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/agents/converter.py` & `polyaxon-2.0.0rc0/polyaxon/agents/converter.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from typing import Dict
+from typing import Dict, Optional
 
 from polyaxon.polyaxonfile import CompiledOperationSpecification, OperationSpecification
 from polyaxon.polypod.compiler import converter, make
 from polyaxon.polypod.compiler.config import PolypodConfig
 from polyaxon.polypod.compiler.converters import PLATFORM_CONVERTERS
 from polyaxon.schemas.cli.agent_config import AgentConfig
 
@@ -25,17 +25,17 @@
 def convert(
     owner_name: str,
     project_name: str,
     run_name: str,
     run_uuid: str,
     content: str,
     default_auth: bool,
-    agent_content: str = None,
+    agent_content: Optional[str] = None,
 ) -> Dict:
-    polypod_config = PolypodConfig()
+    polypod_config = PolypodConfig.construct()
     compiled_operation = CompiledOperationSpecification.read(content)
 
     polypod_config.resolve(
         compiled_operation=compiled_operation,
         agent_config=AgentConfig.read(agent_content) if agent_content else None,
     )
     return converter.convert(
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/agents/manager.py` & `polyaxon-2.0.0rc0/polyaxon/agents/manager.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,36 +1,37 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
 from polyaxon.agents import converter
 from polyaxon.agents.spawners.spawner import Spawner
 
 
 def start(
     content: str,
     owner_name: str,
     project_name: str,
     run_name: str,
     run_kind: str,
     run_uuid: str,
     namespace: str,
-    in_cluster: bool = None,
+    in_cluster: Optional[bool] = None,
     default_auth: bool = False,
 ):
     resource = converter.convert(
         owner_name=owner_name,
         project_name=project_name,
         run_name=run_name,
         run_uuid=run_uuid,
@@ -46,15 +47,15 @@
     content: str,
     owner_name: str,
     project_name: str,
     run_name: str,
     run_kind: str,
     run_uuid: str,
     namespace: str,
-    in_cluster: bool = None,
+    in_cluster: Optional[bool] = None,
     default_auth: bool = False,
 ):
     resource = converter.convert(
         owner_name=owner_name,
         project_name=project_name,
         run_name=run_name,
         run_uuid=run_uuid,
@@ -62,35 +63,39 @@
         default_auth=default_auth,
     )
     Spawner(namespace=namespace, in_cluster=in_cluster).apply(
         run_uuid=run_uuid, run_kind=run_kind, resource=resource
     )
 
 
-def stop(run_kind: str, run_uuid: str, namespace: str, in_cluster: bool = None):
+def stop(
+    run_kind: str, run_uuid: str, namespace: str, in_cluster: Optional[bool] = None
+):
     Spawner(namespace=namespace, in_cluster=in_cluster).stop(
         run_uuid=run_uuid, run_kind=run_kind
     )
 
 
-def clean(run_kind: str, run_uuid: str, namespace: str, in_cluster: bool = None):
+def clean(
+    run_kind: str, run_uuid: str, namespace: str, in_cluster: Optional[bool] = None
+):
     Spawner(namespace=namespace, in_cluster=in_cluster).clean(
         run_uuid=run_uuid, run_kind=run_kind
     )
 
 
 def make_and_create(
     content: str,
     owner_name: str,
     project_name: str,
     run_name: str,
     run_kind: str,
     run_uuid: str,
     namespace: str,
-    in_cluster: bool = None,
+    in_cluster: Optional[bool] = None,
 ):
     resource = converter.make_and_convert(
         owner_name=owner_name,
         project_name=project_name,
         run_name=run_name,
         run_uuid=run_uuid,
         content=content,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/agents/spawners/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/agents/spawners/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/agents/spawners/async_spawner.py` & `polyaxon-2.0.0rc0/polyaxon/agents/spawners/async_spawner.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/agents/spawners/base.py` & `polyaxon-2.0.0rc0/polyaxon/agents/spawners/base.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,36 +1,38 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
+from clipped.enums_utils import get_enum_value
 from kubernetes.client import Configuration
 
 from polyaxon import settings
 from polyaxon.exceptions import PolyaxonAgentError
 from polyaxon.polypod.mixins import MIXIN_MAPPING, BaseMixin
 
 
 class BaseSpawner:
     def __init__(
         self,
-        namespace: str = None,
+        namespace: Optional[str] = None,
         k8s_config: Configuration = None,
-        in_cluster: bool = None,
+        in_cluster: Optional[bool] = None,
     ):
         if in_cluster is None:
             in_cluster = settings.CLIENT_CONFIG.in_cluster
 
         if not namespace:
             namespace = settings.CLIENT_CONFIG.namespace
 
@@ -39,13 +41,15 @@
         self.k8s_config = k8s_config
         self._k8s_manager = None
 
     @staticmethod
     def _get_mixin_for_kind(kind: str) -> BaseMixin:
         m = MIXIN_MAPPING.get(kind)
         if not m:
-            raise PolyaxonAgentError("Agent received unrecognized kind {}".format(kind))
+            raise PolyaxonAgentError(
+                "Agent received unrecognized kind {}".format(get_enum_value(kind))
+            )
         return m
 
     @property
     def k8s_manager(self):
         raise NotImplementedError
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/agents/spawners/spawner.py` & `polyaxon-2.0.0rc0/polyaxon/agents/spawners/spawner.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/auxiliaries/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/auxiliaries/__init__.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,31 +1,36 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.auxiliaries.cleaner import get_default_cleaner_container
+from polyaxon.auxiliaries.cleaner import (
+    V1PolyaxonCleaner,
+    get_default_cleaner_container,
+)
+from polyaxon.auxiliaries.default_scheduling import V1DefaultScheduling
 from polyaxon.auxiliaries.init import (
-    PolyaxonInitContainerSchema,
     V1PolyaxonInitContainer,
     get_default_init_container,
     get_init_resources,
 )
-from polyaxon.auxiliaries.notifier import get_default_notification_container
+from polyaxon.auxiliaries.notifier import (
+    V1PolyaxonNotifier,
+    get_default_notification_container,
+)
 from polyaxon.auxiliaries.sidecar import (
-    PolyaxonSidecarContainerSchema,
     V1PolyaxonSidecarContainer,
     get_default_sidecar_container,
     get_sidecar_resources,
 )
 from polyaxon.auxiliaries.tuner import get_default_tuner_container
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/auxiliaries/cleaner.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/init/dockerfile.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,70 +1,84 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-import os
 
-from typing import List
+from typing import List, Optional
 
-from polyaxon import pkg
-from polyaxon.containers.names import MAIN_JOB_CONTAINER
-from polyaxon.containers.pull_policy import PullPolicy
-from polyaxon.k8s import k8s_schemas
-from polyaxon.k8s.k8s_schemas import V1Container
-from polyaxon.schemas.types import V1ConnectionType
-
-
-def get_default_cleaner_container(
-    store: V1ConnectionType, run_uuid: str, run_kind: str
-):
-    subpath = os.path.join(store.store_path, run_uuid)
-
-    clean_args = "polyaxon clean-artifacts {} --subpath={}".format(
-        store.kind.replace("_", "-"), subpath
-    )
-    wait_args = "polyaxon wait --uuid={} --kind={}".format(run_uuid, run_kind)
-    return V1Container(
-        name=MAIN_JOB_CONTAINER,
-        image="polyaxon/polyaxon-init:{}".format(pkg.VERSION),
-        image_pull_policy=PullPolicy.IF_NOT_PRESENT.value,
-        command=["/bin/bash", "-c"],
-        args=["{} && {}".format(wait_args, clean_args)],
-        resources=k8s_schemas.V1ResourceRequirements(
-            limits={"cpu": "0.5", "memory": "160Mi"},
-            requests={"cpu": "0.1", "memory": "80Mi"},
-        ),
-    )
+from clipped.list_utils import to_list
 
+from polyaxon.auxiliaries import V1PolyaxonInitContainer
+from polyaxon.containers.names import (
+    INIT_DOCKERFILE_CONTAINER_PREFIX,
+    generate_container_name,
+)
+from polyaxon.contexts import paths as ctx_paths
+from polyaxon.k8s import k8s_schemas
+from polyaxon.polypod.common import constants
+from polyaxon.polypod.common.containers import patch_container, sanitize_container
+from polyaxon.polypod.common.env_vars import get_run_instance_env_var
+from polyaxon.polypod.common.mounts import (
+    get_auth_context_mount,
+    get_connections_context_mount,
+)
+from polyaxon.polypod.common.volumes import get_volume_name
+from polyaxon.polypod.specs.contexts import PluginsContextsSpec
+from polyaxon.schemas.types import V1DockerfileType
+
+
+def get_dockerfile_init_container(
+    polyaxon_init: V1PolyaxonInitContainer,
+    dockerfile_args: V1DockerfileType,
+    contexts: PluginsContextsSpec,
+    run_path: str,
+    run_instance: str,
+    container: Optional[k8s_schemas.V1Container] = None,
+    env: List[k8s_schemas.V1EnvVar] = None,
+    mount_path: Optional[str] = None,
+) -> k8s_schemas.V1Container:
+    env = to_list(env, check_none=True)
+    env = env + [get_run_instance_env_var(run_instance)]
+
+    container_name = generate_container_name(INIT_DOCKERFILE_CONTAINER_PREFIX)
+    if not container:
+        container = k8s_schemas.V1Container(name=container_name)
 
-def get_batch_cleaner_container(
-    store: V1ConnectionType,
-    paths: List[str],
-):
-    subpaths = [os.path.join(store.store_path, subpath) for subpath in paths]
-    subpaths = " ".join(["-sp={}".format(sp) for sp in subpaths])
-
-    clean_args = "polyaxon clean-artifacts {} {}".format(
-        store.kind.replace("_", "-"), subpaths
+    volume_name = (
+        get_volume_name(mount_path) if mount_path else constants.VOLUME_MOUNT_ARTIFACTS
     )
-    return V1Container(
-        name=MAIN_JOB_CONTAINER,
-        image="polyaxon/polyaxon-init:{}".format(pkg.VERSION),
-        image_pull_policy=PullPolicy.IF_NOT_PRESENT.value,
-        command=["/bin/bash", "-c"],
-        args=[clean_args],
-        resources=k8s_schemas.V1ResourceRequirements(
-            limits={"cpu": "0.5", "memory": "160Mi"},
-            requests={"cpu": "0.1", "memory": "80Mi"},
-        ),
+    mount_path = mount_path or ctx_paths.CONTEXT_MOUNT_ARTIFACTS
+    volume_mounts = [
+        get_connections_context_mount(name=volume_name, mount_path=mount_path)
+    ]
+    if contexts and contexts.auth:
+        volume_mounts.append(get_auth_context_mount(read_only=True))
+
+    return patch_container(
+        container=container,
+        name=container_name,
+        image=polyaxon_init.get_image(),
+        image_pull_policy=polyaxon_init.image_pull_policy,
+        command=["polyaxon", "docker", "generate"],
+        args=[
+            "--build-context={}".format(dockerfile_args.to_json()),
+            "--destination={}".format(mount_path),
+            "--copy-path={}".format(
+                ctx_paths.CONTEXT_MOUNT_RUN_OUTPUTS_FORMAT.format(run_path)
+            ),
+            "--track",
+        ],
+        env=env,
+        volume_mounts=volume_mounts,
+        resources=polyaxon_init.get_resources(),
     )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/auxiliaries/init.py` & `polyaxon-2.0.0rc0/polyaxon/auxiliaries/init.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,53 +1,40 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, Optional, Union
 
-import polyaxon_sdk
-
-from marshmallow import fields
+from pydantic import Field, StrictStr, validator
 
 from polyaxon import pkg
 from polyaxon.containers.pull_policy import PullPolicy
-from polyaxon.k8s import k8s_schemas
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.swagger import SwaggerField
+from polyaxon.k8s import k8s_schemas, k8s_validation
+from polyaxon.schemas.base import BaseSchemaModel
 
 
 def get_init_resources() -> k8s_schemas.V1ResourceRequirements:
     return k8s_schemas.V1ResourceRequirements(
-        limits={"cpu": "1", "memory": "200Mi"},
+        limits={"cpu": "1", "memory": "500Mi"},
         requests={"cpu": "0.1", "memory": "60Mi"},
     )
 
 
-class PolyaxonInitContainerSchema(BaseCamelSchema):
-    image = fields.Str(required=True)
-    image_tag = fields.Str(required=True)
-    image_pull_policy = fields.Str(allow_none=True)
-    resources = SwaggerField(cls=k8s_schemas.V1ResourceRequirements, allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1PolyaxonInitContainer
-
-
-class V1PolyaxonInitContainer(BaseConfig, polyaxon_sdk.V1PolyaxonInitContainer):
+class V1PolyaxonInitContainer(BaseSchemaModel):
     """Polyaxon init is a helper container that initialize the environment
     required for the main container to function correctly.
 
     Polyaxon CE and Polyaxon Agent are deployed with default values for the init container,
     however if you need to control or update one or several aspects
     of how the init container that gets injected, this guide walks through the possible options.
 
@@ -60,17 +47,18 @@
     ## YAML usage
 
     ```yaml
     >>> init:
     >>>   image: polyaxon/polyaxon-sidecar
     >>>   imageTag: v1.x
     >>>   imagePullPolicy: IfNotPresent
-    >>>   resources: requests:
-    >>>     memory: "64Mi"
-    >>>     cpu: "50m"
+    >>>   resources:
+    >>>     requests:
+    >>>       memory: "64Mi"
+    >>>       cpu: "50m"
     ```
 
     ## Fields
 
     ### image
 
     The container image to use.
@@ -112,33 +100,43 @@
     > **N.B.1**: Resources are applied to all instances of
     > the init container within the same pod.
 
     > **N.B.2**: It's possible to alter this behaviour on per operation level
     > using the init section.
     """
 
-    SCHEMA = PolyaxonInitContainerSchema
-    IDENTIFIER = "container"
-    REDUCED_ATTRIBUTES = ["imageTag", "imagePullPolicy", "resources"]
+    _IDENTIFIER = "container"
+    _SWAGGER_FIELDS = ["resources"]
+
+    image: Optional[StrictStr]
+    image_tag: Optional[StrictStr] = Field(alias="imageTag")
+    image_pull_policy: Optional[PullPolicy] = Field(alias="imagePullPolicy")
+    resources: Optional[Union[k8s_schemas.V1ResourceRequirements, Dict]]
+
+    @validator("resources", always=True, pre=True)
+    def validate_resources(cls, v) -> k8s_schemas.V1ResourceRequirements:
+        return k8s_validation.validate_k8s_resource_requirements(v)
 
-    def get_image(self):
+    def get_image(self) -> str:
         image = self.image or "polyaxon/polyaxon-init"
         image_tag = self.image_tag if self.image_tag is not None else pkg.VERSION
         return "{}:{}".format(image, image_tag) if image_tag else image
 
-    def get_resources(self):
+    def get_resources(self) -> k8s_schemas.V1ResourceRequirements:
         return self.resources if self.resources else get_init_resources()
 
 
-def get_default_init_container(schema=True):
+def get_default_init_container(
+    schema: bool = True,
+) -> Union[Dict, V1PolyaxonInitContainer]:
     default = {
         "image": "polyaxon/polyaxon-init",
         "imageTag": pkg.VERSION,
         "imagePullPolicy": PullPolicy.IF_NOT_PRESENT.value,
         "resources": {
-            "limits": {"cpu": "1", "memory": "200Mi"},
+            "limits": {"cpu": "1", "memory": "500Mi"},
             "requests": {"cpu": "0.1", "memory": "60Mi"},
         },
     }
     if schema:
         return V1PolyaxonInitContainer.from_dict(default)
     return default
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/auxiliaries/notifier.py` & `polyaxon-2.0.0rc0/polyaxon/auxiliaries/tuner.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,41 +1,44 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
+
 from polyaxon import pkg
 from polyaxon.containers.names import MAIN_JOB_CONTAINER
 from polyaxon.containers.pull_policy import PullPolicy
 from polyaxon.k8s import k8s_schemas
 from polyaxon.k8s.k8s_schemas import V1Container
 
 
-def get_default_notification_container():
+def get_default_tuner_container(
+    command, bracket_iteration: Optional[int] = None
+) -> V1Container:
+    args = [
+        "{{params.matrix.as_arg}}",
+        "{{params.join.as_arg}}",
+        "{{params.iteration.as_arg}}",
+    ]
+    if bracket_iteration is not None:
+        args.append("{{params.bracket_iteration.as_arg}}")
     return V1Container(
         name=MAIN_JOB_CONTAINER,
-        image="polyaxon/polyaxon-events-handlers:{}".format(pkg.VERSION),
+        image="polyaxon/polyaxon-hpsearch:{}".format(pkg.VERSION),
         image_pull_policy=PullPolicy.IF_NOT_PRESENT.value,
-        command=["polyaxon", "notify"],
-        args=[
-            "{{params.backend.as_arg}}",
-            "{{params.owner.as_arg}}",
-            "{{params.project.as_arg}}",
-            "{{params.name.as_arg}}",
-            "{{params.uuid.as_arg}}",
-            "{{params.condition.as_arg}}",
-        ],
+        command=command,
+        args=args,
         resources=k8s_schemas.V1ResourceRequirements(
-            limits={"cpu": "0.5", "memory": "160Mi"},
-            requests={"cpu": "0.1", "memory": "80Mi"},
+            requests={"cpu": "0.1", "memory": "180Mi"},
         ),
     )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/auxiliaries/sidecar.py` & `polyaxon-2.0.0rc0/polyaxon/auxiliaries/sidecar.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,56 +1,41 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Any, Dict, Optional, Union
 
-import polyaxon_sdk
-
-from marshmallow import fields
+from pydantic import Field, StrictStr
 
 from polyaxon import pkg
 from polyaxon.containers.pull_policy import PullPolicy
 from polyaxon.k8s import k8s_schemas
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.swagger import SwaggerField
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields import BoolOrRef, IntOrRef, RefField
 
 
 def get_sidecar_resources() -> k8s_schemas.V1ResourceRequirements:
     return k8s_schemas.V1ResourceRequirements(
-        limits={"cpu": "1", "memory": "100Mi"},
+        limits={"cpu": "1", "memory": "500Mi"},
         requests={"cpu": "0.1", "memory": "60Mi"},
     )
 
 
-class PolyaxonSidecarContainerSchema(BaseCamelSchema):
-    image = fields.Str(allow_none=True)
-    image_tag = fields.Str(allow_none=True)
-    image_pull_policy = fields.Str(allow_none=True)
-    resources = SwaggerField(cls=k8s_schemas.V1ResourceRequirements, allow_none=True)
-    sleep_interval = fields.Int(allow_none=True)
-    sync_interval = fields.Int(allow_none=True)
-    monitor_logs = fields.Bool(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1PolyaxonSidecarContainer
-
-
-class V1PolyaxonSidecarContainer(BaseConfig, polyaxon_sdk.V1PolyaxonSidecarContainer):
+class V1PolyaxonSidecarContainer(BaseSchemaModel):
     """Polyaxon sidecar is a helper container that collects outputs, artifacts,
     and metadata about the main container.
 
     Polyaxon CE and Polyaxon Agent are deployed with default values for the sidecar container,
     however if you need to control or update one or several aspects
     of how the sidecar container that gets injected, this guide walks through the possible options.
 
@@ -65,17 +50,18 @@
     ## YAML usage
 
     ```yaml
     >>> sidecar:
     >>>   image: polyaxon/polyaxon-sidecar
     >>>   imageTag: v1.x
     >>>   imagePullPolicy: IfNotPresent
-    >>>   resources: requests:
-    >>>     memory: "64Mi"
-    >>>     cpu: "50m"
+    >>>   resources:
+    >>>     requests:
+    >>>       memory: "64Mi"
+    >>>       cpu: "50m"
     >>>   sleepInterval: 5
     >>>   syncInterval: 60
     ```
 
     ## Fields
 
     ### image
@@ -147,41 +133,42 @@
 
     ```yaml
     >>> sidecar:
     >>>   syncInterval: 5
     ```
     """
 
-    SCHEMA = PolyaxonSidecarContainerSchema
-    IDENTIFIER = "polyaxon_sidecar"
-    REDUCED_ATTRIBUTES = [
-        "imageTag",
-        "imagePullPolicy",
-        "sleepInterval",
-        "resources",
-        "syncInterval",
-        "monitorLogs",
-    ]
+    _IDENTIFIER = "polyaxon_sidecar"
+
+    image: Optional[StrictStr]
+    image_tag: Optional[StrictStr] = Field(alias="imageTag")
+    image_pull_policy: Optional[PullPolicy] = Field(alias="imagePullPolicy")
+    sleep_interval: Optional[IntOrRef] = Field(alias="sleepInterval")
+    sync_interval: Optional[IntOrRef] = Field(alias="syncInterval")
+    monitor_logs: Optional[BoolOrRef] = Field(alias="monitorLogs")
+    resources: Optional[Union[Dict[str, Any], RefField]]
 
     def get_image(self):
         image = self.image or "polyaxon/polyaxon-sidecar"
         image_tag = self.image_tag if self.image_tag is not None else pkg.VERSION
         return "{}:{}".format(image, image_tag) if image_tag else image
 
     def get_resources(self):
         return self.resources if self.resources else get_sidecar_resources()
 
 
-def get_default_sidecar_container(schema=True):
+def get_default_sidecar_container(
+    schema=True,
+) -> Union[Dict, V1PolyaxonSidecarContainer]:
     default = {
         "image": "polyaxon/polyaxon-sidecar",
         "imageTag": pkg.VERSION,
         "imagePullPolicy": PullPolicy.IF_NOT_PRESENT.value,
         "resources": {
-            "limits": {"cpu": "1", "memory": "100Mi"},
+            "limits": {"cpu": "1", "memory": "500Mi"},
             "requests": {"cpu": "0.1", "memory": "60Mi"},
         },
         "sleepInterval": 10,
         "syncInterval": 10,
     }
     if schema:
         return V1PolyaxonSidecarContainer.from_dict(default)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/auxiliaries/tuner.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/common.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,40 +1,51 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from polyaxon import pkg
-from polyaxon.containers.names import MAIN_JOB_CONTAINER
-from polyaxon.containers.pull_policy import PullPolicy
-from polyaxon.k8s import k8s_schemas
-from polyaxon.k8s.k8s_schemas import V1Container
-
-
-def get_default_tuner_container(command, bracket_iteration: int = None):
-    args = [
-        "{{params.matrix.as_arg}}",
-        "{{params.join.as_arg}}",
-        "{{params.iteration.as_arg}}",
-    ]
-    if bracket_iteration is not None:
-        args.append("{{params.bracket_iteration.as_arg}}")
-    return V1Container(
-        name=MAIN_JOB_CONTAINER,
-        image="polyaxon/polyaxon-hpsearch:{}".format(pkg.VERSION),
-        image_pull_policy=PullPolicy.IF_NOT_PRESENT.value,
-        command=command,
-        args=args,
-        resources=k8s_schemas.V1ResourceRequirements(
-            requests={"cpu": "0.1", "memory": "180Mi"},
-        ),
+
+from typing import Dict, Optional
+
+from polyaxon.polypod.pod.spec import get_pod_spec, get_pod_template_spec
+from polyaxon.polypod.specs.replica import ReplicaSpec
+
+
+def get_kf_replicas_template(
+    namespace: str,
+    resource_name: str,
+    replica_name: str,
+    replica: Optional[ReplicaSpec],
+    labels: Dict[str, str],
+    annotations: Dict[str, str],
+    template_spec: Dict,
+):
+    if not replica:
+        return
+
+    metadata, pod_spec = get_pod_spec(
+        namespace=namespace,
+        main_container=replica.main_container,
+        sidecar_containers=replica.sidecar_containers,
+        init_containers=replica.init_containers,
+        resource_name=resource_name,
+        volumes=replica.volumes,
+        environment=replica.environment,
+        labels=labels,
+        annotations=annotations,
     )
+
+    template_spec[replica_name] = {
+        "replicas": replica.num_replicas,
+        "restartPolicy": pod_spec.restart_policy or "Never",
+        "template": get_pod_template_spec(metadata=metadata, pod_spec=pod_spec),
+    }
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/builds/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/builds/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/builds/builder.py` & `polyaxon-2.0.0rc0/polyaxon/builds/builder.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,27 +14,29 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import json
 import logging
 import time
 
+from typing import Dict, List, Optional
+
+from clipped.logging_utils import LogLevels
 from docker import APIClient
 from docker.errors import APIError, BuildError
 from urllib3.exceptions import ReadTimeoutError
 
 from polyaxon.exceptions import PolyaxonBuildException
 from polyaxon.schemas.types import V1UriType
-from polyaxon.utils.log_levels import LogLevels
 
 _logger = logging.getLogger("polyaxon.dockerizer")
 
 
 class DockerMixin:
-    IS_BUILD = None
+    IS_BUILD: Optional[bool] = None
 
     def _prepare_log_lines(self, log_line):  # pylint:disable=too-many-branches
         raw = log_line.decode("utf-8").strip()
         raw_lines = raw.split("\n")
         log_lines = []
         status = True
         for raw_line in raw_lines:
@@ -97,26 +99,31 @@
         return status
 
 
 class DockerBuilder(DockerMixin):
     IS_BUILD = True
 
     def __init__(
-        self, context, destination, credstore_env=None, registries=None, docker=None
+        self,
+        context: str,
+        destination: str,
+        credstore_env: Optional[Dict] = None,
+        registries: Optional[List[V1UriType]] = None,
+        docker: Optional[APIClient] = None,
     ):
         self.destination = destination
 
         self.context = context
         self._validate_registries(registries)
         self.registries = registries
         self.docker = docker or APIClient(version="auto", credstore_env=credstore_env)
         self.is_pushing = False
 
     @staticmethod
-    def _validate_registries(registries):
+    def _validate_registries(registries: Optional[List[V1UriType]]):
         if not registries or isinstance(registries, V1UriType):
             return True
 
         for registry in registries:
             if not isinstance(registry, V1UriType):
                 raise PolyaxonBuildException(
                     "A registry `{}` is not valid Urispec.".format(registry)
@@ -134,15 +141,15 @@
             self.docker.login(
                 username=registry.user,
                 password=registry.password,
                 registry=registry.host,
                 reauth=True,
             )
 
-    def build(self, nocache=False, memory_limit=None):
+    def build(self, nocache: bool = False, memory_limit: Optional[int] = None):
         limits = {
             # Disable memory swap for building
             "memswap": -1
         }
         if memory_limit:
             limits["memory"] = memory_limit
 
@@ -157,26 +164,36 @@
         )
         return self._handle_log_stream(stream=stream)
 
 
 class DockerPusher(DockerMixin):
     IS_BUILD = False
 
-    def __init__(self, destination, credstore_env=None, docker=None):
+    def __init__(
+        self,
+        destination: str,
+        credstore_env: Optional[Dict] = None,
+        docker: Optional[APIClient] = None,
+    ):
         self.destination = destination
         self.docker = docker or APIClient(version="auto", credstore_env=credstore_env)
         self.is_pushing = False
 
     def push(self):
         stream = self.docker.push(self.destination, stream=True)
         return self._handle_log_stream(stream=stream)
 
 
 def _build(
-    context, destination, nocache, docker=None, credstore_env=None, registries=None
+    context: str,
+    destination: str,
+    nocache: bool,
+    docker: Optional[APIClient] = None,
+    credstore_env: Optional[Dict] = None,
+    registries: Optional[List[V1UriType]] = None,
 ):
     """Build necessary code for a job to run"""
     _logger.info("Starting build ...")
 
     # Build the image
     docker_builder = DockerBuilder(
         context=context,
@@ -191,75 +208,82 @@
         return docker_builder
     if not docker_builder.build(nocache=nocache):
         raise PolyaxonBuildException("The docker image could not be built.")
     return docker_builder
 
 
 def build(
-    context,
-    destination,
-    nocache,
-    docker=None,
-    credstore_env=None,
-    registries=None,
-    max_retries=3,
-    sleep_interval=1,
+    context: str,
+    destination: str,
+    nocache: bool,
+    docker: Optional[APIClient] = None,
+    credstore_env: Optional[Dict] = None,
+    registries: Optional[List[V1UriType]] = None,
+    max_retries: int = 3,
+    sleep_interval: int = 1,
 ):
     """Build necessary code for a job to run"""
     retry = 0
     is_done = False
     while retry < max_retries and not is_done:
+        if retry:
+            time.sleep(sleep_interval)
         try:
             docker_builder = _build(
                 context=context,
                 destination=destination,
                 docker=docker,
                 nocache=nocache,
                 credstore_env=credstore_env,
                 registries=registries,
             )
             is_done = True
             return docker_builder
         except ReadTimeoutError:
             retry += 1
-            time.sleep(sleep_interval)
     if not is_done:
         raise PolyaxonBuildException(
             "The docker image could not be built, client timed out."
         )
 
 
-def push(destination, docker=None, max_retries=3, sleep_interval=1):
+def push(
+    destination: str,
+    docker: Optional[APIClient] = None,
+    max_retries: int = 3,
+    sleep_interval: int = 1,
+):
     docker_pusher = DockerPusher(destination=destination, docker=docker)
     retry = 0
     is_done = False
     while retry < max_retries and not is_done:
+        if retry:
+            time.sleep(sleep_interval)
         try:
             if not docker_pusher.push():
                 raise PolyaxonBuildException("The docker image could not be pushed.")
             else:
                 is_done = True
         except ReadTimeoutError:
             retry += 1
-            time.sleep(sleep_interval)
 
     if not is_done:
         raise PolyaxonBuildException(
             "The docker image could not be pushed, client timed out."
         )
 
 
 def build_and_push(
-    context,
-    destination,
-    nocache,
-    credstore_env=None,
-    registries=None,
-    max_retries=3,
-    sleep_interval=1,
+    context: str,
+    destination: str,
+    nocache: bool,
+    credstore_env: Optional[Dict] = None,
+    registries: Optional[List[V1UriType]] = None,
+    max_retries: int = 3,
+    sleep_interval: int = 1,
 ):
     """Build necessary code for a job to run and push it."""
     # Build the image
     docker_builder = build(
         context=context,
         destination=destination,
         nocache=nocache,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/builds/generator/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/builds/generator/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/builds/generator/dockerfile.py` & `polyaxon-2.0.0rc0/polyaxon/builds/generator/dockerfile.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -23,42 +23,48 @@
 ENV LANGUAGE {{ lang_env }}
 {% endif -%}
 
 {% if shell %}
 ENV SHELL {{ shell }}
 {% endif -%}
 
-{% if uid and gid -%}
-# Drop root user and use Polyaxon user
-RUN groupadd -g {{ gid }} -r polyaxon && useradd -r -m -g polyaxon -u {{ uid }} polyaxon
-{% endif -%}
-
 {% if path -%}
 {% for path_step in path -%}
 ENV PATH="${PATH}:{{ path_step }}"
 {% endfor -%}
 {% endif -%}
 
 {% if env -%}
 {% for env_step in env -%}
-ENV {{env_step[0]}} {{env_step[1]}}
+ENV {{ env_step[0] }} {{ env_step[1] }}
 {% endfor -%}
 {% endif -%}
 
 WORKDIR {{ workdir }}
 
 {% if copy -%}
-{% for step in copy -%}
-COPY {{ step }} {{ workdir }}
+{% for copy_step in copy -%}
+COPY {{ copy_step[0] }} {{ copy_step[1] }}
 {% endfor -%}
 {% endif -%}
 
 {% if run -%}
 {% for step in run -%}
 RUN {{ step }}
 {% endfor -%}
 {% endif -%}
 
+{% if post_run_copy -%}
+{% for copy_step in post_run_copy -%}
+COPY {{ copy_step[0] }} {{ copy_step[1] }}
+{% endfor -%}
+{% endif -%}
+
+{% if uid and gid -%}
+# Drop root user and use Polyaxon user
+RUN groupadd -g {{ gid }} -r polyaxon && useradd -r -m -g polyaxon -u {{ uid }} {{ username }}
+{% endif -%}
+
 {% if workdir_path -%}
 COPY {{ workdir_path }} {{ workdir }}
 {% endif -%}
 """
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/builds/generator/generator.py` & `polyaxon-2.0.0rc0/polyaxon/builds/generator/generator.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,57 +1,77 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-
 import jinja2
 import os
 
+from typing import List, Tuple, Union
+
+from clipped.list_utils import to_list
+
 from polyaxon.builds.generator.dockerfile import POLYAXON_DOCKER_TEMPLATE
-from polyaxon.utils.list_utils import to_list
+from polyaxon.schemas.types import V1DockerfileType
 
 
 class DockerFileGenerator:
-    def __init__(self, build_context, destination="."):
+    def __init__(self, build_context: V1DockerfileType, destination: str = "."):
         self.build_context = build_context
-        self.dockerfile_path = os.path.join(destination, build_context.filename)
+        self.dockerfile_path = os.path.join(destination, build_context.get_filename())
 
     def clean(self):
         # Clean dockerfile
         if not os.path.exists(self.dockerfile_path):
             return
         os.remove(self.dockerfile_path)
 
-    def create(self, save=True):
+    def create(self, save: bool = True) -> str:
         # Create DockerFile
         rendered_dockerfile = self.render()
         if save:
             with open(self.dockerfile_path, "w") as dockerfile:
                 dockerfile.write(rendered_dockerfile)
         return rendered_dockerfile
 
+    @staticmethod
+    def get_copy(
+        copy: Union[List[str], List[Tuple[str, str]]], workdir: str
+    ) -> List[List[str]]:
+        copy = to_list(copy, check_none=True)
+
+        def handle_copy(c: Union[str, List]):
+            if isinstance(c, str):
+                return [c, workdir]
+            return c
+
+        return [handle_copy(c) for c in copy]
+
     def render(self):
         docker_template = jinja2.Template(POLYAXON_DOCKER_TEMPLATE)
         return docker_template.render(
             image=self.build_context.image,
-            copy=to_list(self.build_context.copy, check_none=True),
+            copy=self.get_copy(self.build_context.copy_, self.build_context.workdir),
+            post_run_copy=self.get_copy(
+                self.build_context.post_run_copy, self.build_context.workdir
+            ),
             run=to_list(self.build_context.run, check_none=True),
             env=to_list(self.build_context.env, check_none=True, check_dict=True),
             workdir=self.build_context.workdir,
             path=to_list(self.build_context.path, check_none=True),
             workdir_path=self.build_context.workdir_path,
             lang_env=self.build_context.lang_env,
             uid=self.build_context.uid,
             gid=self.build_context.gid,
+            username=self.build_context.username or "polyaxon",
             shell=self.build_context.shell,
         )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/cli/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/admin.py` & `polyaxon-2.0.0rc0/polyaxon/cli/admin.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,55 +1,59 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import os
+import time
 
 import click
 
+from clipped.formatting import Printer
+from clipped.list_utils import to_list
+from clipped.validation import validate_tags
+
 from polyaxon.cli.dashboard import get_dashboard, get_dashboard_url
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.logger import clean_outputs
 from polyaxon.managers.deploy import DeployConfigManager
-from polyaxon.utils.formatting import Printer
-from polyaxon.utils.list_utils import to_list
+from polyaxon.utils.fqn_utils import get_resource_name
 
 
 def read_deployment_config(filepaths, command: str):
     from polyaxon.deploy import reader
 
     if not filepaths:
         return None
 
     filepaths = to_list(filepaths)
     for filepath in filepaths:
         if not os.path.isfile(filepath):
-            Printer.print_error(
+            Printer.error(
                 "`{}` must be a valid file".format(filepath),
                 sys_exit=True,
-                command_help="admin {}".format(command),
+                command_help="polyaxon admin {}".format(command),
             )
     try:
         deployment_config = reader.read(filepaths)
         return deployment_config
     except Exception as e:
         handle_cli_error(
-            e, message="Polyaxon deployment file is not valid.", sys_exit=True
+            e, message="Polyaxon deployment file is not valid", sys_exit=True
         )
 
 
 @click.group()
 @clean_outputs
 def admin():
     """Commands for admin management."""
@@ -94,34 +98,34 @@
         filepath=config_file,
         deployment_type=deployment_type,
         manager_path=manager_path,
         dry_run=dry_run,
     )
     exception = None
     if config:
-        Printer.print_success(
-            "Polyaxon `{}` deployment file is valid.".format(config.deployment_chart)
+        Printer.success(
+            "Polyaxon `{}` deployment file is valid".format(config.deployment_chart)
         )
     if check:
         try:
             manager.check()
         except Exception as e:
             handle_cli_error(
-                e, message="Polyaxon deployment manager error.", sys_exit=True
+                e, message="Polyaxon deployment manager error", sys_exit=True
             )
 
     else:
         try:
             manager.install()
         except Exception as e:
-            Printer.print_error("Polyaxon could not be installed.")
+            Printer.error("Polyaxon could not be installed")
             exception = e
 
     if exception:
-        Printer.print_error("Error message: {}.".format(exception), sys_exit=True)
+        Printer.error("Error message: {}".format(exception), sys_exit=True)
 
 
 @admin.command()
 @click.option(
     "-f",
     "--file",
     "config_file",
@@ -159,33 +163,33 @@
         filepath=config_file,
         deployment_type=deployment_type,
         manager_path=manager_path,
         dry_run=dry_run,
     )
     exception = None
     if config:
-        Printer.print_success(
-            "Polyaxon `{}` deployment file is valid.".format(config.deployment_chart)
+        Printer.success(
+            "Polyaxon `{}` deployment file is valid".format(config.deployment_chart)
         )
     if check:
         try:
             manager.check()
         except Exception as e:
             handle_cli_error(
-                e, message="Polyaxon deployment manager error.", sys_exit=True
+                e, message="Polyaxon deployment manager error", sys_exit=True
             )
     else:
         try:
             manager.upgrade()
         except Exception as e:
-            Printer.print_error("Polyaxon could not upgrade the deployment.")
+            Printer.error("Polyaxon could not upgrade the deployment")
             exception = e
 
     if exception:
-        Printer.print_error("Error message: {}.".format(exception))
+        Printer.error("Error message: {}".format(exception))
 
 
 @admin.command()
 @click.option(
     "-f",
     "--file",
     "config_file",
@@ -193,33 +197,43 @@
     help="The polyaxon deployment config file(s) to check.",
 )
 @click.option(
     "--manager-path",
     type=click.Path(exists=True),
     help="The path of the deployment manager, e.g. local chart.",
 )
+@click.option(
+    "--yes",
+    "-y",
+    is_flag=True,
+    default=False,
+    help="Automatic yes to prompts. "
+    'Assume "yes" as answer to all prompts and run non-interactively.',
+)
 @clean_outputs
-def teardown(config_file, manager_path):
+def teardown(config_file, manager_path, yes):
     """Teardown a polyaxon deployment given a config file."""
     config = read_deployment_config(config_file, command="teardown")
     manager = DeployConfigManager(
         config=config, filepath=config_file, manager_path=manager_path
     )
     exception = None
     try:
-        if click.confirm("Would you like to execute pre-delete hooks?", default=True):
+        if yes or click.confirm(
+            "Would you like to execute pre-delete hooks?", default=False
+        ):
             manager.teardown(hooks=True)
         else:
             manager.teardown(hooks=False)
     except Exception as e:
-        Printer.print_error("Polyaxon could not teardown the deployment.")
+        Printer.error("Polyaxon could not teardown the deployment")
         exception = e
 
     if exception:
-        Printer.print_error("Error message: {}.".format(exception))
+        Printer.error("Error message: {}".format(exception))
 
 
 @admin.command()
 @click.option(
     "--yes",
     "-y",
     is_flag=True,
@@ -230,7 +244,88 @@
 @click.option(
     "--url", is_flag=True, default=False, help="Print the url of the dashboard."
 )
 @clean_outputs
 def dashboard(yes, url):
     """Open dashboard in browser."""
     get_dashboard(dashboard_url=get_dashboard_url(base="_admin"), url_only=url, yes=yes)
+
+
+@admin.command()
+@click.option("--namespace", "-n", type=str)
+@click.option("--in-cluster", is_flag=True, default=False)
+@click.option("--delete", "-d", is_flag=True, default=False)
+@click.option(
+    "--uuids",
+    "--uids",
+    type=str,
+    help="List of uuid of operations to clean/delete (comma separated values).",
+)
+def clean_ops(namespace, in_cluster, delete, uuids):
+    """clean-ops command."""
+    from polyaxon.k8s.custom_resources import operation
+    from polyaxon.k8s.manager import K8SManager
+
+    if not namespace:
+        raise Printer.error("The argument `--namespace` is required!", sys_exit=True)
+
+    manager = K8SManager(namespace=namespace, in_cluster=in_cluster)
+
+    def _patch_op():
+        retry = 0
+        while retry < 3:
+            if retry:
+                time.sleep(retry * 2)
+            try:
+                manager.update_custom_object(
+                    name=op,
+                    group=operation.GROUP,
+                    version=operation.API_VERSION,
+                    plural=operation.PLURAL,
+                    body={"metadata": {"finalizers": None}},
+                )
+                return
+            except Exception as e:
+                print("Exception %s", e)
+                print("retrying")
+                retry += 1
+
+    def _delete_op():
+        retry = 0
+        while retry <= 2:
+            if retry:
+                time.sleep(retry)
+            try:
+                manager.delete_custom_object(
+                    name=op,
+                    group=operation.GROUP,
+                    version=operation.API_VERSION,
+                    plural=operation.PLURAL,
+                )
+                return
+            except Exception as e:
+                print("Exception %s", e)
+                print("retrying")
+                retry += 1
+
+    uuids = validate_tags(uuids, validate_yaml=True)
+    if uuids:
+        ops = [get_resource_name(o) for o in uuids]
+    else:
+        ops = [
+            o["metadata"]["name"]
+            for o in manager.list_custom_objects(
+                group=operation.GROUP,
+                version=operation.API_VERSION,
+                plural=operation.PLURAL,
+            )
+        ]
+    if not ops:
+        return
+
+    Printer.header(f"Cleaning {len(ops)} ops ...")
+    for idx, op in enumerate(ops):
+        with Printer.console.status(f"Cleaning operation {idx + 1}/{len(ops)} ..."):
+            _patch_op()
+            if delete:
+                _delete_op()
+        Printer.success(f"Operation {op} was cleaned")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/auth.py` & `polyaxon-2.0.0rc0/polyaxon/cli/auth.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,43 +13,46 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 
 import click
-import polyaxon_sdk
 
-from polyaxon_sdk.rest import ApiException
+from clipped.dict_utils import dict_to_tabulate
+from clipped.formatting import Printer
 from urllib3.exceptions import HTTPError
 
 from polyaxon import settings
 from polyaxon.cli.dashboard import get_dashboard_url
 from polyaxon.cli.errors import handle_cli_error, handle_command_not_in_ce
-from polyaxon.cli.session import session_expired, set_versions_config
+from polyaxon.cli.session import ensure_cli_config, session_expired, set_versions_config
 from polyaxon.client import PolyaxonClient
-from polyaxon.logger import clean_outputs, logger
+from polyaxon.logger import clean_outputs, logger, not_in_ce
 from polyaxon.managers.auth import AuthConfigManager
 from polyaxon.managers.cli import CliConfigManager
 from polyaxon.managers.user import UserConfigManager
 from polyaxon.schemas.api.authentication import AccessTokenConfig, V1Credentials
-from polyaxon.utils.formatting import Printer, dict_tabulate, dict_to_tabulate
+from polyaxon.schemas.responses.v1_auth import V1Auth
+from polyaxon.sdk.exceptions import ApiException
 
 
 @click.command()
 @click.option("--token", "-t", help="Polyaxon token.")
 @click.option("--username", "-u", help="Polyaxon username or email.")
 @click.option("--password", "-p", help="Polyaxon password.")
 @clean_outputs
 def login(token, username, password):
     """Login to Polyaxon Cloud or Polyaxon EE."""
-    if not settings.CLI_CONFIG or settings.CLI_CONFIG.is_ce:
+    polyaxon_client = PolyaxonClient()
+    ensure_cli_config()
+
+    if not settings.CLI_CONFIG or settings.CLI_CONFIG.is_community:
         handle_command_not_in_ce()
 
-    polyaxon_client = PolyaxonClient()
     if username and not token:
         # Use user or email / password login
         if not password:
             password = click.prompt(
                 "Please enter your password", type=str, hide_input=True
             )
             password = password.strip()
@@ -67,15 +70,15 @@
             AuthConfigManager.purge()
             UserConfigManager.purge()
             CliConfigManager.purge()
             handle_cli_error(e, message="Could not login.")
             sys.exit(1)
 
         if not access_auth.token:
-            Printer.print_error("Failed to login")
+            Printer.error("Failed to login")
             return
     else:
         if not token:
             token_url = get_dashboard_url(subpath="profile/token")
             click.confirm(
                 "Authentication token page will now open in your browser. Continue?",
                 abort=True,
@@ -96,57 +99,55 @@
                 "Make sure your shell is handling the token appropriately."
             )
             logger.info(
                 "See docs for help: http://polyaxon.com/docs/polyaxon_cli/commands/auth"
             )
             return
 
-        access_auth = polyaxon_sdk.models.V1Auth(token=token.strip(" "))
+        access_auth = V1Auth(token=token.strip(" "))
 
     # Set user
     try:
         AuthConfigManager.purge()
         UserConfigManager.purge()
         polyaxon_client = PolyaxonClient(token=access_auth.token)
         user = polyaxon_client.users_v1.get_user()
     except (ApiException, HTTPError) as e:
         handle_cli_error(e, message="Could not load user info.")
         sys.exit(1)
     access_token = AccessTokenConfig(username=user.username, token=access_auth.token)
     AuthConfigManager.set_config(access_token)
     UserConfigManager.set_config(user)
     polyaxon_client.config.token = access_auth.token
-    Printer.print_success("Login successful")
+    Printer.success("Login successful")
 
     set_versions_config(polyaxon_client=polyaxon_client, set_handler=True)
 
 
 @click.command()
 @clean_outputs
 def logout():
     """Logout from Polyaxon Cloud or Polyaxon EE."""
     AuthConfigManager.purge()
     UserConfigManager.purge()
     CliConfigManager.purge()
-    Printer.print_success("You are logged out")
+    Printer.success("You are logged out")
 
 
 @click.command()
+@not_in_ce
 @clean_outputs
 def whoami():
     """Show current logged Polyaxon Cloud or Polyaxon EE user."""
-    if not settings.CLI_CONFIG or settings.CLI_CONFIG.is_ce:
-        handle_command_not_in_ce()
-
     try:
         polyaxon_client = PolyaxonClient()
         user = polyaxon_client.users_v1.get_user()
     except ApiException as e:
         if e.status == 403:
             session_expired()
         handle_cli_error(e, message="Could not get the user info.", sys_exit=True)
     except (ApiException, HTTPError) as e:
         handle_cli_error(e, message="Could not load user info.", sys_exit=True)
 
     response = dict_to_tabulate(user.to_dict(), exclude_attrs=["role", "theme"])
-    Printer.print_header("User info:")
-    dict_tabulate(response)
+    Printer.heading("User info:")
+    Printer.dict_tabulate(response)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/check.py` & `polyaxon-2.0.0rc0/polyaxon/cli/check.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,17 +12,18 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import click
 
+from clipped.formatting import Printer
+
 from polyaxon.logger import clean_outputs
 from polyaxon.polyaxonfile.check import check_polyaxonfile
-from polyaxon.utils.formatting import Printer
 
 
 @click.command()
 @click.option(
     "-f",
     "--file",
     "polyaxonfile",
@@ -41,14 +42,15 @@
     "-v",
     is_flag=True,
     default=False,
     help="Checks and prints the version.",
 )
 @click.option(
     "--params",
+    "--param",
     "-P",
     metavar="NAME=VALUE",
     multiple=True,
     help="A parameter to override the default params of the run, form -P name=value.",
 )
 @click.option(
     "--lint",
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/components/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/cli/services/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/components/agent.py` & `polyaxon-2.0.0rc0/polyaxon/cli/services/agent.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -57,23 +57,24 @@
 
     def start_agent():
         if is_base:
             BaseAgent(sleep_interval=sleep_interval).start()
         else:
             Agent(owner=owner, agent_uuid=agent_uuid).start()
 
-    retry = 1
+    retry = 0
     while retry < max_retries:
+        if retry:
+            time.sleep(5 * retry)
         try:
             start_agent()
             return
         except Exception as e:
             logger.warning("Polyaxon agent retrying, error %s", e)
             retry += 1
-            time.sleep(5 * retry)
 
 
 @agent.command()
 @click.option(
     "--health-interval",
     type=int,
     help="Health interval between checks.",
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/components/clean_artifacts.py` & `polyaxon-2.0.0rc0/polyaxon/cli/services/clean_artifacts.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,177 +1,147 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Union
 
 import click
 
+from clipped.formatting import Printer
+from clipped.list_utils import to_list
+
 from polyaxon.connections.kinds import V1ConnectionKind
 from polyaxon.schemas.types import V1ConnectionType
-from polyaxon.utils.formatting import Printer
-from polyaxon.utils.list_utils import to_list
 
 
 @click.group()
 def clean_artifacts():
     pass
 
 
+def _delete(
+    subpath: Union[str, List[str]],
+    connection_name: str,
+    connection_kind: str,
+    is_file: bool,
+):
+    from polyaxon.fs.fs import get_sync_fs_from_type
+    from polyaxon.fs.manager import delete_file_or_dir
+
+    subpath = to_list(subpath, check_none=True)
+    connection_type = V1ConnectionType(name=connection_name, kind=connection_kind)
+    fs = get_sync_fs_from_type(connection_type=connection_type)
+    for sp in subpath:
+        delete_file_or_dir(
+            fs=fs,
+            subpath=sp,
+            is_file=is_file,
+        )
+    Printer.success(
+        "{} subpath was cleaned, subpath: `{}`".format(connection_kind, subpath)
+    )
+
+
 @clean_artifacts.command()
 @click.option("--connection-name", help="The connection name.")
 @click.option("-sp", "--subpath", multiple=True, help="The s3 subpath to clean.")
 @click.option(
     "--is-file",
     is_flag=True,
     default=False,
     help="whether or not to use the basename of the key.",
 )
-@click.option(
-    "--workers", type=int, default=50, help="Number of worker threads to use."
-)
-def s3(connection_name, subpath, is_file, workers):
+def s3(connection_name, subpath, is_file):
     """Delete an s3 subpath."""
-    from polyaxon.stores.manager import delete_file_or_dir
-
-    subpath = to_list(subpath, check_none=True)
-    for sp in subpath:
-        delete_file_or_dir(
-            connection_type=V1ConnectionType(
-                name=connection_name, kind=V1ConnectionKind.S3
-            ),
-            subpath=sp,
-            workers=workers,
-            is_file=is_file,
-        )
-
-    Printer.print_success("S3 subpath was cleaned, subpath: `{}`".format(subpath))
+    _delete(
+        subpath=subpath,
+        connection_name=connection_name,
+        connection_kind=V1ConnectionKind.S3,
+        is_file=is_file,
+    )
 
 
 @clean_artifacts.command()
 @click.option("--connection-name", help="The connection name.")
 @click.option("-sp", "--subpath", multiple=True, help="The gcs subpath to clean.")
 @click.option(
     "--is-file",
     is_flag=True,
     default=False,
     help="whether or not to use the basename of the key.",
 )
-@click.option(
-    "--workers", type=int, default=50, help="Number of worker threads to use."
-)
-def gcs(connection_name, subpath, is_file, workers):
+def gcs(connection_name, subpath, is_file):
     """Delete a gcs subpath."""
-    from polyaxon.stores.manager import delete_file_or_dir
-
-    subpath = to_list(subpath, check_none=True)
-    for sp in subpath:
-        delete_file_or_dir(
-            connection_type=V1ConnectionType(
-                name=connection_name, kind=V1ConnectionKind.GCS
-            ),
-            subpath=sp,
-            workers=workers,
-            is_file=is_file,
-        )
-
-    Printer.print_success("GCS subpath was cleaned, subpath: `{}`".format(subpath))
+    _delete(
+        subpath=subpath,
+        connection_name=connection_name,
+        connection_kind=V1ConnectionKind.GCS,
+        is_file=is_file,
+    )
 
 
 @clean_artifacts.command()
 @click.option("--connection-name", help="The connection name.")
 @click.option("-sp", "--subpath", multiple=True, help="The wasb subpath to clean.")
 @click.option(
     "--is-file",
     is_flag=True,
     default=False,
     help="whether or not to use the basename of the key.",
 )
-@click.option(
-    "--workers", type=int, default=50, help="Number of worker threads to use."
-)
-def wasb(connection_name, subpath, is_file, workers):
+def wasb(connection_name, subpath, is_file):
     """Delete a wasb path context."""
-    from polyaxon.stores.manager import delete_file_or_dir
-
-    subpath = to_list(subpath, check_none=True)
-    for sp in subpath:
-        delete_file_or_dir(
-            connection_type=V1ConnectionType(
-                name=connection_name, kind=V1ConnectionKind.WASB
-            ),
-            subpath=sp,
-            workers=workers,
-            is_file=is_file,
-        )
-
-    Printer.print_success("WASB subpath was cleaned, subpath: `{}`".format(subpath))
+    _delete(
+        subpath=subpath,
+        connection_name=connection_name,
+        connection_kind=V1ConnectionKind.WASB,
+        is_file=is_file,
+    )
 
 
 @clean_artifacts.command()
 @click.option("--connection-name", help="The connection name.")
 @click.option("-sp", "--subpath", multiple=True, help="The volume subpath to clean.")
 @click.option(
     "--is-file",
     is_flag=True,
     default=False,
     help="whether or not to use the basename of the key.",
 )
-@click.option(
-    "--workers", type=int, default=50, help="Number of worker threads to use."
-)
-def volume_claim(connection_name, subpath, is_file, workers):
+def volume_claim(connection_name, subpath, is_file):
     """Delete a volume path context."""
-    from polyaxon.stores.manager import delete_file_or_dir
-
-    subpath = to_list(subpath, check_none=True)
-    for sp in subpath:
-        delete_file_or_dir(
-            connection_type=V1ConnectionType(
-                name=connection_name, kind=V1ConnectionKind.VOLUME_CLAIM
-            ),
-            subpath=sp,
-            workers=workers,
-            is_file=is_file,
-        )
-
-    Printer.print_success("Volume subpath was cleaned, subpath: `{}`".format(subpath))
+    _delete(
+        subpath=subpath,
+        connection_name=connection_name,
+        connection_kind=V1ConnectionKind.VOLUME_CLAIM,
+        is_file=is_file,
+    )
 
 
 @clean_artifacts.command()
 @click.option("--connection-name", help="The connection name.")
 @click.option("-sp", "--subpath", multiple=True, help="The host subpath to clean.")
 @click.option(
     "--is-file",
     is_flag=True,
     default=False,
     help="whether or not to use the basename of the key.",
 )
-@click.option(
-    "--workers", type=int, default=50, help="Number of worker threads to use."
-)
-def host_path(connection_name, subpath, is_file, workers):
+def host_path(connection_name, subpath, is_file):
     """Delete a host path context."""
-    from polyaxon.stores.manager import delete_file_or_dir
-
-    subpath = to_list(subpath, check_none=True)
-    for sp in subpath:
-        delete_file_or_dir(
-            connection_type=V1ConnectionType(
-                name=connection_name, kind=V1ConnectionKind.HOST_PATH
-            ),
-            subpath=sp,
-            workers=workers,
-            is_file=is_file,
-        )
-
-    Printer.print_success("WASB subpath was cleaned, subpath: `{}`".format(subpath))
+    _delete(
+        subpath=subpath,
+        connection_name=connection_name,
+        connection_kind=V1ConnectionKind.HOST_PATH,
+        is_file=is_file,
+    )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/components/docker.py` & `polyaxon-2.0.0rc0/polyaxon/cli/services/docker.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,26 +13,26 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import sys
 
 import click
 
-from marshmallow import ValidationError
+from clipped.formatting import Printer
+from clipped.path_utils import copy_file
+from pydantic import ValidationError
 
 from polyaxon.builds.generator import DockerFileGenerator
 from polyaxon.cli.check import check_polyaxonfile
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.config_reader.spec import ConfigSpec
 from polyaxon.exceptions import PolyaxonBuildException, PolyaxonSchemaError
 from polyaxon.polyaxonfile import CompiledOperationSpecification, OperationSpecification
 from polyaxon.schemas.fields.docker_image import validate_image
 from polyaxon.schemas.types import V1DockerfileType
-from polyaxon.utils.formatting import Printer
-from polyaxon.utils.path_utils import copy_file
 
 
 @click.group()
 def docker():
     pass
 
 
@@ -57,14 +57,15 @@
 )
 @click.option(
     "-dest", "--destination", help="The destination where to generate the build."
 )
 @click.option("--copy-path", help="Copy generated files to a specific path.")
 @click.option(
     "--params",
+    "--param",
     "-P",
     metavar="NAME=VALUE",
     multiple=True,
     help="A parameter to override the default params of the run, form -P name=value.",
 )
 @click.option(
     "--track",
@@ -72,31 +73,30 @@
     default=False,
     help="Flag to track or not the file content.",
 )
 def generate(
     polyaxonfile, python_module, build_context, destination, copy_path, params, track
 ):
     """Generate a dockerfile given the polyaxonfile."""
+    from clipped.hashing import hash_value
+
     from polyaxon.init.dockerfile import create_dockerfile_lineage
-    from polyaxon.utils.hashing import hash_value
 
     if all([polyaxonfile, build_context]):
-        Printer.print_error(
-            "Only a polyaxonfile or a build context option is required."
-        )
+        Printer.error("Only a polyaxonfile or a build context option is required.")
         sys.exit(1)
 
     if build_context:
         try:
             build_context = [
                 V1DockerfileType.from_dict(ConfigSpec.read_from(build_context))
             ]
         except (PolyaxonSchemaError, ValidationError) as e:
-            Printer.print_error("received a non valid build context.")
-            Printer.print_error("Error message: {}.".format(e))
+            Printer.error("received a non valid build context.")
+            Printer.error("Error message: {}.".format(e))
             sys.exit(1)
     else:
         specification = check_polyaxonfile(
             polyaxonfile=polyaxonfile,
             python_module=python_module,
             params=params,
             verbose=False,
@@ -106,29 +106,29 @@
             compiled_operation = OperationSpecification.compile_operation(specification)
             compiled_operation.apply_params(params=specification.config.params)
             compiled_operation = (
                 CompiledOperationSpecification.apply_operation_contexts(
                     compiled_operation
                 )
             )
-        except PolyaxonSchemaError:
-            Printer.print_error(
+        except (PolyaxonSchemaError, ValidationError):
+            Printer.error(
                 "Could not run this polyaxonfile locally, "
                 "a context is required to resolve it dependencies."
             )
             sys.exit(1)
 
         build_context = compiled_operation.init_dockerfiles
 
     for init_dockerfile in build_context:
         generator = DockerFileGenerator(
             build_context=init_dockerfile, destination=destination or "."
         )
         generator.create()
-        Printer.print_success(
+        Printer.success(
             "Dockerfile was generated, path: `{}`".format(generator.dockerfile_path)
         )
 
         dockerfile_path = generator.dockerfile_path
         if copy_path:
             dockerfile_path = copy_file(dockerfile_path, copy_path)
         if track:
@@ -175,15 +175,15 @@
 )
 def build(context, destination, nocache, max_retries, sleep_interval, reraise):
     """Build a dockerfile, this command required Docker to be installed."""
     from polyaxon.builds.builder import build
 
     try:
         validate_image(destination)
-    except ValidationError as e:
+    except ValueError as e:
         handle_cli_error(e, message="Image destination is invalid.")
 
     try:
         build(
             context=context,
             destination=destination,
             nocache=nocache,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/components/notifier.py` & `polyaxon-2.0.0rc0/polyaxon/cli/services/notifier.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,14 +12,16 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import click
 
+from polyaxon.cli.options import OPTIONS_NAME
+
 
 @click.command()
 @click.option(
     "--backend",
     help="The notifier backend.",
 )
 @click.option(
@@ -27,15 +29,15 @@
     help="The project owner.",
 )
 @click.option(
     "--project",
     help="The project containing the operation.",
 )
 @click.option("--uuid", help="The run uuid.")
-@click.option("--name", help="The run name.")
+@click.option(*OPTIONS_NAME["args"], help="The run name.")
 @click.option(
     "--kind",
     help="The operation kind.",
 )
 @click.option(
     "--condition",
     help="The run's condition.",
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/components/sidecar.py` & `polyaxon-2.0.0rc0/polyaxon/cli/services/sidecar.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,16 +13,17 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import asyncio
 
 import click
 
+from clipped.coroutine import coroutine
+
 from polyaxon.logger import logger
-from polyaxon.utils.coroutine import coroutine
 
 
 @click.command()
 @click.option(
     "--container-id",
     help="The tagged image destination $PROJECT/$IMAGE:$TAG.",
 )
@@ -53,24 +54,25 @@
 @coroutine
 async def sidecar(
     container_id, max_retries, sleep_interval, sync_interval, monitor_logs
 ):
     """
     Start Polyaxon's sidecar command.
     """
-    from polyaxon.sidecar import start_sidecar
+    from polyaxon.sidecar.container import start_sidecar
 
-    retry = 1
+    retry = 0
     while retry < max_retries:
+        if retry:
+            await asyncio.sleep(retry**2)
         try:
             await start_sidecar(
                 container_id=container_id,
                 sleep_interval=sleep_interval,
                 sync_interval=sync_interval,
                 monitor_outputs=True,
                 monitor_logs=monitor_logs,
             )
             return
         except Exception as e:
             logger.warning("Polyaxon sidecar retrying, error %s", e)
             retry += 1
-            await asyncio.sleep(retry)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/components/tuner.py` & `polyaxon-2.0.0rc0/polyaxon/cli/services/tuner.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,22 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+import time
 
 import click
 import ujson
 
 from polyaxon.logger import logger
 
 
@@ -38,36 +39,35 @@
 @click.option(
     "--metrics",
     help="A string representing the list of metrics.",
 )
 @click.option("--iteration", type=int, help="The current iteration.")
 def bayes(matrix, configs, metrics, iteration):
     """Create suggestions based on bayesian optimization."""
-    from polyaxon.client import RunClient
-    from polyaxon.polyflow import V1Bayes
-    from polyaxon.polytune.iteration_lineage import (
-        handle_iteration,
-        handle_iteration_failure,
-    )
-    from polyaxon.polytune.search_managers.bayesian_optimization.manager import (
+    from hypertune.iteration_lineage import handle_iteration, handle_iteration_failure
+    from hypertune.search_managers.bayesian_optimization.manager import (
         BayesSearchManager,
     )
+    from polyaxon.client import RunClient
+    from polyaxon.polyflow import V1Bayes
 
     matrix = V1Bayes.read(matrix)
     if configs:
         configs = ujson.loads(configs)
     if metrics:
         metrics = ujson.loads(metrics)
 
     client = RunClient()
 
-    retry = 1
+    retry = 0
     exp = None
     suggestions = None
     while retry < 3:
+        if retry:
+            time.sleep(retry**2)
         try:
             suggestions = BayesSearchManager(
                 config=matrix,
             ).get_suggestions(configs=configs, metrics=metrics)
             exp = None
             break
         except Exception as e:
@@ -102,46 +102,44 @@
     "--bracket-iteration",
     "--bracket_iteration",
     type=int,
     help="The current hyperband bracket iteration.",
 )
 def hyperband(matrix, configs, metrics, iteration, bracket_iteration):
     """Create suggestions based on hyperband."""
+    from hypertune.iteration_lineage import handle_iteration, handle_iteration_failure
+    from hypertune.search_managers.hyperband.manager import HyperbandManager
     from polyaxon.client import RunClient
     from polyaxon.polyflow import V1Hyperband
-    from polyaxon.polytune.iteration_lineage import (
-        handle_iteration,
-        handle_iteration_failure,
-    )
-    from polyaxon.polytune.search_managers.hyperband.manager import HyperbandManager
 
     matrix = V1Hyperband.read(matrix)
     matrix.set_tuning_params()
     if configs:
         configs = ujson.loads(configs)
     if metrics:
         metrics = ujson.loads(metrics)
 
     client = RunClient()
 
-    retry = 1
+    retry = 0
     exp = None
     suggestions = None
     while retry < 3:
+        if retry:
+            time.sleep(retry**2)
         try:
             suggestions = HyperbandManager(config=matrix).get_suggestions(
                 configs=configs,
                 metrics=metrics,
                 bracket_iteration=bracket_iteration,
                 iteration=iteration,
             )
             exp = None
             break
         except Exception as e:
-            retry += 1
             logger.warning(e)
             exp = e
 
     if exp:
         handle_iteration_failure(client=client, exp=exp)
         return
 
@@ -162,34 +160,33 @@
 @click.option(
     "--metrics",
     help="A string representing the list of metrics.",
 )
 @click.option("--iteration", type=int, help="The current iteration.")
 def hyperopt(matrix, configs, metrics, iteration):
     """Create suggestions based on hyperopt."""
+    from hypertune.iteration_lineage import handle_iteration, handle_iteration_failure
+    from hypertune.search_managers.hyperopt.manager import HyperoptManager
     from polyaxon.client import RunClient
     from polyaxon.polyflow import V1Hyperopt
-    from polyaxon.polytune.iteration_lineage import (
-        handle_iteration,
-        handle_iteration_failure,
-    )
-    from polyaxon.polytune.search_managers.hyperopt.manager import HyperoptManager
 
     matrix = V1Hyperopt.read(matrix)
     if configs:
         configs = ujson.loads(configs)
     if metrics:
         metrics = ujson.loads(metrics)
 
     client = RunClient()
 
-    retry = 1
+    retry = 0
     exp = None
     suggestions = None
     while retry < 3:
+        if retry:
+            time.sleep(retry**2)
         try:
             suggestions = HyperoptManager(config=matrix).get_suggestions(
                 configs=configs, metrics=metrics
             )
             exp = None
             break
         except Exception as e:
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/components/wait.py` & `polyaxon-2.0.0rc0/polyaxon/cli/services/wait.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -34,20 +34,21 @@
 )
 def wait(uuid: str, kind: str, max_retries: int):
     """Delete an s3 subpath."""
     from polyaxon import settings
     from polyaxon.agents.spawners.spawner import Spawner
 
     spawner = Spawner(namespace=settings.CLIENT_CONFIG.namespace, in_cluster=True)
-    retry = 1
+    retry = 0
     while retry < max_retries:
+        if retry:
+            time.sleep(retry**2)
         try:
             k8s_operation = spawner.get(run_uuid=uuid, run_kind=kind)
         except Exception:  # noqa
             k8s_operation = None
         if k8s_operation:
             retry += 1
-            time.sleep(retry)
         else:
             return
 
     sys.exit(1)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/config.py` & `polyaxon-2.0.0rc0/polyaxon/cli/config.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,23 +14,25 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 
 import click
 
+from clipped.dict_utils import dict_to_tabulate
+from clipped.formatting import Printer
+
+from polyaxon import settings
 from polyaxon.cli.errors import handle_cli_error
-from polyaxon.logger import clean_outputs
-from polyaxon.managers.auth import AuthConfigManager
+from polyaxon.cli.session import set_versions_config
+from polyaxon.logger import clean_outputs, logger
 from polyaxon.managers.cli import CliConfigManager
 from polyaxon.managers.client import ClientConfigManager
-from polyaxon.managers.project import ProjectConfigManager
-from polyaxon.managers.run import RunConfigManager
+from polyaxon.managers.home import HomeConfigManager
 from polyaxon.managers.user import UserConfigManager
-from polyaxon.utils.formatting import Printer, dict_tabulate, dict_to_tabulate
 
 
 def validate_options(ctx, param, value):
     possible_values = ["verbose", "host"]
     if value and value not in possible_values:
         raise click.BadParameter(
             "Value `{}` is not supported, must one of the value {}".format(
@@ -48,60 +50,66 @@
     is_flag=True,
     help="Deprecated, please use `polyaxon config show`.",
 )
 @clean_outputs
 def config(_list):  # pylint:disable=redefined-builtin
     """Set and get the global configurations."""
     if _list:
-        Printer.print_warning(
+        Printer.warning(
             "`polyaxon config -l` is deprecated, please use `polyaxon config show`!"
         )
 
 
 @config.command()
 @clean_outputs
 def show():
     """Show the current cli, client, and user configs."""
+    _config = HomeConfigManager.get_config_or_default()
+    Printer.heading(
+        "In addition to environment variables, global configs will be loaded from:"
+    )
+    Printer.dict_tabulate(_config.to_dict())
     _config = ClientConfigManager.get_config_or_default()
-    Printer.print_header("Client config:")
-    dict_tabulate(_config.to_dict())
+    Printer.heading("Client config:")
+    Printer.dict_tabulate(_config.to_dict())
     _config = CliConfigManager.get_config_or_default()
     if _config:
-        Printer.print_header("CLI config:")
+        Printer.heading("CLI config:")
         if _config.current_version:
-            click.echo("Version {}".format(_config.current_version))
+            Printer.print("Version {}".format(_config.current_version))
         else:
-            Printer.print_warning("This cli is not configured.")
+            Printer.warning("This cli is not configured.")
         if _config.installation:
             config_installation = dict_to_tabulate(
                 _config.installation,
                 humanize_values=True,
                 exclude_attrs=["hmac", "auth", "host"],
             )
-            dict_tabulate(config_installation)
+            Printer.heading("Platform config:")
+            Printer.dict_tabulate(config_installation)
         else:
-            Printer.print_warning("This cli is not connected to a Polyaxon Host.")
+            Printer.warning("This cli is not connected to a Polyaxon Host.")
     _config = UserConfigManager.get_config_or_default()
     if _config:
-        Printer.print_header("User config:")
+        Printer.heading("User config:")
         config_user = dict_to_tabulate(
             _config.to_dict(),
             humanize_values=True,
             exclude_attrs=["theme"],
         )
-        dict_tabulate(config_user)
+        Printer.dict_tabulate(config_user)
 
 
 @config.command()
 @click.argument("keys", type=str, nargs=-1)
 @clean_outputs
 def get(keys):
     """Get the specific keys from the global configuration.
 
-    Example:
+    Examples:
 
     \b
     $ polyaxon config get host verify-ssl
     """
     _config = ClientConfigManager.get_config_or_default()
 
     if not keys:
@@ -109,17 +117,17 @@
 
     print_values = {}
     for key in keys:
         key = key.replace("-", "_")
         if hasattr(_config, key):
             print_values[key] = getattr(_config, key)
         else:
-            click.echo("Key `{}` is not recognised.".format(key))
+            Printer.print("Key `{}` is not recognised.".format(key))
 
-    dict_tabulate(print_values)
+    Printer.dict_tabulate(print_values)
 
 
 @config.command()
 @click.option("--debug", type=bool, help="To set the verbosity of the client.")
 @click.option("--host", type=str, help="To set the server endpoint.")
 @click.option(
     "--no-api",
@@ -128,68 +136,95 @@
 )
 @click.option(
     "--verify-ssl",
     type=bool,
     help="To set whether or not to verify the SSL certificate.",
 )
 @click.option(
+    "--home",
+    type=click.Path(exists=True),
+    help="To set POLYAXON_HOME to specify the context where the CLI/Client reads/writes global configuration.",
+)
+@click.option(
     "--disable-errors-reporting",
     type=bool,
     help="To set the disable errors reporting.",
 )
 @click.option(
     "--no-purge",
     is_flag=True,
     default=False,
     help="To reconfigure the host without purging auth and other config options.",
 )
 @clean_outputs
 def set(**kwargs):  # pylint:disable=redefined-builtin
     """Set the global config values.
 
-    Example:
+    Examples:
 
     \b
     $ polyaxon config set --host=localhost
     """
+    if kwargs.get("home") is not None:
+        try:
+            _config = HomeConfigManager.get_config_or_default()
+        except Exception as e:
+            logger.debug(
+                "Home configuration could not be loaded.\n"
+                "Error: %s\n"
+                "Purging home configuration and resetting values.",
+                e,
+            )
+            logger.debug()
+            HomeConfigManager.purge()
+            _config = HomeConfigManager.get_config_or_default()
+        setattr(_config, "path", kwargs.get("home"))
+        HomeConfigManager.set_config(_config)
+
+    from polyaxon.managers.auth import AuthConfigManager
+
     try:
         _config = ClientConfigManager.get_config_or_default()
     except Exception as e:
         handle_cli_error(e, message="Polyaxon load configuration.")
-        Printer.print_header(
-            "You can reset your config by running: polyaxon config purge"
-        )
+        Printer.heading("You can reset your config by running: `polyaxon config purge`")
         sys.exit(1)
 
     should_purge = False
     for key, value in kwargs.items():
-        if key == "host":
+        if key == "host" and value is not None:
             should_purge = True
         if value is not None:
             setattr(_config, key, value)
 
     ClientConfigManager.set_config(_config)
-    Printer.print_success("Config was updated.")
+    Printer.success("Config was updated.")
     # Reset cli config
     CliConfigManager.purge()
     if should_purge and not kwargs.get("no_purge"):
         AuthConfigManager.purge()
         UserConfigManager.purge()
+        settings.set_client_config()
+        set_versions_config()
 
 
 @config.command()
 @click.option(
     "--cache-only",
     is_flag=True,
     help="To purge the cache only.",
 )
 @clean_outputs
 def purge(cache_only):
     """Purge the global config values."""
+    from polyaxon.managers.auth import AuthConfigManager
+    from polyaxon.managers.project import ProjectConfigManager
+    from polyaxon.managers.run import RunConfigManager
+
     if not cache_only:
         ClientConfigManager.purge()
         CliConfigManager.purge()
         AuthConfigManager.purge()
         UserConfigManager.purge()
     ProjectConfigManager.purge()
     RunConfigManager.purge()
-    Printer.print_success("Configs was removed.")
+    Printer.success("Configs was removed.")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/dashboard.py` & `polyaxon-2.0.0rc0/polyaxon/cli/dashboard.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,42 +14,41 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 
 import click
 
+from clipped.formatting import Printer
+from clipped.http_utils import clean_host
+
 from polyaxon import settings
 from polyaxon.api import POLYAXON_CLOUD_HOST
 from polyaxon.logger import clean_outputs
-from polyaxon.utils.http_utils import clean_host
 
 
 def get_dashboard_url(
     base: str = "ui", subpath: str = "", use_cloud: bool = False
 ) -> str:
     host = POLYAXON_CLOUD_HOST if use_cloud else clean_host(settings.CLIENT_CONFIG.host)
     dashboard_url = "{}/{}/".format(host, base)
     if subpath:
         return "{}{}/".format(dashboard_url, subpath.rstrip("/"))
     return dashboard_url
 
 
 def get_dashboard(dashboard_url: str, url_only: bool, yes: bool):
     if url_only:
-        click.echo(dashboard_url)
+        Printer.header("The dashboard is available at: {}".format(dashboard_url))
         sys.exit(0)
-    if not yes:
-        click.confirm(
-            "Dashboard page will now open in your browser. Continue?",
-            abort=True,
-            default=True,
-        )
-
-    click.launch(dashboard_url)
+    if yes or click.confirm(
+        "Dashboard page will now open in your browser. Continue?",
+        default=True,
+    ):
+        click.launch(dashboard_url)
 
 
 @click.command()
 @click.option(
     "--yes",
     "-y",
     is_flag=True,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/executor/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/cli/executor/__init__.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/executor/conda.py` & `polyaxon-2.0.0rc0/polyaxon/cli/executor/conda.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,26 +14,25 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import os
 import subprocess
 import sys
 
-import click
+from clipped.formatting import Printer
+from clipped.hashing import hash_value
 
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.deploy.operators.conda import CondaOperator
 from polyaxon.exceptions import (
     PolyaxonClientException,
     PolyaxonException,
     PolyaxonHTTPError,
     PolyaxonShouldExitError,
 )
-from polyaxon.utils.formatting import Printer
-from polyaxon.utils.hashing import hash_value
 
 
 def _get_conda_env_name(conda_env):
     conda_env_contents = open(conda_env).read() if conda_env else ""
     conda_tag = hash_value(conda_env_contents)
     return "polyaxon-{}".format(conda_tag)
 
@@ -46,15 +45,15 @@
     if not conda.check():
         raise PolyaxonException("Conda is required to run this command.")
 
     envs = conda.execute(["env", "list", "--json"], is_json=True)
     env_names = [os.path.basename(env) for env in envs["envs"]]
     project_env_name = _get_conda_env_name(conda_env)
     if project_env_name not in env_names:
-        click.echo("Creating conda environment {}".format(project_env_name))
+        Printer.info("Creating conda environment {}".format(project_env_name))
         conda.execute(
             ["env", "create", "-n", project_env_name, "--file", conda_env], stream=True
         )
 
     cmd_bash, cmd_args = specification.run.get_container_cmd()
     cmd_args = ["source activate {}".format(project_env_name)] + cmd_args
     subprocess.Popen(cmd_bash + [" && ".join(cmd_args)], close_fds=True)
@@ -75,10 +74,10 @@
             log,
             conda_env,
         )
     except (PolyaxonHTTPError, PolyaxonShouldExitError, PolyaxonClientException) as e:
         handle_cli_error(e, message="Could start local run.")
         sys.exit(1)
     except Exception as e:
-        Printer.print_error("Could not start local run.")
-        Printer.print_error("Unexpected Error: `{}`.".format(e))
+        Printer.error("Could not start local run.")
+        Printer.error("Unexpected Error: `{}`.".format(e))
         sys.exit(1)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/executor/docker.py` & `polyaxon-2.0.0rc0/polyaxon/cli/executor/docker.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -16,31 +16,29 @@
 
 import json
 import os
 import sys
 
 from typing import List
 
+from clipped.formatting import Printer
+
 from polyaxon.cli.errors import handle_cli_error
-from polyaxon.containers.contexts import (
-    CONTEXT_TMP_POLYAXON_PATH,
-    CONTEXT_USER_POLYAXON_PATH,
-)
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.deploy.operators.docker import DockerOperator
-from polyaxon.env_vars.keys import POLYAXON_KEYS_NO_OP
+from polyaxon.env_vars.keys import EV_KEYS_NO_OP
 from polyaxon.exceptions import (
     PolyaxonClientException,
     PolyaxonException,
     PolyaxonHTTPError,
     PolyaxonShouldExitError,
 )
 from polyaxon.polyaxonfile import CompiledOperationSpecification
 from polyaxon.polyflow import V1CompiledOperation
 from polyaxon.tracking import Run
-from polyaxon.utils.formatting import Printer
 
 POLYAXON_DATA_PATH = "/tmp/data"
 
 
 def _get_env_vars(project, experiment_id, params, data_paths=None):
     env_vars = [
         ("POLYAXON_IS_MANAGED", "true"),
@@ -51,16 +49,16 @@
                 {
                     "project_name": project,
                     "experiment_name": "{}.{}".format(project, experiment_id),
                 }
             ),
         ),
     ]
-    if POLYAXON_KEYS_NO_OP in os.environ:
-        env_vars += [(POLYAXON_KEYS_NO_OP, "true")]
+    if EV_KEYS_NO_OP in os.environ:
+        env_vars += [(EV_KEYS_NO_OP, "true")]
     if "POLYAXON_IS_OFFLINE" in os.environ:
         env_vars += [("POLYAXON_IS_OFFLINE", "true")]
 
     paths = {"local": "/tmp"}
 
     if data_paths:
         paths.update(data_paths)
@@ -69,15 +67,20 @@
     env_vars += [("POLYAXON_RUN_DATA_PATHS", json.dumps(paths))]
     env_vars += [("POLYAXON_RUN_OUTPUTS_PATH", "/tmp/artifacts")]
 
     return env_vars
 
 
 def _get_config_volume():
-    return ["-v", "{}:{}".format(CONTEXT_USER_POLYAXON_PATH, CONTEXT_TMP_POLYAXON_PATH)]
+    return [
+        "-v",
+        "{}:{}".format(
+            ctx_paths.CONTEXT_USER_POLYAXON_PATH, ctx_paths.CONTEXT_TMP_POLYAXON_PATH
+        ),
+    ]
 
 
 def _get_data_bind_mounts(mount_refs=None):
     data_paths = {}
     bind_mounts = {}
 
     if not mount_refs:
@@ -106,27 +109,27 @@
     return result
 
 
 def _create_docker_build(*args):
     return ""
 
 
-def _run(ctx, name, owner, project_name, description, tags, specification, log):
+def _run(ctx, name, owner, project_name, description, tags, specification, log, shell):
     docker = DockerOperator()
     if not docker.check():
         raise PolyaxonException("Docker is required to run this command.")
 
     # Create Build
     project = "{}.{}".format(owner, project_name)
     build_job = Run(project=project)
 
     specification = CompiledOperationSpecification.apply_operation_contexts(
         specification
     )
-    content = specification.to_dict(dump=True)
+    content = specification.to_json()
     build_job.create(name=name, description=description, tags=tags, content=content)
     image = _create_docker_build(build_job, specification, project)
 
     experiment = Run(project=project)
     experiment.create(name=name, tags=tags, description=description, content=content)
 
     cmd_args = ["run", "--rm"]
@@ -159,17 +162,28 @@
     name: str,
     owner: str,
     project_name: str,
     description: str,
     tags: List[str],
     compiled_operation: V1CompiledOperation,
     log: bool,
+    shell: bool,
 ):
     try:
-        _run(ctx, name, owner, project_name, description, tags, compiled_operation, log)
+        _run(
+            ctx,
+            name,
+            owner,
+            project_name,
+            description,
+            tags,
+            compiled_operation,
+            log,
+            shell,
+        )
     except (PolyaxonHTTPError, PolyaxonShouldExitError, PolyaxonClientException) as e:
         handle_cli_error(e, message="Could start local run.")
         sys.exit(1)
     except Exception as e:
-        Printer.print_error("Could not start local run.")
-        Printer.print_error("Unexpected Error: `{}`.".format(e))
+        Printer.error("Could not start local run.")
+        Printer.error("Unexpected Error: `{}`.".format(e))
         sys.exit(1)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/executor/k8s.py` & `polyaxon-2.0.0rc0/polyaxon/cli/executor/k8s.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,48 +14,47 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 
 from typing import List
 
-import click
+from clipped.formatting import Printer
 
 from polyaxon import settings
 from polyaxon.agents.spawners.spawner import Spawner
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.cli.operations import logs as run_logs
 from polyaxon.exceptions import (
     PolyaxonCompilerError,
     PolyaxonK8SError,
     PolypodException,
 )
 from polyaxon.polyaxonfile.specs import OperationSpecification
 from polyaxon.polyflow import V1Operation
 from polyaxon.polypod import compiler
-from polyaxon.utils.formatting import Printer
 from polyaxon.utils.fqn_utils import get_resource_name
 
 
 def run(
     ctx,
     name: str,
     owner: str,
     project_name: str,
     description: str,
     tags: List[str],
     op_spec: V1Operation,
     log: bool,
 ):
     if not settings.CLIENT_CONFIG.set_polypod:
-        Printer.print_warning("Polypod not configured!")
+        Printer.warning("Polypod not configured!")
         return
 
     def create_run():
-        click.echo("Creating a run.")
+        Printer.print("Creating a run.")
         try:
             compiled_operation = OperationSpecification.compile_operation(op_spec)
             run_name = compiled_operation.name or name
             resource = compiler.make(
                 owner_name=owner,
                 project_name=project_name,
                 project_uuid=project_name,
@@ -69,15 +68,15 @@
             Spawner(namespace=settings.AGENT_CONFIG.namespace).create(
                 run_uuid=run_name,
                 run_kind=compiled_operation.get_run_kind(),
                 resource=resource,
             )
             # cache.cache(config_manager=RunConfigManager, response=response)
             run_job_uid = get_resource_name(run_name)
-            Printer.print_success("A new run `{}` was created".format(run_job_uid))
+            Printer.success("A new run `{}` was created".format(run_job_uid))
         except (PolyaxonCompilerError, PolyaxonK8SError, PolypodException) as e:
             handle_cli_error(e, message="Could not create a run.")
             sys.exit(1)
 
     create_run()
     logs_cmd = run_logs
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/executor/platform.py` & `polyaxon-2.0.0rc0/polyaxon/cli/executor/platform.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,40 +13,40 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 
 from collections import namedtuple
-from typing import Dict, List
+from typing import Dict, List, Optional
 
-import click
-
-from polyaxon_sdk.rest import ApiException
+from clipped.formatting import Printer
 from urllib3.exceptions import HTTPError
 
 from polyaxon.cli.dashboard import get_dashboard_url
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.cli.operations import approve
 from polyaxon.cli.operations import logs as run_logs
+from polyaxon.cli.operations import shell as run_shell
 from polyaxon.cli.operations import statuses
 from polyaxon.cli.operations import upload as run_upload
+from polyaxon.cli.utils import handle_output
 from polyaxon.client import RunClient
 from polyaxon.constants.globals import DEFAULT_UPLOADS_PATH
 from polyaxon.constants.metadata import (
     META_COPY_ARTIFACTS,
     META_EAGER_MODE,
     META_UPLOAD_ARTIFACTS,
 )
 from polyaxon.managers.run import RunConfigManager
 from polyaxon.polyflow import V1CompiledOperation, V1Operation
 from polyaxon.schemas import V1RunPending
 from polyaxon.schemas.types import V1ArtifactsType
+from polyaxon.sdk.exceptions import ApiException
 from polyaxon.utils import cache
-from polyaxon.utils.formatting import Printer
 
 
 class RunWatchSpec(namedtuple("RunWatchSpec", "uuid name")):
     pass
 
 
 def run(
@@ -54,56 +54,75 @@
     name: str,
     owner: str,
     project_name: str,
     description: str,
     tags: List[str],
     op_spec: V1Operation,
     log: bool,
+    shell: bool,
     upload: bool,
     upload_to: str,
     upload_from: str,
     watch: bool,
     eager: bool,
+    output: Optional[str] = None,
 ):
+    polyaxon_client = RunClient(
+        owner=owner, project=project_name, manual_exceptions_handling=True
+    )
 
-    polyaxon_client = RunClient(owner=owner, project=project_name)
+    def get_instance_info(r):
+        rn = (
+            f"[white]{r.name}[/white]@[white]{r.uuid}[/white]"
+            if r.name
+            else "[white]{r.uuid}[/white]"
+        )
+        return f"[white]{owner}[/white]/[white]{project_name}[/white]:{rn}"
 
     def cache_run(data):
         config = polyaxon_client.client.sanitize_for_serialization(data)
         cache.cache(
             config_manager=RunConfigManager,
             config=config,
             owner=owner,
             project=project_name,
         )
 
     def create_run(
-        is_managed: bool = True, meta_info: Dict = None, pending: str = None
+        is_managed: bool = True,
+        meta_info: Optional[Dict] = None,
+        pending: Optional[str] = None,
     ):
         try:
             response = polyaxon_client.create(
                 name=name,
                 description=description,
                 tags=tags,
                 content=op_spec,
                 is_managed=is_managed,
                 meta_info=meta_info,
                 pending=pending,
             )
-            Printer.print_success("A new run `{}` was created".format(response.uuid))
+            run_url = get_dashboard_url(
+                subpath="{}/{}/runs/{}".format(owner, project_name, response.uuid)
+            )
+            if output:
+                response_data = polyaxon_client.client.sanitize_for_serialization(
+                    response
+                )
+                response_data["url"] = run_url
+                handle_output(response_data, output)
+                return
+            Printer.success(
+                "A new run was created: {}".format(get_instance_info(response))
+            )
             if not eager:
                 cache_run(response)
-                click.echo(
-                    "You can view this run on Polyaxon UI: {}".format(
-                        get_dashboard_url(
-                            subpath="{}/{}/runs/{}".format(
-                                owner, project_name, response.uuid
-                            )
-                        )
-                    )
+                Printer.print(
+                    "You can view this run on Polyaxon UI: {}".format(run_url)
                 )
             return response
         except (ApiException, HTTPError) as e:
             handle_cli_error(
                 e,
                 message="Could not create a run.",
                 http_messages_mapping={
@@ -136,31 +155,39 @@
         ctx.obj = {"project": "{}/{}".format(owner, project_name), "run_uuid": run_uuid}
         ctx.invoke(statuses, watch=True)
 
     def watch_run_logs(run_uuid: str):
         ctx.obj = {"project": "{}/{}".format(owner, project_name), "run_uuid": run_uuid}
         ctx.invoke(run_logs)
 
+    def start_run_shell(run_uuid: str):
+        ctx.obj = {"project": "{}/{}".format(owner, project_name), "run_uuid": run_uuid}
+        ctx.invoke(run_shell)
+
     def upload_run(run_uuid: str):
         ctx.obj = {"project": "{}/{}".format(owner, project_name), "run_uuid": run_uuid}
         ctx.invoke(
             run_upload, path_to=upload_to, path_from=upload_from, sync_failure=True
         )
         ctx.invoke(approve)
 
-    click.echo("Creating a new run...")
+    if not output:
+        Printer.print("Creating a new run...")
     run_meta_info = None
     if eager:
         run_meta_info = {META_EAGER_MODE: True}
     if upload:
+        upload_to = upload_to or DEFAULT_UPLOADS_PATH
         run_meta_info = run_meta_info or {}
-        run_meta_info[META_UPLOAD_ARTIFACTS] = upload_to or DEFAULT_UPLOADS_PATH
+        run_meta_info[META_UPLOAD_ARTIFACTS] = upload_to
     run_instance = create_run(
         not eager, run_meta_info, pending=V1RunPending.UPLOAD if upload else None
     )
+    if not run_instance:
+        return
 
     runs_to_watch = [RunWatchSpec(run_instance.uuid, run_instance.name)]
 
     build_uuid = None
     if run_instance.pending == V1RunPending.BUILD and run_instance.settings.build:
         build_uuid = run_instance.settings.build.get("uuid")
         build_name = run_instance.settings.build.get("name")
@@ -173,44 +200,45 @@
         from polyaxon.polyaxonfile.manager import get_eager_matrix_operations
 
         refresh_run()
         # Prepare artifacts
         run_meta_info = {}
         if upload:
             run_meta_info = {
-                META_UPLOAD_ARTIFACTS: upload_to or DEFAULT_UPLOADS_PATH,
+                META_UPLOAD_ARTIFACTS: upload_to,
                 META_COPY_ARTIFACTS: V1ArtifactsType(
                     dirs=[run_instance.uuid]
                 ).to_dict(),
             }
         compiled_operation = V1CompiledOperation.read(polyaxon_client.run_data.content)
         matrix_content = polyaxon_client.run_data.raw_content
         # Delete matrix placeholder
-        click.echo("Cleaning matrix run placeholder...")
+        Printer.print("Cleaning matrix run placeholder...")
         delete_run()
         # Suggestions
-        click.echo("Starting eager mode...")
+        Printer.print("Starting eager mode...")
         for op_spec in get_eager_matrix_operations(
             content=matrix_content,
             compiled_operation=compiled_operation,
             is_cli=True,
         ):
             i_run_instance = create_run(meta_info=run_meta_info)
             runs_to_watch.append(RunWatchSpec(i_run_instance.uuid, i_run_instance.name))
 
         return
 
     # Check if we need to invoke logs
-    if watch and not eager:
-        for instance in runs_to_watch:
-            Printer.print_success(
-                f"Starting watch for run: <Name: {instance.name}> - <uuid: {instance.uuid}>"
-            )
-            watch_run_statuses(instance.uuid)
-
-    # Check if we need to invoke logs
-    if log and not eager:
-        for instance in runs_to_watch:
-            Printer.print_success(
-                f"Starting logs for run: <Name: {instance.name}> - <uuid: {instance.uuid}>"
-            )
-            watch_run_logs(instance.uuid)
+    if not eager:
+        if watch:
+            for instance in runs_to_watch:
+                Printer.header(f"Starting watch for run: {get_instance_info(instance)}")
+                watch_run_statuses(instance.uuid)
+        if log:
+            for instance in runs_to_watch:
+                Printer.header(f"Starting logs for run: {get_instance_info(instance)}")
+                watch_run_logs(instance.uuid)
+        if shell:
+            for instance in runs_to_watch:
+                Printer.header(
+                    f"Starting shell session for run: {get_instance_info(instance)}",
+                )
+                start_run_shell(instance.uuid)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/hub.py` & `polyaxon-2.0.0rc0/polyaxon/cli/components.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,623 +14,620 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import os
 import sys
 
 import click
 
-from polyaxon_sdk import V1ComponentHub, V1ComponentVersion
-from polyaxon_sdk.rest import ApiException
-from urllib3.exceptions import HTTPError
+from clipped.dict_utils import list_dicts_to_tabulate
+from clipped.formatting import Printer
 
 from polyaxon import settings
-from polyaxon.cli.dashboard import get_dashboard_url
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.cli.options import (
-    OPTIONS_COMPONENT_HUB,
     OPTIONS_COMPONENT_VERSION,
-    OPTIONS_OWNER,
+    OPTIONS_NAME,
+    OPTIONS_PROJECT,
+)
+from polyaxon.cli.project_versions import (
+    copy_project_version,
+    delete_project_version,
+    get_project_version,
+    get_project_version_stages,
+    list_project_versions,
+    open_project_version_dashboard,
+    pull_one_or_many_project_versions,
+    register_project_version,
+    stage_project_version,
+    transfer_project_version,
+    update_project_version,
 )
-from polyaxon.cli.utils import get_entity_details
 from polyaxon.client import PolyaxonClient
-from polyaxon.constants.globals import DEFAULT_HUB, NO_AUTH
-from polyaxon.env_vars.getters import get_component_info
-from polyaxon.exceptions import PolyaxonException
-from polyaxon.logger import clean_outputs
+from polyaxon.constants.globals import NO_AUTH
+from polyaxon.env_vars.getters import get_project_or_local
+from polyaxon.lifecycle import V1ProjectVersionKind, V1Stages
+from polyaxon.logger import clean_outputs, not_in_ce
 from polyaxon.polyaxonfile import get_specification
 from polyaxon.schemas.cli.client_config import ClientConfig
-from polyaxon.utils.formatting import (
-    Printer,
-    dict_tabulate,
-    dict_to_tabulate,
-    get_meta_response,
-    list_dicts_to_tabulate,
-)
-from polyaxon.utils.query_params import get_query_params
-from polyaxon.utils.validation import validate_tags
 
 
 def get_current_or_public_client():
-    if settings.CLI_CONFIG.is_ce:
-        return PolyaxonClient(config=ClientConfig(), token=NO_AUTH)
+    if settings.CLI_CONFIG and settings.CLI_CONFIG.is_community:
+        return PolyaxonClient(
+            config=ClientConfig(use_cloud_host=True, verify_ssl=False),
+            token=NO_AUTH,
+        )
 
     return PolyaxonClient()
 
 
-def get_specification_details(specification):
+def get_specification_details(content):
+    if not content:
+        Printer.warning(
+            "This component version does not have any polyaxonfile content!"
+        )
+        return
+    specification = get_specification(data=content)
     if specification.inputs:
-        Printer.print_header("Component inputs:")
+        Printer.heading("Component inputs:")
         objects = list_dicts_to_tabulate([i.to_dict() for i in specification.inputs])
-        dict_tabulate(objects, is_list_dict=True)
+        Printer.dict_tabulate(objects, is_list_dict=True)
 
     if specification.outputs:
-        Printer.print_header("Component outputs:")
+        Printer.heading("Component outputs:")
         objects = list_dicts_to_tabulate([o.to_dict() for o in specification.outputs])
-        dict_tabulate(objects, is_list_dict=True)
-
-    Printer.print_header("Content:")
-    click.echo(specification.to_dict())
-
+        Printer.dict_tabulate(objects, is_list_dict=True)
 
-def get_component_version_details(response):
-    content = response.content
-    response = dict_to_tabulate(
-        response.to_dict(), humanize_values=True, exclude_attrs=["content"]
-    )
-
-    Printer.print_header("Component info:")
-    dict_tabulate(response)
-
-    if content:
-        specification = get_specification(data=content)
-        get_specification_details(specification)
-    else:
-        Printer.print_warning(
-            "This component version does not have any polyaxonfile content!"
-        )
-
-
-def get_info(component: str = None, version: str = None):
-    if not any([component, version]):
-        Printer.print_error(
-            "A component or a component version is required.", sys_exit=True
-        )
-    if all([component, version]):
-        Printer.print_error(
-            "Only a component or a component version is required, not both.",
-            sys_exit=True,
-        )
-
-    if component:
-        entity = component
-        entity_name = "component"
-        is_version = False
-    else:
-        entity = version
-        entity_name = "component version"
-        is_version = True
-
-    try:
-        owner, component_hub, component_version = get_component_info(entity)
-        return owner, component_hub, component_version, is_version
-    except PolyaxonException as e:
-        handle_cli_error(
-            e,
-            message="Could not resolve the {} from the value `{}`.".format(
-                entity_name, entity
-            ),
-            sys_exit=True,
-        )
+    Printer.heading("Content:")
+    Printer.print_yaml(content)
 
 
 @click.group()
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
+@click.option(*OPTIONS_COMPONENT_VERSION["args"], **OPTIONS_COMPONENT_VERSION["kwargs"])
+@click.pass_context
 @clean_outputs
-def hub():
-    """Commands for component hub."""
+def components(ctx, project, version):
+    """Commands for managing components."""
+    ctx.obj = ctx.obj or {}
+    if project or version:
+        Printer.warning(
+            "Passing arguments to command groups is deprecated and will be removed in v2! "
+            "Please use arguments on the sub-command directly: `polyaxon ops SUB_COMMAND --help`"
+        )
+    ctx.obj["project"] = project
+    if ctx.invoked_subcommand not in ["ls"]:
+        ctx.obj["version"] = version
 
 
-@hub.command()
+@components.command()
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
 @click.option(
-    "--name", type=str, help="The component hub name, e.g. 'kaniko' or 'acme/kaniko'."
+    "--query",
+    "-q",
+    type=str,
+    help="To filter the component versions based on this query spec.",
 )
-@click.option("--description", type=str, help="Description of the component.")
-@click.option("--tags", type=str, help="Tags of the component, comma separated values.")
 @click.option(
-    "--public", is_flag=True, help="Set the visibility of the component to public."
+    "--sort",
+    "-s",
+    type=str,
+    help="To order the component versions based on the sort spec.",
 )
+@click.option("--limit", type=int, help="To limit the list of component versions.")
+@click.option("--offset", type=int, help="To offset the list of component versions.")
+@click.pass_context
 @clean_outputs
-def create(name, description, tags, public):
-    """Create a new component.
+def ls(ctx, project, query, sort, limit, offset):
+    """List component versions by project or owner/project.
 
-    Example:
+    Examples:
 
     \b
-    $ polyaxon hub create --name=kaniko --description="Tool to build container images"
+    $ polyaxon components ls -p=kaniko
 
     \b
-    $ polyaxon hub create --name=owner/name --description="Component description"
+    $ polyaxon components ls -p=acme/kaniko
     """
-    if not name:
-        Printer.print_error(
-            "Please provide a name to create a component hub.",
-            command_help="hub create",
-            sys_exit=True,
-        )
-    owner, hub_name, _, _ = get_info(name, None)
-
-    tags = validate_tags(tags)
-
-    if not owner or not hub_name:
-        Printer.print_error(
-            "Please provide a valid component name with --name=owner/hub-name. "
-        )
-        sys.exit(1)
-
-    try:
-        hub_config = V1ComponentHub(
-            name=hub_name, description=description, tags=tags, is_public=public
-        )
-        polyaxon_client = PolyaxonClient()
-        _hub = polyaxon_client.component_hub_v1.create_component_hub(owner, hub_config)
-    except (ApiException, HTTPError) as e:
-        handle_cli_error(
-            e, message="Could not create component hub `{}`.".format(hub_name)
-        )
-        sys.exit(1)
-
-    Printer.print_success(
-        "Component hub `{}` was created successfully.".format(_hub.name)
+    owner, project_name = get_project_or_local(
+        project or ctx.obj.get("project"), is_cli=True
     )
-    click.echo(
-        "You can view this component hub on Polyaxon UI: {}".format(
-            get_dashboard_url(subpath="{}/hub/{}".format(owner, _hub.name))
-        )
+    polyaxon_client = get_current_or_public_client()
+    list_project_versions(
+        owner=owner,
+        project_name=project_name,
+        kind=V1ProjectVersionKind.COMPONENT,
+        query=query,
+        sort=sort,
+        limit=limit,
+        offset=offset,
+        client=polyaxon_client,
     )
 
 
-@hub.command()
+@components.command()
 @click.option(
     "-f",
     "--file",
     "polyaxonfile",
     type=click.Path(exists=True),
-    help="The component spec version to push.",
+    help="The component spec version to register.",
 )
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
+@click.option(*OPTIONS_COMPONENT_VERSION["args"], **OPTIONS_COMPONENT_VERSION["kwargs"])
+@click.option("--description", type=str, help="Description of the version.")
+@click.option("--tags", type=str, help="Tags of the version (comma separated values).")
 @click.option(
-    "--name",
-    type=str,
-    help="The component version name, e.g. 'kaniko' or 'kaniko:1.2' "
-    "or 'acme/kaniko:latest' or 'acme/kaniko:dev'.",
+    "--force",
+    is_flag=True,
+    default=False,
+    help="Flag to force register if the version already exists.",
 )
-@click.option("--description", type=str, help="Description of the version.")
-@click.option("--tags", type=str, help="Tags of the version, comma separated values.")
+@click.pass_context
+@not_in_ce
 @clean_outputs
-def push(polyaxonfile, name, description, tags):
-    """Push a new component version.
-    If the name corresponds to an existing component version, it will be updated.
+def register(ctx, polyaxonfile, project, version, description, tags, force):
+    """Register a new component version.
+    If the name corresponds to an existing component version,
+    it will raise an error or it will update the version if `--force` is provided.
+
+    Examples:
 
-    Example:
+    \b
+    $ polyaxon components register -f polyaxonfile.yaml
+
+    \b
+    $ polyaxon components register -f polyaxonfile.yaml --project=kaniko --description="..."
 
     \b
-    $ polyaxon hub push -f polyaxonfile.yaml --name=kaniko:latest --description="Tool to build container images"
+    $ polyaxon components register -f polyaxonfile.yaml -p kaniko -ver latest
 
     \b
-    $ polyaxon hub push -f polyaxonfile.yaml --name=owner/name:v1 --description="Component description"
+    $ polyaxon components register -f polyaxonfile.yaml -p owner/name -ver v1 --tags="tag1,tag2"
     """
-    if not name:
-        Printer.print_error(
-            "Please provide a name to create a component version.",
-            command_help="hub push",
-            sys_exit=True,
-        )
-    owner, hub_name, version, is_version = get_info(None, name)
-    tags = validate_tags(tags)
+    version = version or ctx.obj.get("version")
+    owner, project_name = get_project_or_local(
+        project or ctx.obj.get("project"), is_cli=True
+    )
 
     if not polyaxonfile or not os.path.isfile(polyaxonfile):
-        Printer.print_error(
+        Printer.error(
             "Please provide a path to a polyaxonfile to create a component version.",
-            command_help="hub push",
+            command_help="polyaxon components register",
             sys_exit=True,
         )
     try:
         plx_file = get_specification(data=polyaxonfile)
     except Exception as e:
         handle_cli_error(e, message="Polyaxonfile is not valid.")
         sys.exit(1)
 
-    if not owner or not hub_name or not version:
-        Printer.print_error(
-            "Please provide a valid component version with --name=owner/hub-name:version. "
-        )
-        sys.exit(1)
-
-    polyaxon_client = PolyaxonClient()
-    try:
-        polyaxon_client.component_hub_v1.get_component_version(owner, hub_name, version)
-        to_update = True
-    except (ApiException, HTTPError):
-        to_update = False
-
-    if to_update:
-        if not click.confirm(
-            "A component version {}/{}:{} already exists. "
-            "Do you want to push force this version?".format(owner, hub_name, version)
-        ):
-            click.echo("Existing without pushing component version.")
-            sys.exit(1)
-
-    try:
-        hub_config = V1ComponentVersion(
-            name=version,
-            description=description,
-            tags=tags,
-            content=plx_file.to_dict(dump=True),
-        )
-        if to_update:
-            _version = polyaxon_client.component_hub_v1.update_component_version(
-                owner,
-                hub_name,
-                version,
-                hub_config,
-            )
-        else:
-            _version = polyaxon_client.component_hub_v1.create_component_version(
-                owner,
-                hub_name,
-                hub_config,
-            )
-    except (ApiException, HTTPError) as e:
-        handle_cli_error(
-            e, message="Could not create component version `{}`.".format(hub_name)
-        )
-        sys.exit(1)
-
-    Printer.print_success(
-        "Component version `{}` was created successfully.".format(_version.name)
-    )
-    click.echo(
-        "You can view this component version on Polyaxon UI: {}".format(
-            get_dashboard_url(
-                subpath="{}/hub/{}/versions/{}".format(owner, hub_name, _version.name)
-            )
-        )
+    register_project_version(
+        owner=owner,
+        project_name=project_name,
+        version=version,
+        kind=V1ProjectVersionKind.COMPONENT,
+        description=description,
+        tags=tags,
+        content=plx_file.to_json(),
+        force=force,
     )
 
 
-@hub.command()
-@click.option(*OPTIONS_OWNER["args"], **OPTIONS_OWNER["kwargs"])
-@click.option(*OPTIONS_COMPONENT_HUB["args"], **OPTIONS_COMPONENT_HUB["kwargs"])
+@components.command()
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
+@click.option(*OPTIONS_COMPONENT_VERSION["args"], **OPTIONS_COMPONENT_VERSION["kwargs"])
 @click.option(
-    "--query",
-    "-q",
+    "--to-project",
+    "-to",
+    help="The project to transfer the version to.",
+)
+@click.option(
+    *OPTIONS_NAME["args"],
     type=str,
-    help="To filter the component hub/versions based on this query spec.",
+    help="Name of the component version, must be unique within a project.",
 )
 @click.option(
-    "--sort",
-    "-s",
+    "--description", type=str, help="Optional new description of the version."
+)
+@click.option(
+    "--tags",
     type=str,
-    help="To order the component hub/versions based on the sort spec.",
+    help="Optional new tags of the version (comma separated values).",
 )
-@click.option("--limit", type=int, help="To limit the list of component hub/versions.")
 @click.option(
-    "--offset", type=int, help="To offset the list of component hub/versions."
+    "--force",
+    is_flag=True,
+    default=False,
+    help="Flag to force copy if the version already exists.",
 )
+@click.pass_context
+@not_in_ce
 @clean_outputs
-def ls(owner, component, query, sort, limit, offset):
-    """List component hub/versions by owner or owner/component."""
-    if owner and component:
-        Printer.print_error(
-            "Only an owner or a component is required, not both.", sys_exit=True
-        )
-    if component:
-        owner, component_hub, component_version, is_version = get_info(component, None)
-    else:
-        owner = owner or DEFAULT_HUB
-        component_hub = None
-    if not owner:
-        Printer.print_error(
-            "Please provide a valid owner --owner/-o or a component --component/-c."
-        )
-        sys.exit(1)
+def copy(
+    ctx,
+    project,
+    version,
+    to_project,
+    name,
+    description,
+    tags,
+    force,
+):
+    """Copy a component version.
+    If the name corresponds to an existing component version,
+    it will raise an error or it will update the version if `--force` is provided.
 
-    def list_versions():
-        component_info = "<owner: {}> <component: {}>".format(owner, component_hub)
-        try:
-            polyaxon_client = get_current_or_public_client()
-            params = get_query_params(
-                limit=limit, offset=offset, query=query, sort=sort
-            )
-            response = polyaxon_client.component_hub_v1.list_component_versions(
-                owner, component_hub, **params
-            )
-        except (ApiException, HTTPError) as e:
-            message = "Could not get list of component version."
-            handle_cli_error(e, message=message)
-            sys.exit(1)
-
-        meta = get_meta_response(response)
-        if meta:
-            Printer.print_header("Versions for {}".format(component_info))
-            Printer.print_header("Navigation:")
-            dict_tabulate(meta)
-        else:
-            Printer.print_header("No version found for {}".format(component_info))
-
-        objects = list_dicts_to_tabulate(
-            [o.to_dict() for o in response.results],
-            humanize_values=True,
-            exclude_attrs=[
-                "uuid",
-                "readme",
-                "description",
-                "owner",
-                "owner",
-                "role",
-                "settings",
-                "content",
-                "live_state",
-            ],
-        )
-        if objects:
-            Printer.print_header("Component versions:")
-            dict_tabulate(objects, is_list_dict=True)
-
-    def list_components():
-        try:
-            polyaxon_client = get_current_or_public_client()
-            params = get_query_params(
-                limit=limit, offset=offset, query=query, sort=sort
-            )
-            response = polyaxon_client.component_hub_v1.list_component_hubs(
-                owner, **params
-            )
-        except (ApiException, HTTPError) as e:
-            message = "Could not get list of components."
-            handle_cli_error(e, message=message)
-            sys.exit(1)
-
-        meta = get_meta_response(response)
-        if meta:
-            Printer.print_header("Components for owner {}".format(owner))
-            Printer.print_header("Navigation:")
-            dict_tabulate(meta)
-        else:
-            Printer.print_header("No component hub found for owner {}".format(owner))
-
-        objects = list_dicts_to_tabulate(
-            [o.to_dict() for o in response.results],
-            humanize_values=True,
-            exclude_attrs=[
-                "uuid",
-                "readme",
-                "description",
-                "owner",
-                "role",
-                "settings",
-                "live_state",
-            ],
-        )
-        if objects:
-            Printer.print_header("Components:")
-            dict_tabulate(objects, is_list_dict=True)
+    Examples:
+
+    \b
+    $ polyaxon components copy --version=version-name --to-project dest-project
 
-    if component:
-        list_versions()
-    else:
-        list_components()
+    \b
+    $ polyaxon components copy --project=kaniko -to dest-project --force
+
+    \b
+    $ polyaxon components copy -p kaniko -ver latest
+
+    \b
+    $ polyaxon components copy -p owner/name -ver v1 --tags="tag1,tag2" --name new-v1
+    """
+    version = version or ctx.obj.get("version")
+    owner, project_name = get_project_or_local(
+        project or ctx.obj.get("project"), is_cli=True
+    )
+    copy_project_version(
+        owner=owner,
+        project_name=project_name,
+        version=version,
+        kind=V1ProjectVersionKind.COMPONENT,
+        to_project=to_project,
+        name=name,
+        description=description,
+        tags=tags,
+        force=force,
+    )
 
 
-@hub.command()
-@click.option(*OPTIONS_COMPONENT_HUB["args"], **OPTIONS_COMPONENT_HUB["kwargs"])
+@components.command()
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
 @click.option(*OPTIONS_COMPONENT_VERSION["args"], **OPTIONS_COMPONENT_VERSION["kwargs"])
+@click.pass_context
 @clean_outputs
-def get(component, version):
-    """Get info for a component hub by name, or owner/hub_name,
-    or component version by name, name:tag, owner/name:tag.
+def get(ctx, project, version):
+    """Get info for a component version by name, name & version, owner/name & tag.
 
     Examples:
 
-    To get a default component hub:
+    \b
+    $ polyaxon components get  // returns `latest` in current project
 
     \b
-    $ polyaxon hub get -h tensorboard
+    $ polyaxon components get --project=my-project --version=test-version
 
-    To get by specific owner/name
+    \b
+    $ polyaxon components get -p owner/my-project -ver rc12
+    """
+    version = version or ctx.obj.get("version") or "latest"
+    owner, project_name = get_project_or_local(
+        project or ctx.obj.get("project"), is_cli=True
+    )
+    polyaxon_client = get_current_or_public_client()
+
+    get_project_version(
+        owner=owner,
+        project_name=project_name,
+        kind=V1ProjectVersionKind.COMPONENT,
+        version=version,
+        content_callback=get_specification_details,
+        client=polyaxon_client,
+    )
+
+
+@components.command()
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
+@click.option(*OPTIONS_COMPONENT_VERSION["args"], **OPTIONS_COMPONENT_VERSION["kwargs"])
+@click.pass_context
+@clean_outputs
+def stages(ctx, project, version):
+    """List stages information for a component version by name, name & version, owner/name & tag.
+
+    Examples:
+
+    \b
+    $ polyaxon components stages // returns `latest` in current project
 
     \b
-    $ polyaxon hub get -p owner/my-component
+    $ polyaxon components stages --project=my-project --version=test-version
+
+    \b
+    $ polyaxon components stages -p owner/my-project -ver rc12
     """
-    owner, component_hub, component_version, is_version = get_info(component, version)
+    version = version or ctx.obj.get("version") or "latest"
+    owner, project_name = get_project_or_local(
+        project or ctx.obj.get("project"), is_cli=True
+    )
+    polyaxon_client = get_current_or_public_client()
 
-    try:
-        polyaxon_client = get_current_or_public_client()
-        if is_version:
-            response = polyaxon_client.component_hub_v1.get_component_version(
-                owner, component_hub, component_version
-            )
-            get_component_version_details(response)
-        else:
-            response = polyaxon_client.component_hub_v1.get_component_hub(
-                owner, component_hub
-            )
-            response.owner = owner
-            get_entity_details(response, "Component hub")
-    except (ApiException, HTTPError) as e:
-        handle_cli_error(
-            e,
-            message="Could not get `{}`.".format(
-                component_version if is_version else component_hub
-            ),
-            sys_exit=True,
-        )
+    get_project_version_stages(
+        owner=owner,
+        project_name=project_name,
+        kind=V1ProjectVersionKind.COMPONENT,
+        version=version,
+        client=polyaxon_client,
+    )
 
 
-@hub.command()
-@click.option(*OPTIONS_COMPONENT_HUB["args"], **OPTIONS_COMPONENT_HUB["kwargs"])
+@components.command()
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
 @click.option(*OPTIONS_COMPONENT_VERSION["args"], **OPTIONS_COMPONENT_VERSION["kwargs"])
+@click.option(
+    "--yes",
+    "-y",
+    is_flag=True,
+    default=False,
+    help="Automatic yes to prompts. "
+    'Assume "yes" as answer to all prompts and run non-interactively.',
+)
+@click.pass_context
+@not_in_ce
 @clean_outputs
-def delete(component, version):
-    """Delete a component hub or a component version."""
-    owner, component_hub, component_version, is_version = get_info(component, version)
-    full_entity = (
-        "{}/{}:{}".format(owner, component_hub, component_version)
-        if is_version
-        else "{}/{}".format(owner, component_hub)
-    )
-
-    if not click.confirm(
-        "Are sure you want to delete component {} `{}`".format(
-            "version" if is_version else "hub", full_entity
-        )
-    ):
-        click.echo("Existing without deleting component hub.")
-        sys.exit(1)
+def delete(ctx, project, version, yes):
+    """Delete component version.
 
-    try:
-        polyaxon_client = PolyaxonClient()
-        if is_version:
-            polyaxon_client.component_hub_v1.delete_component_version(
-                owner, component_hub, component_version
-            )
-        else:
-            polyaxon_client.component_hub_v1.delete_component_hub(owner, component_hub)
-        Printer.print_success(
-            "Component {} `{}` was delete successfully".format(
-                "version" if is_version else "hub", full_entity
-            )
-        )
-    except (ApiException, HTTPError) as e:
-        handle_cli_error(
-            e,
-            message="Could not delete component {} `{}`.".format(
-                "version" if is_version else "hub", full_entity
-            ),
-        )
-        sys.exit(1)
+    Examples:
 
+    \b
+    $ polyaxon components delete  // delete `latest` in current project
 
-@hub.command()
-@click.option(*OPTIONS_COMPONENT_HUB["args"], **OPTIONS_COMPONENT_HUB["kwargs"])
+    \b
+    $ polyaxon components delete --project=my-project --version=test-version
+
+    \b
+    $ polyaxon components get -p owner/my-project -ver rc12
+    """
+    version = version or ctx.obj.get("version") or "latest"
+    owner, project_name = get_project_or_local(
+        project or ctx.obj.get("project"), is_cli=True
+    )
+    delete_project_version(
+        owner=owner,
+        project_name=project_name,
+        kind=V1ProjectVersionKind.COMPONENT,
+        version=version,
+        yes=yes,
+    )
+
+
+@components.command()
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
 @click.option(*OPTIONS_COMPONENT_VERSION["args"], **OPTIONS_COMPONENT_VERSION["kwargs"])
 @click.option(
-    "--name",
+    *OPTIONS_NAME["args"],
     type=str,
-    help="Name of the component hub, must be unique for the same user.",
+    help="Name of the component version, must be unique within a project.",
+)
+@click.option("--description", type=str, help="Description of the component version.")
+@click.option(
+    "--tags", type=str, help="Tags of the component version (comma separated values)."
+)
+@click.pass_context
+@not_in_ce
+@clean_outputs
+def update(ctx, project, version, name, description, tags):
+    """Update component version.
+
+    Uses /docs/core/cli/#caching
+
+    Examples:
+
+    \b
+    $ polyaxon components update --version=foobar --description="..."
+
+    \b
+    $ polyaxon components update -p mike1/foobar -ver current-name --name=new-name
+
+    \b
+    $ polyaxon components update --tags="foo, bar"
+    """
+    version = version or ctx.obj.get("version") or "latest"
+    owner, project_name = get_project_or_local(
+        project or ctx.obj.get("project"), is_cli=True
+    )
+    update_project_version(
+        owner=owner,
+        project_name=project_name,
+        kind=V1ProjectVersionKind.COMPONENT,
+        version=version,
+        name=name,
+        description=description,
+        tags=tags,
+        content_callback=get_specification_details,
+    )
+
+
+@components.command()
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
+@click.option(*OPTIONS_COMPONENT_VERSION["args"], **OPTIONS_COMPONENT_VERSION["kwargs"])
+@click.option(
+    "--to",
+    "-to",
+    type=click.Choice(V1Stages.to_list(), case_sensitive=True),
+    help="Stage to transition to.",
 )
-@click.option("--description", type=str, help="Description of the component hub.")
 @click.option(
-    "--tags", type=str, help="Tags of the run, comma separated values (optional)."
+    "--reason",
+    type=str,
+    help="Reason or service to set with this stage change. "
+    "Default: UserStageUpdate, e.g. CustomAlertTrigger.",
 )
 @click.option(
-    "--private",
-    type=bool,
-    help="Set the visibility of the component hub to private/public.",
+    "--message", type=str, help="Additional information to set with this stage change."
 )
+@click.pass_context
+@not_in_ce
 @clean_outputs
-def update(component, version, name, description, tags, private):
-    """Update component hub.
+def stage(ctx, project, version, to, reason, message):
+    """Update stage for a component version.
 
     Uses /docs/core/cli/#caching
 
-    Example:
+    Examples:
 
     \b
-    $ polyaxon hub update foobar --description="Image Classification with DL using TensorFlow"
+    $ polyaxon components stage -ver rc12 -to production
 
     \b
-    $ polyaxon hub update mike1/foobar --description="Image Classification with DL using TensorFlow"
+    $ polyaxon components stage -p acme/foobar -ver rc12 --to=staging --reason GithubAction --message="Use carefully!"
+    """
+    version = version or ctx.obj.get("version") or "latest"
+    owner, project_name = get_project_or_local(
+        project or ctx.obj.get("project"), is_cli=True
+    )
+    stage_project_version(
+        owner=owner,
+        project_name=project_name,
+        kind=V1ProjectVersionKind.COMPONENT,
+        version=version,
+        to=to,
+        reason=reason,
+        message=message,
+    )
+
+
+@components.command()
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
+@click.option(*OPTIONS_COMPONENT_VERSION["args"], **OPTIONS_COMPONENT_VERSION["kwargs"])
+@click.option(
+    "--to-project",
+    "-to",
+    help="The project to transfer the version to.",
+)
+@click.pass_context
+@not_in_ce
+@clean_outputs
+def transfer(ctx, project, version, to_project):
+    """Transfer the version to a destination project under the same owner/organization.
+
+    Uses /docs/core/cli/#caching
+
+    Examples:
 
     \b
-    $ polyaxon hub update --tags="foo, bar"
+    $ polyaxon components transfer -ver rc12 -to dest-project
+
+    \b
+    $ polyaxon components transfer -p acme/foobar -ver rc12 --to-project=dest-project
     """
-    owner, component_hub, component_version, is_version = get_info(component, version)
-    full_entity = (
-        "{}/{}:{}".format(owner, component_hub, component_version)
-        if is_version
-        else "{}/{}".format(owner, component_hub)
-    )
-
-    update_dict = {}
-    if name:
-        update_dict["name"] = name
-
-    if description:
-        update_dict["description"] = description
-
-    tags = validate_tags(tags)
-    if tags:
-        update_dict["tags"] = tags
-
-    if private is not None:
-        update_dict["is_public"] = not private
-
-    if not update_dict:
-        Printer.print_warning(
-            "No argument was provided to update the component {}.".format(
-                "version" if is_version else "hub"
-            )
-        )
-        sys.exit(1)
+    version = version or ctx.obj.get("version") or "latest"
+    owner, project_name = get_project_or_local(
+        project or ctx.obj.get("project"), is_cli=True
+    )
+    transfer_project_version(
+        owner=owner,
+        project_name=project_name,
+        kind=V1ProjectVersionKind.COMPONENT,
+        version=version,
+        to_project=to_project,
+    )
 
-    try:
-        polyaxon_client = PolyaxonClient()
-        if is_version:
-            response = polyaxon_client.component_hub_v1.patch_component_version(
-                owner, component_hub, component_version, body=update_dict
-            )
-            Printer.print_success("Component version updated.")
-            get_component_version_details(response)
-        else:
-            response = polyaxon_client.component_hub_v1.patch_component_hub(
-                owner, component_hub, body=update_dict
-            )
-            Printer.print_success("Component updated.")
-            get_entity_details(response, "Component hub")
-    except (ApiException, HTTPError) as e:
-        handle_cli_error(
-            e,
-            message="Could not update component {} `{}`.".format(
-                "version" if is_version else "hub", full_entity
-            ),
-        )
-        sys.exit(1)
 
+@components.command()
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
+@click.option(*OPTIONS_COMPONENT_VERSION["args"], **OPTIONS_COMPONENT_VERSION["kwargs"])
+@click.option(
+    "--all-versions",
+    "-a",
+    is_flag=True,
+    default=False,
+    help="To pull all versions.",
+)
+@click.option(
+    "--query", "-q", type=str, help="To filter the versions based on a query spec."
+)
+@click.option("--limit", "-l", type=int, help="To limit the list of runs.")
+@click.option("--offset", "-off", type=int, help="To offset the list of runs.")
+@click.option(
+    "--path",
+    "--path-to",
+    type=click.Path(exists=False),
+    help="Optional path where the component versions are persisted, "
+    "default value is taken from the env var: `POLYAXON_OFFLINE_ROOT`.",
+)
+@click.pass_context
+@not_in_ce
+@clean_outputs
+def pull(
+    ctx,
+    project,
+    version,
+    all_versions,
+    query,
+    limit,
+    offset,
+    path,
+):
+    """Package and download a component version or multiple component versions to a local path.
+
+    Uses /docs/core/cli/#caching
+
+    Examples:
 
-@hub.command()
-@click.option(*OPTIONS_COMPONENT_HUB["args"], **OPTIONS_COMPONENT_HUB["kwargs"])
+    \b
+    $ polyaxon components pull -ver rc12
+
+    \b
+    $ polyaxon components pull -p acme/foobar -q "stage: production, name: %-v1%"
+
+    \b
+    $ polyaxon components pull -p acme/foobar -a --path /tmp/versions
+    """
+    owner, project_name = get_project_or_local(
+        project or ctx.obj.get("project"), is_cli=True
+    )
+    pull_one_or_many_project_versions(
+        owner=owner,
+        project_name=project_name,
+        kind=V1ProjectVersionKind.COMPONENT,
+        version=version,
+        all_versions=all_versions,
+        query=query,
+        limit=limit,
+        offset=offset,
+        path=path,
+        download_artifacts=False,
+    )
+
+
+@components.command()
+@click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
 @click.option(*OPTIONS_COMPONENT_VERSION["args"], **OPTIONS_COMPONENT_VERSION["kwargs"])
 @click.option(
     "--yes",
     "-y",
     is_flag=True,
     default=False,
     help="Automatic yes to prompts. "
     'Assume "yes" as answer to all prompts and run non-interactively.',
 )
 @click.option(
     "--url",
     is_flag=True,
     default=False,
-    help="Print the url of the dashboard for this component hub.",
+    help="Print the url of the dashboard for this component version.",
 )
+@click.pass_context
 @clean_outputs
-def dashboard(component, version, yes, url):
-    """Open this operation's dashboard details in browser."""
-    owner, component_hub, component_version, is_version = get_info(component, version)
-    subpath = (
-        "{}/hub/{}/versions?version={}".format(owner, component_hub, component_version)
-        if is_version
-        else "{}/hub/{}".format(owner, component_hub)
-    )
-
-    hub_url = get_dashboard_url(subpath=subpath, use_cloud=settings.CLI_CONFIG.is_ce)
-    if url:
-        Printer.print_header("The dashboard is available at: {}".format(hub_url))
-        sys.exit(0)
-    if not yes:
-        click.confirm(
-            "Dashboard page will now open in your browser. Continue?",
-            abort=True,
-            default=True,
-        )
-    click.launch(hub_url)
+def dashboard(ctx, project, version, yes, url):
+    """Open this component version's dashboard details in browser."""
+    version = version or ctx.obj.get("version") or "latest"
+    owner, project_name = get_project_or_local(
+        project or ctx.obj.get("project"), is_cli=True
+    )
+    open_project_version_dashboard(
+        owner=owner,
+        project_name=project_name,
+        kind=V1ProjectVersionKind.COMPONENT,
+        version=version,
+        url=url,
+        yes=yes,
+    )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/init.py` & `polyaxon-2.0.0rc0/polyaxon/cli/init.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -15,54 +15,62 @@
 # limitations under the License.
 
 import os
 import sys
 
 import click
 
-from polyaxon_sdk.rest import ApiException
+from clipped import indentation
+from clipped.formatting import Printer
 from urllib3.exceptions import HTTPError
 
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.cli.options import OPTIONS_PROJECT
 from polyaxon.client import ProjectClient
 from polyaxon.env_vars.getters import get_project_or_local
 from polyaxon.logger import clean_outputs
 from polyaxon.managers.git import GitConfigManager
 from polyaxon.managers.ignore import IgnoreConfigManager
 from polyaxon.managers.project import ProjectConfigManager
 from polyaxon.polyaxonfile import check_polyaxonfile
 from polyaxon.schemas.types import V1GitType
-from polyaxon.utils import cli_constants, indentation
+from polyaxon.sdk.exceptions import ApiException
+from polyaxon.utils import cli_constants
 from polyaxon.utils.cache import get_local_project
-from polyaxon.utils.formatting import Printer
-from polyaxon.utils.path_utils import create_init_file
+
+
+def create_init_file() -> bool:
+    if os.path.exists(cli_constants.INIT_FILE_PATH):
+        return False
+
+    with open(cli_constants.INIT_FILE_PATH, "w") as f:
+        f.write(cli_constants.INIT_FILE_TEMPLATE)
+
+    return True
 
 
 def create_polyaxonfile():
     if os.path.isfile(cli_constants.INIT_FILE_PATH):
         try:
             _ = check_polyaxonfile(cli_constants.INIT_FILE_PATH)  # noqa
-            Printer.print_success(
-                "A valid polyaxonfile.yaml was found in this project."
-            )
+            Printer.success("A valid polyaxonfile.yaml was found in this project.")
         except Exception as e:
             handle_cli_error(e, message="A Polyaxonfile was found but it is not valid.")
             sys.exit(1)
     else:
         create_init_file()
         # if we are here the file was not created
         if not os.path.isfile(cli_constants.INIT_FILE_PATH):
-            Printer.print_error(
+            Printer.error(
                 "Something went wrong, init command did not create a file.\n"
                 "Possible reasons: you don't have enough rights to create the file."
             )
             sys.exit(1)
 
-        Printer.print_success(
+        Printer.success(
             "{} was created successfully.".format(cli_constants.INIT_FILE_PATH)
         )
 
 
 @click.command()
 @click.option(
     *OPTIONS_PROJECT["args"],
@@ -95,120 +103,130 @@
 @click.option(
     "--polyaxonignore",
     is_flag=True,
     default=False,
     show_default=False,
     help="Init a polyaxonignore file in this project.",
 )
+@click.option(
+    "--yes",
+    "-y",
+    is_flag=True,
+    default=False,
+    help="Automatic yes to prompts. "
+    'Assume "yes" as answer to all prompts and run non-interactively.',
+)
 @clean_outputs
-def init(project, git_connection, git_url, polyaxonfile, polyaxonignore):
+def init(project, git_connection, git_url, polyaxonfile, polyaxonignore, yes):
     """Initialize a new local project and cache directory.
 
     Note: Make sure to add the local cache `.polyaxon`
     to your `.gitignore` and `.dockerignore` files.
     """
     if not any([project, git_connection, git_url, polyaxonfile, polyaxonignore]):
-        Printer.print_warning(
+        Printer.warning(
             "`polyaxon init` did not receive any valid option.",
             command_help="polyaxon init",
         )
     if project:
         owner, project_name = get_project_or_local(project, is_cli=True)
         try:
-            polyaxon_client = ProjectClient(owner=owner, project=project_name)
+            polyaxon_client = ProjectClient(
+                owner=owner, project=project_name, manual_exceptions_handling=True
+            )
             polyaxon_client.refresh_data()
         except (ApiException, HTTPError) as e:
-            Printer.print_error(
+            Printer.error(
                 "Make sure you have a project with this name `{}`".format(project)
             )
             handle_cli_error(
                 e,
                 message="You can a create new project with this command: "
                 "polyaxon project create "
                 "--name={} [--description=...] [--tags=...]".format(project_name),
             )
             sys.exit(1)
         init_project = False
         if ProjectConfigManager.is_initialized():
             local_project = get_local_project(is_cli=True)
-            click.echo(
+            Printer.warning(
                 "Warning! This project is already initialized with the following project:"
             )
             with indentation.indent(4):
                 indentation.puts("Owner: {}".format(local_project.owner))
                 indentation.puts("Project: {}".format(local_project.name))
-            if click.confirm(
+            if yes or click.confirm(
                 "Would you like to override this current config?", default=False
             ):
                 init_project = True
         else:
             init_project = True
 
         if init_project:
             ProjectConfigManager.purge(visibility=ProjectConfigManager.VISIBILITY_LOCAL)
             config = polyaxon_client.client.sanitize_for_serialization(
                 polyaxon_client.project_data
             )
             ProjectConfigManager.set_config(
                 config, init=True, visibility=ProjectConfigManager.VISIBILITY_LOCAL
             )
-            Printer.print_success("Project was initialized")
-            Printer.print_header(
+            Printer.success("Project was initialized")
+            Printer.heading(
                 "Make sure to add the local cache `.polyaxon` "
                 "to your `.gitignore` and `.dockerignore` files."
             )
         else:
-            Printer.print_header("Project config was not changed.")
+            Printer.heading("Project config was not changed.")
 
     if git_connection or git_url:
         init_git = False
         if GitConfigManager.is_initialized():
-            click.echo(
+            Printer.warning(
                 "Warning! A {} file was found.".format(
                     GitConfigManager.CONFIG_FILE_NAME
                 )
             )
-            if click.confirm("Would you like to override it?", default=False):
+            if yes or click.confirm("Would you like to override it?", default=False):
                 init_git = True
         else:
             init_git = True
 
         if init_git:
             GitConfigManager.purge(visibility=GitConfigManager.VISIBILITY_LOCAL)
             config = GitConfigManager.CONFIG(
                 connection=git_connection,
                 git=V1GitType(url=git_url) if git_url else None,
             )
             GitConfigManager.set_config(config=config, init=True)
-            Printer.print_success(
+            Printer.success(
                 "New {} file was created.".format(GitConfigManager.CONFIG_FILE_NAME)
             )
         else:
-            Printer.print_header(
+            Printer.heading(
                 "{} file was not changed.".format(GitConfigManager.CONFIG_FILE_NAME)
             )
 
     if polyaxonfile:
         create_polyaxonfile()
 
     if polyaxonignore:
         init_ignore = False
         if IgnoreConfigManager.is_initialized():
-            click.echo(
+            Printer.warning(
                 "Warning! A {} file was found.".format(
                     IgnoreConfigManager.CONFIG_FILE_NAME
                 )
             )
-            if click.confirm("Would you like to override it?", default=False):
+            if yes or click.confirm("Would you like to override it?", default=False):
                 init_ignore = True
         else:
             init_ignore = True
 
         if init_ignore:
             IgnoreConfigManager.init_config()
-            Printer.print_success(
+            Printer.success(
                 "New {} file was created.".format(IgnoreConfigManager.CONFIG_FILE_NAME)
             )
         else:
-            Printer.print_header(
+            Printer.heading(
                 "{} file was not changed.".format(IgnoreConfigManager.CONFIG_FILE_NAME)
             )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/options.py` & `polyaxon-2.0.0rc0/polyaxon/cli/options.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,64 +1,97 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+import click
 
 OPTIONS_OWNER = {
     "args": ["--owner", "-o"],
     "kwargs": dict(
         type=str,
         help="Name of the owner/namespace, "
         "if not provided it will default to the namespace of the current user.",
     ),
 }
 
+OPTIONS_NAME = {
+    "args": ["--name", "-n"],
+}
+
 OPTIONS_PROJECT = {
     "args": ["--project", "-p"],
     "kwargs": dict(type=str, help="The project name, e.g. 'mnist' or 'acme/mnist'."),
 }
 
-OPTIONS_MODEL_REGISTRY = {
-    "args": ["--model", "-m"],
-    "kwargs": dict(
-        type=str, help="The model registry name, e.g. 'model-a' or 'acme/model-a'."
-    ),
-}
-
 OPTIONS_MODEL_VERSION = {
     "args": ["--version", "-ver"],
     "kwargs": dict(
         type=str,
-        help="The component version, e.g. 'model-a:1.3.4' or 'acme/model-a:v1'.",
+        help="The component version, e.g. 'v1.3.4' or 'rc1' or 'latest'.",
     ),
 }
 
-OPTIONS_COMPONENT_HUB = {
-    "args": ["--component", "-c"],
+OPTIONS_COMPONENT_VERSION = {
+    "args": ["--version", "-ver"],
     "kwargs": dict(
-        type=str, help="The component hub name, e.g. 'kaniko' or 'acme/kaniko'."
+        type=str,
+        help="The component version, e.g. 'v1.3.4' or 'rc1' or 'latest'.",
     ),
 }
 
-OPTIONS_COMPONENT_VERSION = {
+
+OPTIONS_ARTIFACT_VERSION = {
     "args": ["--version", "-ver"],
     "kwargs": dict(
         type=str,
-        help="The component version, e.g. 'kaniko:test' or 'acme/kaniko:test'.",
+        help="The artifact version, e.g. 'v1.3.4' or 'rc1' or 'latest'.",
     ),
 }
 
 OPTIONS_RUN_UID = {
     "args": ["--uid", "-uid"],
     "kwargs": dict(type=str, help="The run uuid."),
 }
+
+
+OPTIONS_RUN_OFFLINE = {
+    "args": ["--offline"],
+    "kwargs": dict(
+        is_flag=True,
+        default=False,
+        help="To use the offline store, for resolving runs, if it exists.",
+    ),
+}
+
+OPTIONS_RUN_OFFLINE_PATH_FROM = {
+    "args": [
+        "--path",
+        "--path-from",
+    ],
+    "kwargs": dict(
+        type=click.Path(exists=False),
+        help="Optional offline root path to use where runs are persisted, "
+        "default value is taken from the env var: `POLYAXON_OFFLINE_ROOT`.",
+    ),
+}
+OPTIONS_RUN_OFFLINE_PATH_TO = {
+    "args": [
+        "--path",
+        "--path-to",
+    ],
+    "kwargs": dict(
+        type=click.Path(exists=False),
+        help="Optional offline root path to use where runs are persisted, "
+        "default value is taken from the env var: `POLYAXON_OFFLINE_ROOT`.",
+    ),
+}
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/port_forward.py` & `polyaxon-2.0.0rc0/polyaxon/cli/port_forward.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,23 +13,24 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import sys
 
 import click
 
+from clipped.formatting import Printer
+
 from polyaxon import settings
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.deploy.schemas.deployment_types import DeploymentTypes
 from polyaxon.logger import clean_outputs
 from polyaxon.managers.auth import AuthConfigManager
 from polyaxon.managers.cli import CliConfigManager
 from polyaxon.managers.client import ClientConfigManager
 from polyaxon.managers.user import UserConfigManager
-from polyaxon.utils.formatting import Printer
 
 
 @click.command()
 @click.option(
     "-p", "--port", type=int, help="The port to expose the gateway, default to 8000"
 )
 @click.option(
@@ -45,52 +46,54 @@
 )
 @click.option(
     "-r",
     "--release-name",
     type=str,
     help="The release name used for deploying Polyaxon, default polyaxon.",
 )
+@click.option(
+    "-s", "--service", type=str, help="The service to forward, default 'gateway'."
+)
 @clean_outputs
-def port_forward(port, namespace, deployment_type, release_name):
+def port_forward(port, namespace, deployment_type, release_name, service):
     """If you deploy Polyaxon using ClusterIP, you can use this command
     to access the gateway through `localhost:port`.
     """
     from polyaxon.deploy.operators.kubectl import KubectlOperator
 
     if not port and deployment_type in [
         DeploymentTypes.MICRO_K8S,
         DeploymentTypes.MINIKUBE,
     ]:
         port = 31833
     port = port or 8000
     namespace = namespace or "polyaxon"
     release_name = release_name or "polyaxon"
+    service = service or "gateway"
 
     kubectl = KubectlOperator()
     args = [
         "port-forward",
         "-n",
         namespace,
-        "svc/{}-polyaxon-gateway".format(release_name),
+        "svc/{}-polyaxon-{}".format(release_name, service),
         "{}:80".format(port),
     ]
 
     try:
         _config = ClientConfigManager.get_config_or_default()
     except Exception as e:
         handle_cli_error(e, message="Polyaxon load configuration.")
-        Printer.print_header(
-            "You can reset your config by running: polyaxon config purge"
-        )
+        Printer.heading("You can reset your config by running: `polyaxon config purge`")
         sys.exit(1)
 
     _config.host = "http://localhost:{}".format(port)
     ClientConfigManager.set_config(_config)
     CliConfigManager.purge()
     AuthConfigManager.purge()
     UserConfigManager.purge()
-    Printer.print_header("Client configuration is updated!")
-    Printer.print_success("Polyaxon will be available at: {}".format(_config.host))
+    Printer.header("Client configuration is updated!")
+    Printer.success("Polyaxon will be available at: {}".format(_config.host))
     stdout = kubectl.execute(
         args=args, is_json=False, stream=settings.CLIENT_CONFIG.debug
     )
-    click.echo(stdout)
+    Printer.print(stdout)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/projects.py` & `polyaxon-2.0.0rc0/polyaxon/cli/projects.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,118 +14,115 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 
 import click
 
-from polyaxon_sdk import V1Project
-from polyaxon_sdk.rest import ApiException
+from clipped.dict_utils import list_dicts_to_tabulate
+from clipped.formatting import Printer
+from clipped.response_utils import get_meta_response
+from clipped.validation import validate_tags
 from urllib3.exceptions import HTTPError
 
 from polyaxon.cli.dashboard import get_dashboard_url
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.cli.init import init as init_project
-from polyaxon.cli.options import OPTIONS_OWNER, OPTIONS_PROJECT
+from polyaxon.cli.options import OPTIONS_NAME, OPTIONS_OWNER, OPTIONS_PROJECT
 from polyaxon.cli.utils import get_entity_details
 from polyaxon.client import ProjectClient
 from polyaxon.env_vars.getters import get_project_or_local
 from polyaxon.env_vars.getters.owner_entity import resolve_entity_info
 from polyaxon.env_vars.getters.user import get_local_owner
 from polyaxon.logger import clean_outputs
 from polyaxon.managers.project import ProjectConfigManager
+from polyaxon.schemas.responses.v1_project import V1Project
+from polyaxon.sdk.exceptions import ApiException
 from polyaxon.utils import cache
 from polyaxon.utils.cache import get_local_project
-from polyaxon.utils.formatting import (
-    Printer,
-    dict_tabulate,
-    get_meta_response,
-    list_dicts_to_tabulate,
-)
-from polyaxon.utils.validation import validate_tags
 
 
 @click.group()
 @click.option(*OPTIONS_PROJECT["args"], "_project", **OPTIONS_PROJECT["kwargs"])
 @click.pass_context
 @clean_outputs
 def project(ctx, _project):  # pylint:disable=redefined-outer-name
     """Commands for projects."""
     if _project:
-        Printer.print_warning(
+        Printer.warning(
             "Passing arguments to command groups is deprecated and will be removed in v2! "
             "Please use arguments on the sub-command directly: "
             "`polyaxon project SUB_COMMAND --help`"
         )
     if ctx.invoked_subcommand not in ["create", "ls"]:
         ctx.obj = ctx.obj or {}
         ctx.obj["project"] = _project
 
 
 @project.command()
 @click.option(
-    "--name", type=str, help="The project name, e.g. 'mnist' or 'acme/mnist'."
+    *OPTIONS_NAME["args"],
+    type=str,
+    help="The project name, e.g. 'mnist' or 'acme/mnist'."
 )
 @click.option("--description", type=str, help="Description of the project.")
-@click.option("--tags", type=str, help="Tags of the project, comma separated values.")
+@click.option("--tags", type=str, help="Tags of the project (comma separated values).")
 @click.option(
     "--public", is_flag=True, help="Set the visibility of the project to public."
 )
 @click.option("--init", is_flag=True, help="Initialize the project after creation.")
 @click.pass_context
 @clean_outputs
 def create(ctx, name, description, tags, public, init):
     """Create a new project.
 
     Uses /docs/core/cli/#caching
 
-    Example:
+    Examples:
 
     \b
     $ polyaxon project create --name=cats-vs-dogs --description="Image Classification with DL"
 
     \b
     $ polyaxon project create --name=owner/name --description="Project Description"
     """
     if not name:
-        Printer.print_error(
+        Printer.error(
             "Please provide a valid name to create a project.",
             command_help="project create",
             sys_exit=True,
         )
     owner, project_name = resolve_entity_info(
         name or ctx.obj.get("project"), is_cli=True, entity_name="project"
     )
 
-    tags = validate_tags(tags)
+    tags = validate_tags(tags, validate_yaml=True)
 
     if not owner:
-        Printer.print_error(
+        Printer.error(
             "Please provide a valid name with an owner namespace: --name=owner/project."
         )
         sys.exit(1)
 
     try:
         project_config = V1Project(
             name=project_name, description=description, tags=tags, is_public=public
         )
-        polyaxon_client = ProjectClient(owner=owner)
+        polyaxon_client = ProjectClient(owner=owner, manual_exceptions_handling=True)
         _project = polyaxon_client.create(project_config)
         config = polyaxon_client.client.sanitize_for_serialization(_project)
         cache.cache(config_manager=ProjectConfigManager, config=config)
     except (ApiException, HTTPError) as e:
         handle_cli_error(
             e, message="Could not create project `{}`.".format(project_name)
         )
         sys.exit(1)
 
-    Printer.print_success(
-        "Project `{}` was created successfully.".format(_project.name)
-    )
-    click.echo(
+    Printer.success("Project `{}` was created successfully.".format(_project.name))
+    Printer.print(
         "You can view this project on Polyaxon UI: {}".format(
             get_dashboard_url(subpath="{}/{}".format(owner, _project.name))
         )
     )
 
     if init:
         ctx.obj = {}
@@ -150,50 +147,52 @@
 def ls(owner, query, sort, limit, offset):
     """List projects.
 
     Uses /docs/core/cli/#caching
     """
     owner = owner or get_local_owner(is_cli=True)
     if not owner:
-        Printer.print_error("Please provide a valid owner: --owner/-o.")
+        Printer.error("Please provide a valid owner: --owner/-o.")
         sys.exit(1)
 
     try:
-        polyaxon_client = ProjectClient(owner=owner)
+        polyaxon_client = ProjectClient(owner=owner, manual_exceptions_handling=True)
         response = polyaxon_client.list(
             limit=limit, offset=offset, query=query, sort=sort
         )
     except (ApiException, HTTPError) as e:
         handle_cli_error(e, message="Could not get list of projects.")
         sys.exit(1)
 
     meta = get_meta_response(response)
     if meta:
-        Printer.print_header("Projects for owner {}".format(owner))
-        Printer.print_header("Navigation:")
-        dict_tabulate(meta)
+        Printer.heading("Projects for owner {}".format(owner))
+        Printer.heading("Navigation:")
+        Printer.dict_tabulate(meta)
     else:
-        Printer.print_header("No projects found for owner {}".format(owner))
+        Printer.heading("No projects found for owner {}".format(owner))
 
     objects = list_dicts_to_tabulate(
         [o.to_dict() for o in response.results],
         humanize_values=True,
         exclude_attrs=[
             "uuid",
             "readme",
             "description",
             "owner",
             "user_email",
             "role",
+            "excluded_features",
+            "excluded_runtimes",
             "settings",
         ],
     )
     if objects:
-        Printer.print_header("Projects:")
-        dict_tabulate(objects, is_list_dict=True)
+        Printer.heading("Projects:")
+        Printer.dict_tabulate(objects, is_list_dict=True)
 
 
 @project.command()
 @click.option(*OPTIONS_PROJECT["args"], "_project", **OPTIONS_PROJECT["kwargs"])
 @click.pass_context
 @clean_outputs
 def get(ctx, _project):
@@ -214,15 +213,17 @@
     $ polyaxon project get -p owner/project
     """
     owner, project_name = get_project_or_local(
         _project or ctx.obj.get("project"), is_cli=True
     )
 
     try:
-        polyaxon_client = ProjectClient(owner=owner, project=project_name)
+        polyaxon_client = ProjectClient(
+            owner=owner, project=project_name, manual_exceptions_handling=True
+        )
         polyaxon_client.refresh_data()
         config = polyaxon_client.client.sanitize_for_serialization(
             polyaxon_client.project_data
         )
         cache.cache(
             config_manager=ProjectConfigManager,
             config=config,
@@ -234,72 +235,82 @@
         handle_cli_error(
             e, message="Could not get project `{}`.".format(project_name), sys_exit=True
         )
 
 
 @project.command()
 @click.option(*OPTIONS_PROJECT["args"], "_project", **OPTIONS_PROJECT["kwargs"])
+@click.option(
+    "--yes",
+    "-y",
+    is_flag=True,
+    default=False,
+    help="Automatic yes to prompts. "
+    'Assume "yes" as answer to all prompts and run non-interactively.',
+)
 @click.pass_context
 @clean_outputs
-def delete(ctx, _project):
+def delete(ctx, _project, yes):
     """Delete project.
 
     Uses /docs/core/cli/#caching
     """
     owner, project_name = get_project_or_local(
         _project or ctx.obj.get("project"), is_cli=True
     )
 
-    if not click.confirm(
+    if not yes and not click.confirm(
         "Are sure you want to delete project `{}/{}`".format(owner, project_name)
     ):
-        click.echo("Existing without deleting project.")
+        Printer.print("Exiting without deleting project.")
         sys.exit(1)
 
     try:
-        polyaxon_client = ProjectClient(owner=owner, project=project_name)
+        polyaxon_client = ProjectClient(
+            owner=owner, project=project_name, manual_exceptions_handling=True
+        )
         polyaxon_client.delete()
         local_project = get_local_project(is_cli=True)
         if local_project and (owner, project_name) == (
             local_project.owner,
             local_project.name,
         ):
             # Purge caching
             ProjectConfigManager.purge()
     except (ApiException, HTTPError) as e:
         handle_cli_error(
             e, message="Could not delete project `{}/{}`.".format(owner, project_name)
         )
         sys.exit(1)
 
-    Printer.print_success(
+    Printer.success(
         "Project `{}/{}` was delete successfully".format(owner, project_name)
     )
 
 
 @project.command()
 @click.option(*OPTIONS_PROJECT["args"], "_project", **OPTIONS_PROJECT["kwargs"])
 @click.option(
-    "--name", type=str, help="Name of the project, must be unique for the same user."
+    *OPTIONS_NAME["args"],
+    type=str,
+    help="Name of the project, must be unique for the same user."
 )
 @click.option("--description", type=str, help="Description of the project.")
-@click.option(
-    "--tags", type=str, help="Tags of the run, comma separated values (optional)."
-)
+@click.option("--tags", type=str, help="Tags of the project (comma separated values).")
 @click.option(
     "--private", type=bool, help="Set the visibility of the project to private/public."
 )
 @click.pass_context
 @clean_outputs
 def update(ctx, _project, name, description, tags, private):
     """Update project.
 
     Uses /docs/core/cli/#caching
 
-    Example:
+    Examples:
 
     \b
     $ polyaxon project update foobar --description="Image Classification with DL using TensorFlow"
 
     \b
     $ polyaxon project update mike1/foobar --description="Image Classification with DL using TensorFlow"
 
@@ -310,38 +321,40 @@
         _project or ctx.obj.get("project"), is_cli=True
     )
 
     update_dict = {}
     if name:
         update_dict["name"] = name
 
-    if description:
+    if description is not None:
         update_dict["description"] = description
 
-    tags = validate_tags(tags)
+    tags = validate_tags(tags, validate_yaml=True)
     if tags:
         update_dict["tags"] = tags
 
     if private is not None:
         update_dict["is_public"] = not private
 
     if not update_dict:
-        Printer.print_warning("No argument was provided to update the project.")
+        Printer.warning("No argument was provided to update the project.")
         sys.exit(1)
 
     try:
-        polyaxon_client = ProjectClient(owner=owner)
+        polyaxon_client = ProjectClient(
+            owner=owner, project=project_name, manual_exceptions_handling=True
+        )
         response = polyaxon_client.update(update_dict)
     except (ApiException, HTTPError) as e:
         handle_cli_error(
             e, message="Could not update project `{}`.".format(project_name)
         )
         sys.exit(1)
 
-    Printer.print_success("Project updated.")
+    Printer.success("Project updated.")
     get_entity_details(response, "Project")
 
 
 @project.command()
 @click.option(*OPTIONS_PROJECT["args"], "_project", **OPTIONS_PROJECT["kwargs"])
 @click.option(
     "--yes",
@@ -356,22 +369,20 @@
     is_flag=True,
     default=False,
     help="Print the url of the dashboard for this project.",
 )
 @click.pass_context
 @clean_outputs
 def dashboard(ctx, _project, yes, url):
-    """Open this operation's dashboard details in browser."""
+    """Open this project's dashboard details in browser."""
     owner, project_name = get_project_or_local(
         _project or ctx.obj.get("project"), is_cli=True
     )
     project_url = get_dashboard_url(subpath="{}/{}".format(owner, project_name))
     if url:
-        Printer.print_header("The dashboard is available at: {}".format(project_url))
+        Printer.header("The dashboard is available at: {}".format(project_url))
         sys.exit(0)
-    if not yes:
-        click.confirm(
-            "Dashboard page will now open in your browser. Continue?",
-            abort=True,
-            default=True,
-        )
-    click.launch(project_url)
+    if yes or click.confirm(
+        "Dashboard page will now open in your browser. Continue?",
+        default=True,
+    ):
+        click.launch(project_url)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/run.py` & `polyaxon-2.0.0rc0/polyaxon/cli/run.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,31 +14,31 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 
 import click
 
-from marshmallow import ValidationError
+from clipped import git_utils
+from clipped.formatting import Printer
+from clipped.validation import validate_tags
+from pydantic import ValidationError
 
 from polyaxon import settings
 from polyaxon.cli.executor import docker_run, k8s_run, platform_run
-from polyaxon.cli.options import OPTIONS_PROJECT
+from polyaxon.cli.options import OPTIONS_NAME, OPTIONS_PROJECT
 from polyaxon.env_vars.getters import get_project_or_local
 from polyaxon.exceptions import PolyaxonSchemaError
 from polyaxon.logger import clean_outputs
 from polyaxon.managers.git import GitConfigManager
 from polyaxon.polyaxonfile import (
     CompiledOperationSpecification,
     OperationSpecification,
     check_polyaxonfile,
 )
-from polyaxon.utils import code_reference
-from polyaxon.utils.formatting import Printer
-from polyaxon.utils.validation import validate_tags
 
 
 @click.command()
 @click.option(*OPTIONS_PROJECT["args"], **OPTIONS_PROJECT["kwargs"])
 @click.option(
     "-f",
     "--file",
@@ -60,22 +60,30 @@
 )
 @click.option(
     "--hub",
     type=str,
     help="The Component Hub name containing the polyaxonfile to run.",
 )
 @click.option(
-    "--name",
+    *OPTIONS_NAME["args"],
     type=str,
     help="Name to give to this run, must be unique within the project, could be none.",
 )
-@click.option("--tags", type=str, help="Tags of this run, comma separated values.")
+@click.option("--tags", type=str, help="Tags of this run (comma separated values).")
 @click.option("--description", type=str, help="The description to give to this run.")
 @click.option(
+    "--shell",
+    "-s",
+    is_flag=True,
+    default=False,
+    help="To start a shell session after scheduling the run.",
+)
+@click.option(
     "--log",
+    "--logs",
     "-l",
     is_flag=True,
     default=False,
     help="To start logging after scheduling the run.",
 )
 @click.option(
     "--upload",
@@ -113,39 +121,74 @@
     "--local",
     is_flag=True,
     default=False,
     help="To start the run locally, with `docker` environment as default.",
 )
 @click.option(
     "--params",
+    "--param",
     "-P",
     metavar="NAME=VALUE",
     multiple=True,
-    help="A parameter to override the default params of the run, form -P name=value.",
+    help="A parameter to override the default params of the run, "
+    "form `-P name=value` or `--param name=value`.",
+)
+@click.option(
+    "--hparams",
+    "--hparam",
+    "-HP",
+    metavar="NAME=VALUE",
+    multiple=True,
+    help="A hyper-parameter to override the default params of the run, "
+    "form: -HP name='range:start:stop:step' "
+    "or -HP name='range:[start,stop,step]' "
+    "or -HP name='choice:[v1,v2,v3,...]'",
+)
+@click.option(
+    "--matrix-kind", type=str, help="Matrix kind if hparams are provided, default grid."
+)
+@click.option(
+    "--matrix-concurrency",
+    type=int,
+    help="Matrix concurrency if hparams are provided, default 1.",
+)
+@click.option(
+    "--matrix-num-runs",
+    type=int,
+    help="Matrix maximum number of runs to create, default all.",
 )
 @click.option("--presets", type=str, help="Name of the presets to use for this run.")
 @click.option(
     "--queue",
     "-q",
     type=str,
     help="Name of the queue to use for this run. "
     "If the name is not namespaced by the agent name the default agent is used: "
     "queue-name or agent-name/queue-name",
 )
 @click.option(
     "--nocache",
     is_flag=True,
     default=False,
-    help="Disable cache check before starting this operation.",
+    help="[DEPRECATED] Please use '--cache=f' instead. "
+    "Disable cache check before starting this operation.",
 )
 @click.option(
     "--cache",
-    is_flag=True,
-    default=False,
-    help="Enable cache check before starting this operation.",
+    help="To enable/disable cache check before starting this operation, "
+    "similar to 'cache: {disable: true/false}'. "
+    "Can be used with yes/no, y/n, false/true, f/t, 1/0. "
+    "e.g. '--cache=1', '--cache=yes', '--cache=false', '--cache=t', ...",
+)
+@click.option(
+    "--approved",
+    help="To enable/disable human in the loop validation without changing the polyaxonfile, "
+    "similar to 'isApproved: true/false'. "
+    "Can be used with yes/no, y/n, false/true, f/t, 1/0. "
+    "e.g. '--approved=1', '--approved=yes', '--approved=false', '--approved=t', ...",
 )
 @click.option(
     "--eager",
     is_flag=True,
     default=False,
     help="A flag to enable eager mode for pipeline operations, "
     "currently this mode supports grid search, random search, and parallel mapping. "
@@ -170,41 +213,55 @@
 @click.option(
     "--ignore-template",
     is_flag=True,
     default=False,
     help="If provided, Polyaxon will ignore template definition and "
     "submit the manifest to be checked by the API.",
 )
+@click.option(
+    "--output",
+    "-o",
+    type=str,
+    help="Optional flag to print the response as a json object or store the response as json file."
+    "Example `-o json` or `-o path=./data.json`",
+)
 @click.pass_context
 @clean_outputs
 def run(
     ctx,
     project,
     polyaxonfile,
     python_module,
     url,
     hub,
     name,
     tags,
     description,
+    shell,
     log,
     upload,
     upload_from,
     upload_to,
     watch,
     local,
     params,
+    hparams,
+    matrix_kind,
+    matrix_concurrency,
+    matrix_num_runs,
     presets,
     queue,
     nocache,
     cache,
+    approved,
     eager,
     git_preset,
     git_revision,
     ignore_template,
+    output,
 ):
     """Run polyaxonfile specification.
 
     Examples:
 
     \b
     $ polyaxon run -f file -f file_override ...
@@ -253,98 +310,114 @@
     $ polyaxon run ... -u-to code
 
     Uploading from everything from a sub-folder, e.g. ./code to the a custom path, e.g. new-code
 
     \b
     $ polyaxon run ... -u-from ./code -u-to new-code
     """
+    if log and shell:
+        Printer.error(
+            "You can't use `--logs` and `--shell` at the same, please keep one option.",
+            sys_exit=True,
+        )
     if cache and nocache:
-        Printer.print_error(
+        Printer.error(
             "You can't use `--cache` and `--nocache` at the same.", sys_exit=True
         )
+    if nocache:
+        Printer.error(
+            "'--nocache' is DEPRECATED and will be removed in the future, "
+            "please use '--cache=f' instead.",
+        )
     if (upload_to or upload_from) and not upload:
         upload = True
 
     git_init = None
     if git_preset or git_revision:
         # Check that the current path was initialized
         if not GitConfigManager.is_initialized():
-            Printer.print_error(
+            Printer.error(
                 "You can't use `--git-preset [--git-revision]`, "
                 "the current path is not initialized with a valid git connection or a git url, "
                 "please run `polyaxon init [--git-connection] [--git-url]` "
                 "to set a valid git configuration.",
                 sys_exit=True,
             )
         git_init = GitConfigManager.get_config()
         if git_revision:
             git_init.git.revision = git_revision
-        elif code_reference.is_git_initialized(path="."):
-            if code_reference.is_dirty(path="."):
-                Printer.print_warning(
+        elif git_utils.is_git_initialized(path="."):
+            if git_utils.is_dirty(path="."):
+                Printer.warning(
                     "Polyaxon detected uncommitted changes in the current git repo!"
                 )
-            commit_hash = code_reference.get_commit()
+            commit_hash = git_utils.get_commit()
             git_init.git.revision = commit_hash
         else:
-            Printer.print_warning(
+            Printer.warning(
                 "Polyaxon could not find a valid git repo, "
                 "and will not add the current commit to the git initializer."
             )
 
     presets = validate_tags(presets)
 
     op_spec = check_polyaxonfile(
         polyaxonfile=polyaxonfile,
         python_module=python_module,
         url=url,
         hub=hub,
         params=params,
+        hparams=hparams,
+        matrix_kind=matrix_kind,
+        matrix_concurrency=matrix_concurrency,
+        matrix_num_runs=matrix_num_runs,
         presets=presets,
         queue=queue,
         cache=cache,
         nocache=nocache,
+        approved=approved,
         verbose=False,
         eager=eager,
         git_init=git_init,
         ignore_template=ignore_template,
     )
 
     if ignore_template:
         op_spec.disable_template()
     if op_spec.is_template():
-        click.echo("Please customize the specification or disable the template.")
+        Printer.print("Please customize the specification or disable the template!")
         sys.exit(1)
 
     owner, project_name = get_project_or_local(project, is_cli=True)
-    tags = validate_tags(tags)
+    tags = validate_tags(tags, validate_yaml=True)
 
     if local:
         try:
             compiled_operation = OperationSpecification.compile_operation(op_spec)
             compiled_operation = (
                 CompiledOperationSpecification.apply_operation_contexts(
                     compiled_operation
                 )
             )
         except (PolyaxonSchemaError, ValidationError):
-            Printer.print_error(
+            Printer.error(
                 "Could not run this polyaxonfile locally, "
                 "a context is required to resolve it dependencies."
             )
             sys.exit(1)
         docker_run(
             ctx=ctx,
             name=name,
             owner=owner,
             project_name=project_name,
             description=description,
             tags=tags,
             compiled_operation=compiled_operation,
             log=log,
+            shell=shell,
         )
     elif settings.CLIENT_CONFIG.no_api:
         k8s_run(
             ctx=ctx,
             name=name,
             owner=owner,
             project_name=project_name,
@@ -364,8 +437,10 @@
             op_spec=op_spec,
             log=log,
             upload=upload,
             upload_to=upload_to,
             upload_from=upload_from,
             watch=watch,
             eager=eager,
+            output=output,
+            shell=shell,
         )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/session.py` & `polyaxon-2.0.0rc0/polyaxon/cli/session.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,82 +13,98 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 import uuid
 
-import click
+from typing import Optional
 
-from polyaxon_sdk.rest import ApiException
+from clipped.enums_utils import get_enum_value
+from clipped.formatting import Printer
+from clipped.tz_utils import now
+from clipped.versions import clean_version_for_compatibility
 from urllib3.exceptions import HTTPError
 
 from polyaxon import pkg
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.client import PolyaxonClient
 from polyaxon.constants.globals import NO_AUTH
 from polyaxon.managers.auth import AuthConfigManager
 from polyaxon.managers.cli import CliConfigManager
 from polyaxon.managers.user import UserConfigManager
+from polyaxon.schemas.api.installation import V1Installation
 from polyaxon.schemas.cli.client_config import ClientConfig
-from polyaxon.services.headers import PolyaxonServices
-from polyaxon.utils.formatting import Printer
-from polyaxon.utils.tz_utils import now
-from polyaxon.utils.versions import clean_version_for_compatibility
+from polyaxon.sdk.exceptions import ApiException
+from polyaxon.services.values import PolyaxonServices
 
 
 def session_expired():
     AuthConfigManager.purge()
     UserConfigManager.purge()
     CliConfigManager.purge()
-    click.echo("Session has expired, please try again.")
+    Printer.print("Session has expired, please try again!")
     sys.exit(1)
 
 
 def get_server_installation(polyaxon_client=None):
-    polyaxon_client = polyaxon_client or PolyaxonClient()
+    polyaxon_client = polyaxon_client or PolyaxonClient(ClientConfig(retries=0))
     try:
-        return polyaxon_client.versions_v1.get_installation(_request_timeout=15)
+        return polyaxon_client.versions_v1.get_installation(_request_timeout=5)
     except ApiException as e:
         if e.status == 403:
             session_expired()
         handle_cli_error(e, message="Could not get server version.")
     except HTTPError:
-        Printer.print_error(
+        Printer.error(
             "Could not connect to remote server to fetch installation version.",
         )
 
 
+def get_installation_key(key: str) -> str:
+    if not key:
+        installation = CliConfigManager.get_value("installation") or V1Installation()
+        key = installation.key or uuid.uuid4().hex
+        installation.key = key
+        if not CliConfigManager.is_initialized():
+            CliConfigManager.reset(installation=installation)
+    return key
+
+
 def get_compatibility(
     key: str,
     service: str,
     version: str,
     is_cli: bool = True,
     set_config: bool = True,
+    polyaxon_client: Optional[PolyaxonClient] = None,
 ):
-    if not key:
-        installation = CliConfigManager.get_value("installation") or {}
-        key = installation.get("key") or uuid.uuid4().hex
+    key = get_installation_key(key)
     try:
         version = clean_version_for_compatibility(version)
     except Exception as e:
         if set_config:
             CliConfigManager.reset(last_check=now())
         if is_cli:
             handle_cli_error(
                 e,
-                message="Could parse the version {}.".format(version),
+                message="Could not parse the version {}.".format(version),
             )
-    polyaxon_client = PolyaxonClient(config=ClientConfig(), token=NO_AUTH)
+    config = (
+        ClientConfig.patch_from(polyaxon_client.config, token=None, retries=0)
+        if polyaxon_client and polyaxon_client.config
+        else ClientConfig(use_cloud_host=True, verify_ssl=False, retries=0)
+    )
+    polyaxon_client = PolyaxonClient(config=config, token=NO_AUTH)
     try:
         return polyaxon_client.versions_v1.get_compatibility(
             uuid=key,
-            service=service,
+            service=get_enum_value(service),
             version=version,
-            _request_timeout=2,
+            _request_timeout=1,
         )
     except ApiException as e:
         if e.status == 403 and is_cli:
             session_expired()
         if set_config:
             CliConfigManager.reset(last_check=now())
         if is_cli:
@@ -96,22 +112,22 @@
                 e,
                 message="Could not reach the compatibility API.",
             )
     except HTTPError:
         if set_config:
             CliConfigManager.reset(last_check=now())
         if is_cli:
-            Printer.print_error(
+            Printer.error(
                 "Could not connect to remote server to fetch compatibility versions.",
             )
     except Exception as e:
         if set_config:
             CliConfigManager.reset(last_check=now())
         if is_cli:
-            Printer.print_error(
+            Printer.error(
                 "Unexpected error %s, "
                 "could not connect to remote server to fetch compatibility versions."
                 % e,
             )
 
 
 def get_log_handler(polyaxon_client=None):
@@ -121,41 +137,56 @@
     except ApiException as e:
         if e.status == 403:
             session_expired()
         CliConfigManager.reset(last_check=now())
         handle_cli_error(e, message="Could not get cli version.")
     except HTTPError:
         CliConfigManager.reset(last_check=now())
-        Printer.print_error("Could not connect to remote server to fetch log handler.")
+        Printer.error("Could not connect to remote server to fetch log handler.")
 
 
 def set_versions_config(
     polyaxon_client=None,
     set_installation: bool = True,
     set_compatibility: bool = True,
     set_handler: bool = False,
     service=PolyaxonServices.CLI,
     version=pkg.VERSION,
-    key: str = None,
+    key: Optional[str] = None,
     is_cli: bool = True,
 ):
-    polyaxon_client = polyaxon_client or PolyaxonClient()
+    from polyaxon import settings
+
+    polyaxon_client = polyaxon_client or PolyaxonClient(
+        ClientConfig.patch_from(settings.CLIENT_CONFIG, retries=0)
+    )
     server_installation = None
     if set_installation:
         server_installation = get_server_installation(polyaxon_client=polyaxon_client)
         if not key and server_installation and server_installation.key:
             key = server_installation.key
     compatibility = None
     if set_compatibility:
         compatibility = get_compatibility(
-            key=key, service=service, version=version, is_cli=is_cli
+            key=key,
+            service=service,
+            version=version,
+            is_cli=is_cli,
+            polyaxon_client=polyaxon_client if polyaxon_client.config.token else None,
         )
     log_handler = None
     if set_handler:
         log_handler = get_log_handler(polyaxon_client=polyaxon_client)
     return CliConfigManager.reset(
         last_check=now(),
         current_version=version,
         installation=server_installation.to_dict() if server_installation else {},
         compatibility=compatibility.to_dict() if compatibility else {},
         log_handler=log_handler.to_dict() if log_handler else {},
     )
+
+
+def ensure_cli_config():
+    from polyaxon import settings
+
+    if not settings.CLI_CONFIG or not settings.CLI_CONFIG.installation:
+        settings.CLI_CONFIG = set_versions_config(set_compatibility=False)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/utils.py` & `polyaxon-2.0.0rc0/polyaxon/plugins/sentry.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,38 +1,49 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import click
+import logging
 
-from polyaxon.utils.formatting import Printer, dict_tabulate, dict_to_tabulate
+from typing import Dict, Optional
 
+logger = logging.getLogger("polyaxon.cli")
 
-def get_entity_details(entity: str, entity_name: str):
-    if entity.description:
-        Printer.print_header("{} description:".format(entity_name))
-        click.echo("{}\n".format(entity.description))
 
-    if entity.settings:
-        Printer.print_header("{} settings:".format(entity_name))
-        click.echo("{}\n".format(entity.settings.to_dict()))
+def set_raven_client(options: Optional[Dict] = None) -> bool:
+    from polyaxon import pkg, settings
+    from polyaxon.services.values import PolyaxonServices
+
+    cli_config = settings.CLI_CONFIG
+    options = options or {}
+    environment = options.get("environment")
+    dsn = options.get("dsn")
+    sample_rate = options.get("sample_rate", 0)
+    if cli_config and cli_config.log_handler and cli_config.log_handler.decoded_dsn:
+        dsn = dsn or cli_config.log_handler.decoded_dsn
+        environment = environment or cli_config.log_handler.environment
+
+    if dsn:
+        import sentry_sdk
+
+        sentry_sdk.init(
+            dsn=dsn,
+            release=pkg.VERSION,
+            environment=environment,
+            server_name=PolyaxonServices.get_service_name(),
+            sample_rate=sample_rate,
+        )
+        return True
 
-    response = dict_to_tabulate(
-        entity.to_dict(),
-        humanize_values=True,
-        exclude_attrs=["description", "settings", "readme"],
-    )
-
-    Printer.print_header("{} info:".format(entity_name))
-    dict_tabulate(response)
+    return False
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/cli/version.py` & `polyaxon-2.0.0rc0/polyaxon/cli/version.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,28 +14,30 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 
 import click
 
+from clipped import indentation
+from clipped.dict_utils import dict_to_tabulate
+from clipped.formatting import Printer
+from clipped.versions import clean_version_for_check, compare_versions
+
 from polyaxon import pkg
 from polyaxon.cli.session import set_versions_config
 from polyaxon.deploy.operators.pip import PipOperator
 from polyaxon.logger import clean_outputs, logger
-from polyaxon.utils import indentation
-from polyaxon.utils.formatting import Printer, dict_tabulate, dict_to_tabulate
-from polyaxon.utils.versions import clean_version_for_check
 
 PROJECT_CLI_NAME = "polyaxon"
 
 
 def pip_upgrade(project_name=PROJECT_CLI_NAME):
     PipOperator.execute(["install", "--upgrade", project_name], stream=True)
-    click.echo("polyaxon upgraded.")
+    Printer.print("polyaxon upgraded!")
 
 
 def get_version(package: str, show_error: bool = True):
     import pkg_resources
 
     try:
         return pkg_resources.get_distribution(package).version
@@ -43,70 +45,73 @@
         if show_error:
             logger.error("`%s` is not installed", package)
 
 
 def check_old_packages():
     pkg = "polyaxon-cli"
     if get_version(package=pkg, show_error=False):
-        Printer.print_error(
+        Printer.error(
             "Legacy package `{pkg}` is installed. Please run `pip uninstall {pkg}`".format(
                 pkg=pkg
             ),
             sys_exit=True,
         )
 
 
 def get_current_version():
     return pkg.VERSION
 
 
 def check_cli_version(config, is_cli: bool = True):
     """Check if the current cli version satisfies the server requirements"""
-    from distutils.version import LooseVersion  # pylint:disable=import-error
 
     min_version = clean_version_for_check(config.min_version)
     latest_version = clean_version_for_check(config.latest_version)
     current_version = clean_version_for_check(config.current_version)
     if not min_version or not latest_version or not current_version:
         if is_cli:
-            Printer.print_error(
+            Printer.error(
                 "Could not get the min/latest versions from compatibility API.",
                 sys_exit=True,
             )
         else:
             return
-    if LooseVersion(current_version) < LooseVersion(min_version):
-        click.echo(
+    if compare_versions(current=current_version, reference=min_version, comparator="<"):
+        Printer.print(
             "Your version of Polyaxon CLI ({}) is no longer supported.".format(
                 config.current_version
             )
         )
         if click.confirm(
             "Do you want to upgrade to " "version {} now?".format(config.latest_version)
         ):
             pip_upgrade()
             sys.exit(0)
         else:
-            indentation.puts("Your can manually run:")
-            with indentation.indent(4):
-                indentation.puts("pip install -U polyaxon")
             indentation.puts(
-                "to upgrade to the latest version `{}`".format(config.latest_version)
+                "To upgrade to the latest version `{}`, "
+                "you can manually run:".format(config.latest_version)
             )
+            with indentation.indent(4):
+                indentation.puts("pip install -U polyaxon")
 
             sys.exit(0)
-    elif LooseVersion(current_version) < LooseVersion(latest_version):
+    elif compare_versions(
+        current=current_version, reference=latest_version, comparator="<"
+    ):
         indentation.puts(
             "New version of Polyaxon CLI ({}) is now available. To upgrade run:".format(
                 config.latest_version
             )
         )
         with indentation.indent(4):
             indentation.puts("pip install -U polyaxon")
-    elif LooseVersion(current_version) > LooseVersion(latest_version):
+    elif compare_versions(
+        current=current_version, reference=latest_version, comparator=">"
+    ):
         indentation.puts(
             "Your version of CLI ({}) is ahead of the latest version "
             "supported by Polyaxon server ({}) on your cluster, "
             "and might be incompatible.".format(
                 config.current_version, config.latest_version
             )
         )
@@ -116,26 +121,32 @@
 @click.option(
     "--check", is_flag=True, default=False, help="Check compatibility versions."
 )
 @clean_outputs
 def version(check):
     """Print the current version of the cli and platform."""
     check_old_packages()
-    Printer.print_header("Current cli version: {}.".format(pkg.VERSION))
+    Printer.heading("Current cli version: {}".format(pkg.VERSION))
     if check:
         config = set_versions_config()
-        Printer.print_header("Platform:")
-        config_installation = dict_to_tabulate(
-            config.installation,
-            humanize_values=True,
-            exclude_attrs=["hmac", "auth", "host"],
-        )
-        dict_tabulate(config_installation)
-        Printer.print_header("Compatibility versions:")
-        dict_tabulate(config.compatibility)
+        Printer.heading("Platform version:")
+        config_installation = (
+            dict_to_tabulate(
+                config.installation.to_dict(),
+                humanize_values=True,
+                exclude_attrs=["hmac", "auth", "host"],
+            )
+            if config.installation
+            else {"Server": "not found or not deployed"}
+        )
+        Printer.dict_tabulate(config_installation)
+        Printer.heading("Compatibility versions:")
+        Printer.dict_tabulate(
+            config.compatibility.to_dict() if config.compatibility else {}
+        )
         check_cli_version(config)
 
 
 @click.command()
 @clean_outputs
 def upgrade():
     """Install/Upgrade polyaxon cli."""
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/client/__init__.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,8 +12,8 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from polyaxon.client.client import PolyaxonClient
 from polyaxon.client.project import ProjectClient
-from polyaxon.client.run import RunClient, get_rel_asset_path, get_run_logs
+from polyaxon.client.run import RunClient, get_run_logs
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/decorators/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/client/decorators/__init__.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,18 +1,21 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.client.decorators.client_handler import client_handler
+from polyaxon.client.decorators.client_call_handler import (
+    client_handler,
+    get_global_or_inline_config,
+)
 from polyaxon.client.decorators.is_managed import ensure_is_managed
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/decorators/is_managed.py` & `polyaxon-2.0.0rc0/polyaxon/client/decorators/is_managed.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/impersonate.py` & `polyaxon-2.0.0rc0/polyaxon/client/impersonate.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,43 +1,51 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon_sdk.rest import ApiException
+from typing import Optional
+
 from urllib3.exceptions import HTTPError
 
 from polyaxon.client.client import PolyaxonClient
-from polyaxon.containers.contexts import CONTEXT_MOUNT_AUTH
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.exceptions import PolyaxonClientException
 from polyaxon.schemas.api.authentication import AccessTokenConfig
+from polyaxon.sdk.exceptions import ApiException
 
 
-def create_context_auth(access_token, context_auth_path=None):
-    context_auth_path = context_auth_path or CONTEXT_MOUNT_AUTH
+def create_context_auth(
+    access_token: AccessTokenConfig, context_auth_path: Optional[str] = None
+):
+    context_auth_path = context_auth_path or ctx_paths.CONTEXT_MOUNT_AUTH
     with open(context_auth_path, "w") as config_file:
-        config_file.write(access_token.to_dict(dump=True))
+        config_file.write(access_token.to_json())
 
 
-def impersonate(owner: str, project: str, run_uuid: str, client: PolyaxonClient = None):
+def impersonate(
+    owner: str, project: str, run_uuid: str, client: Optional[PolyaxonClient] = None
+):
     try:
         client = client or PolyaxonClient()
         response = client.runs_v1.impersonate_token(owner, project, run_uuid)
         polyaxon_client = PolyaxonClient(token=response.token)
         user = polyaxon_client.users_v1.get_user()
-        access_token = AccessTokenConfig(username=user.username, token=response.token)
+        access_token = AccessTokenConfig.construct(
+            username=user.username, token=response.token
+        )
         create_context_auth(access_token)
     except (ApiException, HTTPError) as e:
         raise PolyaxonClientException(
             "This worker is not allowed to run this job %s." % e
         )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/run.py` & `polyaxon-2.0.0rc0/polyaxon/client/run.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -17,67 +17,82 @@
 import os
 import sys
 import time
 import uuid
 
 from collections.abc import Mapping
 from datetime import datetime
-from typing import Dict, List, Optional, Sequence, Tuple, Union
+from typing import TYPE_CHECKING, Any, Dict, List, Optional, Tuple, Union
+from urllib.parse import urlparse
 
-import click
-import polyaxon_sdk
 import ujson
 
-from polyaxon_sdk import V1Run
-from polyaxon_sdk.rest import ApiException
+from clipped.date_utils import file_modified_since
+from clipped.formatting import Printer
+from clipped.git_utils import get_code_reference
+from clipped.hashing import hash_dir, hash_file, hash_value
+from clipped.http_utils import absolute_uri
+from clipped.list_utils import to_list
+from clipped.path_utils import (
+    check_or_create_path,
+    delete_path,
+    get_base_filename,
+    get_dirs_under_path,
+    get_files_in_path_context,
+)
+from clipped.query_params import get_logs_params, get_query_params
+from clipped.tz_utils import now
+from clipped.validation import validate_tags
 from urllib3.exceptions import HTTPError
 
 from polyaxon import settings
+from polyaxon.api import K8S_V1_LOCATION, STREAMS_V1_LOCATION
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.client.client import PolyaxonClient
-from polyaxon.client.decorators import client_handler
+from polyaxon.client.decorators import client_handler, get_global_or_inline_config
 from polyaxon.constants.metadata import META_COPY_ARTIFACTS
-from polyaxon.containers.contexts import CONTEXT_MOUNT_ARTIFACTS, CONTEXT_OFFLINE_ROOT
+from polyaxon.containers.names import MAIN_CONTAINER_NAMES
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.env_vars.getters import (
     get_artifacts_store_name,
-    get_entity_full_name,
     get_project_error_message,
     get_project_or_local,
     get_run_info,
     get_run_or_local,
 )
 from polyaxon.exceptions import PolyaxonClientException
-from polyaxon.lifecycle import LifeCycle, V1StatusCondition, V1Statuses
+from polyaxon.lifecycle import (
+    LifeCycle,
+    V1ProjectFeature,
+    V1StatusCondition,
+    V1Statuses,
+)
 from polyaxon.logger import logger
 from polyaxon.managers.ignore import IgnoreConfigManager
 from polyaxon.polyaxonfile import check_polyaxonfile
-from polyaxon.polyboard.artifacts import V1ArtifactKind, V1RunArtifact
-from polyaxon.polyboard.events import V1Events
-from polyaxon.polyboard.logging.streamer import get_logs_streamer
-from polyaxon.polyflow import V1Operation, V1RunKind
+from polyaxon.polyflow import V1Matrix, V1Operation, V1RunKind
+from polyaxon.schemas.responses.v1_operation_body import V1OperationBody
+from polyaxon.schemas.responses.v1_project_version import V1ProjectVersion
+from polyaxon.schemas.responses.v1_run import V1Run
+from polyaxon.schemas.responses.v1_run_settings import V1RunSettings
 from polyaxon.schemas.types import V1ArtifactsType
+from polyaxon.sdk.exceptions import ApiException
 from polyaxon.stores.polyaxon_store import PolyaxonStore
-from polyaxon.utils.code_reference import get_code_reference
-from polyaxon.utils.date_utils import file_modified_since
-from polyaxon.utils.formatting import Printer
-from polyaxon.utils.fqn_utils import to_fqn_name
-from polyaxon.utils.hashing import hash_value
-from polyaxon.utils.http_utils import absolute_uri
-from polyaxon.utils.list_utils import to_list
-from polyaxon.utils.path_utils import (
-    check_or_create_path,
-    delete_path,
-    get_base_filename,
-    get_dirs_under_path,
-    get_files_in_path_context,
-    get_path,
-)
-from polyaxon.utils.query_params import get_logs_params, get_query_params
-from polyaxon.utils.tz_utils import now
-from polyaxon.utils.validation import validate_tags
+from polyaxon.utils.fqn_utils import get_entity_full_name, to_fqn_name
+from polyaxon.utils.urls_utils import get_proxy_run_url
+from traceml.artifacts import V1ArtifactKind, V1RunArtifact
+from traceml.events import V1Events
+from traceml.logging.streamer import get_logs_streamer
+
+if TYPE_CHECKING:
+    from polyaxon.schemas.responses.v1_list_run_artifacts_response import (
+        V1ListRunArtifactsResponse,
+    )
+    from traceml.logging import V1Logs
+    from traceml.tracking.run import Run
 
 
 class RunClient:
     """RunClient is a client to communicate with Polyaxon runs endpoints.
 
     If no values are passed to this class,
     Polyaxon will try to resolve the owner, project, and run uuid from the environment:
@@ -105,32 +120,46 @@
         owner: str, optional, the owner is the username or
              the organization name owning this project.
         project: str, optional, project name owning the run(s).
         run_uuid: str, optional, run uuid.
         client: [PolyaxonClient](/docs/core/python-library/polyaxon-client/), optional,
              an instance of a configured client, if not passed,
              a new instance will be created based on the available environment.
+        is_offline: bool, optional,
+             To trigger the offline mode manually instead of depending on `POLYAXON_IS_OFFLINE`.
+        no_op: bool, optional,
+             To set the NO_OP mode manually instead of depending on `POLYAXON_NO_OP`.
 
     Raises:
         PolyaxonClientException: If no owner and/or project are passed and Polyaxon cannot
              resolve the values from the environment.
     """
 
     @client_handler(check_no_op=True)
     def __init__(
         self,
-        owner: str = None,
-        project: str = None,
-        run_uuid: str = None,
-        client: PolyaxonClient = None,
-        is_offline: bool = None,
-    ):
-        self._is_offline = (
-            is_offline if is_offline is not None else settings.CLIENT_CONFIG.is_offline
+        owner: Optional[str] = None,
+        project: Optional[str] = None,
+        run_uuid: Optional[str] = None,
+        client: Optional[PolyaxonClient] = None,
+        is_offline: Optional[bool] = None,
+        no_op: Optional[bool] = None,
+        manual_exceptions_handling: bool = False,
+    ):
+        self._manual_exceptions_handling = manual_exceptions_handling
+        self._is_offline = get_global_or_inline_config(
+            config_key="is_offline", config_value=is_offline, client=client
+        )
+        self._no_op = get_global_or_inline_config(
+            config_key="no_op", config_value=no_op, client=client
         )
+
+        if self._no_op:
+            return
+
         try:
             owner, project = get_project_or_local(
                 get_entity_full_name(owner=owner, entity=project)
             )
         except PolyaxonClientException:
             pass
 
@@ -152,151 +181,249 @@
         self._owner = owner
         self._project = project
         self._run_uuid = (
             get_run_or_local(run_uuid)
             if not self._is_offline
             else run_uuid or uuid.uuid4().hex
         )
-        self._run_data = polyaxon_sdk.V1Run(
+        default_runtime = (
+            V1RunKind.JOB
+            if self._is_offline or not settings.CLIENT_CONFIG.is_managed
+            else None
+        )
+        self._run_data = V1Run.construct(
             owner=self._owner,
             project=self._project,
             uuid=self._run_uuid,
-            kind=V1RunKind.JOB if self._is_offline else None,
-            runtime=V1RunKind.JOB if self._is_offline else None,
+            kind=default_runtime,
+            runtime=default_runtime,
             is_managed=False if self._is_offline else None,
         )
-        self._namespace = None
-        self._results = {}
-        self._lineages = {}
+        self._namespace: Optional[str] = None
+        self._results: Dict[str, Any] = {}
+        self._artifacts_lineage: Dict[str, V1RunArtifact] = {}
+        self._default_filename_sanitize_paths: List[str] = []
+        self._last_update: Optional[Tuple[datetime, int]] = None
+        self._store: Optional[PolyaxonStore] = None
+
+    def _set_is_offline(
+        self,
+        client: Optional[PolyaxonClient] = None,
+        is_offline: Optional[bool] = None,
+    ):
+        if is_offline is not None:
+            return is_offline
+        if client and client.config and client.config.is_offline is not None:
+            return client.config.is_offline
+        return settings.CLIENT_CONFIG.is_offline
+
+    def _set_no_op(
+        self,
+        client: Optional[PolyaxonClient] = None,
+        no_op: Optional[bool] = None,
+    ):
+        if no_op is not None:
+            return no_op
+        if client and client.config and client.config.no_op is not None:
+            return client.config.no_op
+        return settings.CLIENT_CONFIG.no_op
 
     @property
     def client(self):
         if self._client:
             return self._client
         self._client = PolyaxonClient()
         return self._client
 
     @property
-    def status(self) -> str:
+    def store(self):
+        if self._store:
+            return self._store
+        self._store = PolyaxonStore(client=self)
+        return self._store
+
+    @property
+    def status(self) -> Optional[Union[V1Statuses, str]]:
         return self._run_data.status
 
     @property
+    def settings(self) -> Optional[V1RunSettings]:
+        if not self.run_data:
+            return None
+        if self.run_data.settings and isinstance(self.run_data.settings, Mapping):
+            self._run_data.settings = V1RunSettings(**self.run_data.settings)
+        return self.run_data.settings
+
+    @property
     def namespace(self) -> str:
         if self._namespace:
             return self._namespace
-        if (
-            self.run_data
-            and self.run_data.settings
-            and self.run_data.settings.namespace
-        ):
-            self._namespace = self.run_data.settings.namespace
+        if self.settings and self.settings.namespace:
+            self._namespace = self.settings.namespace
         else:
             self._namespace = self.get_namespace()
-        return self._namespace
+        return self._namespace or ""
 
     @property
     def owner(self) -> str:
-        return self._owner
+        return self._owner or ""
+
+    def set_owner(self, owner: str):
+        self._owner = owner
 
     @property
     def project(self) -> str:
-        return self._project
+        return self._project or ""
+
+    def set_project(self, project: str):
+        self._project = project
 
     @property
     def run_uuid(self) -> str:
         return self._run_uuid
 
+    def set_run_uuid(self, run_uuid):
+        self._run_uuid = run_uuid
+
     @property
     def run_data(self):
         return self._run_data
 
+    @property
+    def artifacts_lineage(self):
+        return self._artifacts_lineage
+
     @client_handler(check_no_op=True)
-    def get_inputs(self) -> Dict:
+    def get_inputs(self) -> Dict[str, Any]:
         """Gets the run's inputs.
         Returns:
             dict, all the run inputs/params.
         """
-        return self._run_data.inputs
+        if not self._run_data.inputs:
+            self.refresh_data()
+        return self._run_data.inputs or {}
 
     @client_handler(check_no_op=True)
-    def get_outputs(self) -> Dict:
+    def get_outputs(self) -> Dict[str, Any]:
         """Gets the run's outputs.
         Returns:
              dict, all the run outputs/metrics.
         """
-        return self._run_data.outputs
+        if not self._run_data.inputs:
+            self.refresh_data()
+        return self._run_data.outputs or {}
 
     @client_handler(check_no_op=True, check_offline=True)
-    def refresh_data(self):
+    def refresh_data(
+        self, load_artifacts_lineage: bool = False, load_conditions: bool = False
+    ):
         """Fetches the run data from the api."""
         self._run_data = self.client.runs_v1.get_run(
             self.owner, self.project, self.run_uuid
         )
+        if load_conditions:
+            _, conditions = self.get_statuses()
+            self._run_data.status_conditions = conditions
+        if load_artifacts_lineage:
+            lineages = self.get_artifacts_lineage(limit=1000).results
+            self._artifacts_lineage = {l.name: l for l in lineages}
+
+    def _throttle_updates(self) -> bool:
+        current_time = now().replace(microsecond=0)
+        last_time, updates = self._last_update or (current_time, 0)
+        if current_time == last_time and updates > 2:
+            return True
+        self._last_update = (current_time, updates + 1)
+        return False
 
-    def _update(
-        self, data: Union[Dict, polyaxon_sdk.V1Run], async_req: bool = True
-    ) -> V1Run:
+    def _update(self, data: Union[Dict, V1Run], async_req: bool = True) -> V1Run:
         if self._is_offline:
             return self.run_data
         response = self.client.runs_v1.patch_run(
             owner=self.owner,
             project=self.project,
             run_uuid=self.run_uuid,
             body=data,
             async_req=async_req,
         )
         if not async_req:
             self._run_data = response
         return response
 
     @client_handler(check_no_op=True)
-    def update(
-        self, data: Union[Dict, polyaxon_sdk.V1Run], async_req: bool = False
-    ) -> V1Run:
+    def update(self, data: Union[Dict, V1Run], async_req: bool = False) -> V1Run:
         """Updates a run based on the data passed.
 
         [Run API](/docs/api/#operation/PatchRun)
 
         Args:
             data: Dict or V1Run, required.
             async_req: bool, optional, default: False, execute request asynchronously.
 
         Returns:
             V1Run, run instance from the response.
         """
         if self._is_offline:
             for k in data:
-                setattr(self._run_data, k, getattr(data, k, None))
+                setattr(self._run_data, k, getattr(data, k, None))  # type: ignore
         return self._update(data=data, async_req=async_req)
 
+    @client_handler(check_no_op=True)
+    def transfer(self, to_project: str, async_req: bool = False):
+        """Transfers the run to a project under the same owner/organization.
+
+        [Run API](/docs/api/#operation/TransferRun)
+
+        Args:
+            to_project: str, required, the destination project to transfer the run to.
+            async_req: bool, optional, default: False, execute request asynchronously.
+        """
+
+        def _update_run():
+            self._project = to_project
+            self._run_data._project = to_project
+
+        if self._is_offline:
+            _update_run()
+            return
+
+        self.client.runs_v1.transfer_run(
+            owner=self.owner,
+            project=self.project,
+            run_uuid=self.run_uuid,
+            body={"project": to_project},
+            async_req=async_req,
+        )
+        _update_run()
+
     def _create(
-        self, data: Union[Dict, polyaxon_sdk.V1OperationBody], async_req: bool = False
+        self, data: Union[Dict, V1OperationBody], async_req: bool = False
     ) -> V1Run:
         response = self.client.runs_v1.create_run(
             owner=self.owner,
             project=self.project,
             body=data,
             async_req=async_req,
         )
         if not async_req:
             self._run_data = response
             self._run_uuid = self._run_data.uuid
             self._run_data.status = V1Statuses.CREATED
             self._namespace = None
             self._results = {}
-            self._lineages = {}
+            self._artifacts_lineage = {}
         return response
 
     @client_handler(check_no_op=True)
     def create(
         self,
-        name: str = None,
-        description: str = None,
-        tags: Union[str, Sequence[str]] = None,
-        content: Union[str, Dict, V1Operation] = None,
+        name: Optional[str] = None,
+        description: Optional[str] = None,
+        tags: Optional[Union[str, List[str]]] = None,
+        content: Optional[Union[str, Dict, V1Operation]] = None,
         is_managed: bool = True,
         pending: Optional[str] = None,
         meta_info: Optional[Dict] = None,
     ) -> V1Run:
         """Creates a new run based on the data passed.
 
         N.B. Create methods are only useful if you want to create a run programmatically,
@@ -321,15 +448,15 @@
             is_managed: bool, flag to create a managed run.
             pending: str, to specify if the run is pending approval (requires human validation) or pending upload.  # noqa
             meta_info: dict, meta info to create the run with.
 
         Returns:
             V1Run, run instance from the response.
         """
-        tags = validate_tags(tags)
+        tags = validate_tags(tags, validate_yaml=True)
         if self._is_offline:
             self._run_data.name = name
             self._run_data.description = description
             self._run_data.tags = tags
             self._run_data.owner = self._owner
             self._run_data.project = self._project
             if not self._run_uuid:
@@ -341,18 +468,17 @@
         elif not isinstance(content, (str, Mapping, V1Operation)):
             raise PolyaxonClientException(
                 "Received an invalid content: {}".format(content)
             )
         if content:
             if isinstance(content, Mapping):
                 content = V1Operation.from_dict(content)
-            content = (
-                content if isinstance(content, str) else content.to_dict(dump=True)
-            )
-        data = polyaxon_sdk.V1OperationBody(
+            if isinstance(content, V1Operation):
+                content = content.to_json()
+        data = V1OperationBody.construct(
             name=name,
             description=description,
             tags=tags,
             content=content,
             is_managed=is_managed,
             pending=pending,
             meta_info=meta_info,
@@ -360,22 +486,24 @@
         self._create(data=data, async_req=False)
         return self.run_data
 
     @client_handler(check_no_op=True, check_offline=True)
     def create_from_polyaxonfile(
         self,
         polyaxonfile: str,
-        name: str = None,
-        description: str = None,
-        tags: Union[str, Sequence[str]] = None,
-        params: Dict = None,
-        presets: List[str] = None,
-        queue: str = None,
-        nocache: bool = None,
-        cache: bool = None,
+        name: Optional[str] = None,
+        description: Optional[str] = None,
+        tags: Optional[Union[str, List[str]]] = None,
+        params: Optional[Dict] = None,
+        matrix: Optional[Union[Dict, V1Matrix]] = None,
+        presets: Optional[List[str]] = None,
+        queue: Optional[str] = None,
+        nocache: Optional[bool] = None,
+        cache: Optional[Union[int, str, bool]] = None,
+        approved: Optional[Union[int, str, bool]] = None,
     ) -> V1Run:
         """Creates a new run based on a polyaxonfile.
 
         N.B. Create methods are only useful if you want to create a run programmatically,
         if you run a component/operation from the CLI/UI an instance will be created automatically.
 
         [Run API](/docs/api/#operation/CreateRun)
@@ -389,56 +517,68 @@
                  it will override the name in the operation if provided.
             description: str, optional,
                  it will override the description in the operation if provided.
             tags: str or List[str], optional, list of tags,
                  it will override the tags in the operation if provided.
             params: dict, optional, a dictionary of parameters that will be
                  used to resolve the component's inputs/outputs.
+            matrix: dict or V1Matrix, a matrix definition.
             presets: List[str], optional, the name of the
                  [presets](/docs/core/scheduling-presets/).
             queue: str, optional, the name of the
                  [queue](/docs/core/scheduling-strategies/queues/) to assign the run to.
-            nocache: bool, optional, simple flag to disable
+            nocache: bool, optional, DEPRECATED Please use `cache='f'`
+                 simple flag to disable
                  [cache check](/docs/automation/helpers/cache/).
                  If passed and the Polyaxonfile has cache section,
                  it will be patched with `disabled: true`.
-            cache: bool, optional, simple flag to enable
+            cache: Union[int, str, bool], optional, simple flag to enable/disable
                  [cache check](/docs/automation/helpers/cache/).
-                 If passed and the Polyaxonfile has cache section,
-                 it will be patched with `disabled: false`.
+                 If passed and the Polyaxonfile will be patched with `disabled: true/false`.
+                 e.g. `cache=1`, `cache='yes'`, `cache=False`, `cache='t'`, ...
+            approved: Union[int, str, bool], optional, simple flag to enable/disable
+                 human in the loop validation without changing the polyaxonfile,
+                 similar to `isApproved: true/false`,
+                 [manual approval](/docs/core/scheduling-strategies/manual-approval/).
+                 Can be used with yes/no, y/n, false/true, f/t, 1/0. "
+                 "e.g. `approved=1`, `approved='yes'`, `approved=False`, `approved='t'`, ..."
 
         Returns:
             V1Run, run instance from the response.
         """
         op_spec = check_polyaxonfile(
             polyaxonfile=polyaxonfile,
             params=params,
+            matrix=matrix,
             presets=presets,
             queue=queue,
             nocache=nocache,
             cache=cache,
+            approved=approved,
             verbose=False,
             is_cli=False,
         )
         return self.create(
             name=name, description=description, tags=tags, content=op_spec
         )
 
     @client_handler(check_no_op=True, check_offline=True)
     def create_from_url(
         self,
         url: str,
-        name: str = None,
-        description: str = None,
-        tags: Union[str, Sequence[str]] = None,
-        params: Dict = None,
-        presets: List[str] = None,
-        queue: str = None,
-        nocache: bool = None,
-        cache: bool = None,
+        name: Optional[str] = None,
+        description: Optional[str] = None,
+        tags: Optional[Union[str, List[str]]] = None,
+        params: Optional[Dict] = None,
+        matrix: Optional[Union[Dict, V1Matrix]] = None,
+        presets: Optional[List[str]] = None,
+        queue: Optional[str] = None,
+        nocache: Optional[bool] = None,
+        cache: Optional[Union[int, str, bool]] = None,
+        approved: Optional[Union[int, str, bool]] = None,
     ) -> V1Run:
         """Creates a new run from a url containing a Polyaxonfile specification.
 
         N.B. Create methods are only useful if you want to create a run programmatically,
         if you run a component/operation from the CLI/UI an instance will be created automatically.
 
         [Run API](/docs/api/#operation/CreateRun)
@@ -451,56 +591,68 @@
             name: str, optional, it will override the name in the operation if provided.
             description: str, optional,
                  it will override the description in the operation if provided.
             tags: str or List[str], optional, list of tags,
                  it will override the tags in the operation if provided.
             params: dict, optional, a dictionary of parameters that will be
                  used to resolve the component's inputs/outputs.
+            matrix: dict or V1Matrix, a matrix definition.
             presets: List[str], optional, the name of the
                  [presets](/docs/core/scheduling-presets/).
             queue: str, optional, the name of the
                  [queue](/docs/core/scheduling-strategies/queues/) to assign the run to.
-            nocache: bool, optional, simple flag to disable
+            nocache: bool, optional, DEPRECATED Please use `cache='f'`
+                 simple flag to disable
                  [cache check](/docs/automation/helpers/cache/).
                  If passed and the Polyaxonfile has cache section,
                  it will be patched with `disabled: true`.
-            cache: bool, optional, simple flag to enable
+            cache: Union[int, str, bool], optional, simple flag to enable/disable
                  [cache check](/docs/automation/helpers/cache/).
-                 If passed and the Polyaxonfile has cache section,
-                 it will be patched with `disabled: false`.
+                 If passed and the Polyaxonfile will be patched with `disabled: true/false`.
+                 e.g. `cache=1`, `cache='yes'`, `cache=False`, `cache='t'`, ...
+            approved: Union[int, str, bool], optional, simple flag to enable/disable
+                 human in the loop validation without changing the polyaxonfile,
+                 similar to `isApproved: true/false`,
+                 [manual approval](/docs/core/scheduling-strategies/manual-approval/).
+                 Can be used with yes/no, y/n, false/true, f/t, 1/0. "
+                 "e.g. `approved=1`, `approved='yes'`, `approved=False`, `approved='t'`, ..."
 
         Returns:
             V1Run, run instance from the response.
         """
         op_spec = check_polyaxonfile(
             url=url,
             params=params,
+            matrix=matrix,
             presets=presets,
             queue=queue,
             nocache=nocache,
             cache=cache,
+            approved=approved,
             verbose=False,
             is_cli=False,
         )
         return self.create(
             name=name, description=description, tags=tags, content=op_spec
         )
 
     @client_handler(check_no_op=True, check_offline=True)
     def create_from_hub(
         self,
         component: str,
-        name: str = None,
-        description: str = None,
-        tags: Union[str, Sequence[str]] = None,
-        params: Dict = None,
-        presets: str = None,
-        queue: str = None,
-        nocache: bool = None,
-        cache: bool = None,
+        name: Optional[str] = None,
+        description: Optional[str] = None,
+        tags: Optional[Union[str, List[str]]] = None,
+        params: Optional[Dict] = None,
+        matrix: Optional[Union[Dict, V1Matrix]] = None,
+        presets: Optional[List[str]] = None,
+        queue: Optional[str] = None,
+        nocache: Optional[bool] = None,
+        cache: Optional[Union[int, str, bool]] = None,
+        approved: Optional[Union[int, str, bool]] = None,
     ) -> V1Run:
         """Creates a new run from the hub based on the component name.
 
         N.B. Create methods are only useful if you want to create a run programmatically,
         if you run a component/operation from the CLI/UI an instance will be created automatically.
 
         If the component has required inputs, you should pass the params.
@@ -512,57 +664,67 @@
             name: str, optional, it will override the name in the component if provided.
             description: str, optional,
                  it will override the description in the component if provided.
             tags: str or List[str], optional, list of tags,
                  it will override the tags in the component if provided.
             params: dict, optional, a dictionary of parameters that will be
                  used to resolve the component's inputs/outputs.
+            matrix: dict or V1Matrix, a matrix definition.
             presets: List[str], optional, the name of the
                  [presets](/docs/core/scheduling-presets/).
             queue: str, optional, the name of the
                  [queue](/docs/core/scheduling-strategies/queues/) to assign the run to.
-            nocache: bool, optional, simple flag to disable
+            nocache: bool, optional, DEPRECATED Please use `cache='f'`
+                 simple flag to disable
                  [cache check](/docs/automation/helpers/cache/).
                  If passed and the Polyaxonfile has cache section,
                  it will be patched with `disabled: true`.
-            cache: bool, optional, simple flag to enable
+            cache: Union[int, str, bool], optional, simple flag to enable/disable
                  [cache check](/docs/automation/helpers/cache/).
-                 If passed and the Polyaxonfile has cache section,
-                 it will be patched with `disabled: false`.
+                 If passed and the Polyaxonfile will be patched with `disabled: true/false`.
+                 e.g. `cache=1`, `cache='yes'`, `cache=False`, `cache='t'`, ...
+            approved: Union[int, str, bool], optional, simple flag to enable/disable
+                 human in the loop validation without changing the polyaxonfile,
+                 similar to `isApproved: true/false`,
+                 [manual approval](/docs/core/scheduling-strategies/manual-approval/).
+                 Can be used with yes/no, y/n, false/true, f/t, 1/0. "
+                 "e.g. `approved=1`, `approved='yes'`, `approved=False`, `approved='t'`, ..."
 
         Returns:
             V1Run, run instance from the response.
         """
         op_spec = check_polyaxonfile(
             hub=component,
             params=params,
+            matrix=matrix,
             presets=presets,
             queue=queue,
             nocache=nocache,
             cache=cache,
+            approved=approved,
             verbose=False,
             is_cli=False,
         )
         return self.create(
             name=name, description=description, tags=tags, content=op_spec
         )
 
     @client_handler(check_no_op=True)
     def log_status(
         self,
-        status: str,
-        reason: str = None,
-        message: str = None,
-        last_transition_time: datetime = None,
-        last_update_time: datetime = None,
+        status: Union[str, V1Statuses],
+        reason: Optional[str] = None,
+        message: Optional[str] = None,
+        last_transition_time: Optional[datetime] = None,
+        last_update_time: Optional[datetime] = None,
     ):
         """Logs a new run status.
 
         <blockquote class="info">
-        N.B. If you are executing a managed run, you don't need to call this method manually.
+        <strong>Note</strong>: If you are executing a managed run, you don't need to call this method manually.
         This method is only useful for manual runs outside of Polyaxon.
         </blockquote>
 
         N.B you will probably use one of the simpler methods:
             * log_succeeded
             * log_stopped
             * log_failed
@@ -575,44 +737,44 @@
             status: str, a valid [Statuses](/docs/core/specification/lifecycle/) value.
             reason: str, optional, reason or service issuing the status change.
             message: str, optional, message to log with this status.
             last_transition_time: datetime, default `now`.
             last_update_time: datetime, default `now`.
         """
         reason = reason or "PolyaxonClient"
-        self._run_data.status = status
+        self._run_data.status = status  # type: ignore
         current_date = now()
-        status_condition = V1StatusCondition(
+        status_condition = V1StatusCondition.construct(
             type=status,
             status=True,
             reason=reason,
             message=message,
             last_transition_time=last_transition_time or current_date,
             last_update_time=last_update_time or current_date,
         )
         if self._is_offline:
             self._run_data.status_conditions = self._run_data.status_conditions or []
             self._run_data.status_conditions.append(status_condition)
-            if status == polyaxon_sdk.V1Statuses.CREATED:
+            if status == V1Statuses.CREATED:
                 self._run_data.created_at = current_date
             LifeCycle.set_started_at(self._run_data)
             LifeCycle.set_finished_at(self._run_data)
             return
         self.client.runs_v1.create_run_status(
             owner=self.owner,
             project=self.project,
             uuid=self.run_uuid,
             body={"condition": status_condition},
             async_req=True,
         )
 
     @client_handler(check_no_op=True, check_offline=True)
     def get_statuses(
-        self, last_status: str = None
-    ) -> Tuple[str, List[V1StatusCondition]]:
+        self, last_status: Optional[str] = None
+    ) -> Tuple[Union[str, V1Statuses], List[V1StatusCondition]]:
         """Gets the run's statuses.
 
         [Run API](/docs/api/#operation/GetRunStatus)
 
         Args:
             last_status: str, a valid [Statuses](/docs/core/specification/lifecycle/) value.
 
@@ -630,37 +792,46 @@
 
             _conditions = []
             for c in reversed(response.status_conditions):
                 if c.type == last_status:
                     break
                 _conditions.append(c)
 
-            return response.status, reversed(_conditions)
+            return response.status, reversed(_conditions)  # type: ignore
 
         except (ApiException, HTTPError) as e:
             raise PolyaxonClientException("Api error: %s" % e) from e
 
-    def _wait_for_condition(self, statuses: List[str] = None):
+    def _wait_for_condition(self, statuses: Optional[List[str]] = None):
         statuses = to_list(statuses, check_none=True)
 
         def condition():
             if statuses:
                 return last_status in statuses
             return LifeCycle.is_done(last_status)
 
         last_status = None
         while not condition():
             if last_status:
                 time.sleep(settings.CLIENT_CONFIG.watch_interval)
-            last_status, _conditions = self.get_statuses(last_status)
-            yield last_status, _conditions
+            try:
+                last_status, _conditions = self.get_statuses(last_status)
+                yield last_status, _conditions
+            except ApiException as e:
+                if e.status in {500, 502, 503, 504}:
+                    yield last_status, []
+                else:
+                    raise e
 
     @client_handler(check_no_op=True, check_offline=True)
     def wait_for_condition(
-        self, statuses: List[str] = None, print_status: bool = False
+        self,
+        statuses: Optional[List[str]] = None,
+        print_status: bool = False,
+        live_update: Any = None,
     ):
         """Waits for the run's last status to meet a condition.
 
         If a list of statuses is passed, it will wait for the condition:
          * last status is one of the statuses passed.
 
         Otherwise, it will wait until the user interrupts the function or
@@ -669,17 +840,22 @@
         N.B. if you want to watch the statuses and receive the status/conditions,
         please use `watch_statuses` instead which yields the results.
         """
         for status, conditions in self._wait_for_condition(statuses):
             self._run_data.status = status
             if print_status:
                 print("Last received status: {}\n".format(status))
+            if live_update:
+                latest_status = Printer.add_status_color(
+                    {"status": status}, status_key="status"
+                )
+                live_update.update(status="{}\n".format(latest_status["status"]))
 
     @client_handler(check_no_op=True, check_offline=True)
-    def watch_statuses(self, statuses: List[str] = None):
+    def watch_statuses(self, statuses: Optional[List[str]] = None):
         """Watches run statuses.
 
         If statuses is passed the watch will wait for a condition:
          * last status is one of the statuses passed.
 
         Otherwise, it will watch until the user interrupts it or
         when the run reaches a final status.
@@ -718,19 +894,120 @@
             all_info: bool, optional, default: False, show all information about log lines.
         """
         return get_run_logs(
             client=self, hide_time=hide_time, all_info=all_info, follow=True
         )
 
     @client_handler(check_no_op=True, check_offline=True)
+    def inspect(self):
+        return self.client.runs_v1.inspect_run(
+            self.namespace, self.owner, self.project, self.run_uuid
+        )
+
+    @client_handler(check_no_op=True, check_offline=True)
+    def shell(
+        self,
+        command: Optional[str] = None,
+        pod: Optional[str] = None,
+        container: Optional[str] = None,
+        stderr: bool = True,
+        stdin: bool = True,
+        stdout: bool = True,
+        tty: bool = True,
+    ):
+        """Executes a command in a container.
+
+        Streams allows to switch to raw terminal mode by sending stdin to 'bash'
+        and receives stdout/stderr from 'bash' back to the client.
+
+        Args:
+            command: str, optional, a command to execute.
+            pod: str, optional, the pod to use for executing the command.
+            container: str, optional, the container to use for executing the command.
+            stderr: bool, optional
+            stdin: bool, optional
+            stdout: bool, optional
+            tty: bool, optional
+        """
+        from polyaxon.client.transport import ws_client
+
+        if not pod or not container:
+            inspection = self.inspect()
+            if not inspection:
+                raise PolyaxonClientException(
+                    "The shell command is only usable for operations managed by Polyaxon "
+                    "and actively running."
+                )
+            if not pod:
+                pod = next(iter(inspection.keys()))
+            pod_content = inspection.get(pod, {})
+            if not pod_content:
+                raise PolyaxonClientException(
+                    "The shell command is only usable for operations managed by Polyaxon "
+                    "and actively running. Error: the pod `{}` was not found.".format(
+                        pod
+                    )
+                )
+            pod_content = pod_content.get("spec", {})
+            pod_containers = [c.get("name") for c in pod_content.get("containers", [])]
+            if not pod_containers:
+                raise PolyaxonClientException(
+                    "The shell command is only usable for operations managed by Polyaxon "
+                    "and actively running. Error: the operation does not have containers."
+                )
+            if container:
+                if container not in pod_containers:
+                    raise PolyaxonClientException(
+                        "The shell command is only usable for operations managed by Polyaxon "
+                        "and actively running. "
+                        "Error: the container `{}` was not found under the pod `{}`.".format(
+                            container, pod
+                        )
+                    )
+            else:
+                for c in MAIN_CONTAINER_NAMES:
+                    if c in pod_containers:
+                        container = c
+                        break
+                if not container:
+                    container = pod_containers[0]
+
+        url = get_proxy_run_url(
+            service=K8S_V1_LOCATION,
+            namespace=self.namespace,
+            owner=self.owner,
+            project=self.project,
+            run_uuid=self.run_uuid,
+            subpath="k8s_exec/{pod}/{container}".format(
+                pod=pod,
+                container=container,
+            ),
+        )
+        url = absolute_uri(url=url, host=self.client.config.host)
+
+        command = command or "/bin/bash"
+        return ws_client.websocket_call(
+            self.client.config.sdk_config,
+            url,
+            query_params=[
+                ("command", command.split()),
+                ("stderr", stderr),
+                ("stdin", stdin),
+                ("stdout", stdout),
+                ("tty", tty),
+            ],
+            headers=self.client.config.get_full_headers(auth_key="authorization"),
+        )
+
+    @client_handler(check_no_op=True, check_offline=True)
     def get_events(
         self,
         kind: V1ArtifactKind,
         names: List[str],
-        orient: str = None,
+        orient: Optional[str] = None,
         force: bool = False,
     ):
         """Gets the run's events
 
         Args:
             kind: str, a valid `V1ArtifactKind`.
             names: List[str], list of events to return.
@@ -750,52 +1027,102 @@
 
     @client_handler(check_no_op=True, check_offline=True)
     def get_multi_run_events(
         self,
         kind: V1ArtifactKind,
         runs: List[str],
         names: List[str],
-        orient: str = None,
+        orient: Optional[str] = None,
         force: bool = False,
     ):
-        logger.warning("This method is deprecated in favor of `get_multi_run_events`")
-        return self.get_multi_run_events(
-            kind=kind, runs=runs, names=names, orient=orient, force=force
-        )
-
-    @client_handler(check_no_op=True, check_offline=True)
-    def get_multi_run_events(
-        self,
-        kind: V1ArtifactKind,
-        runs: List[str],
-        names: List[str],
-        orient: str = None,
-        force: bool = False,
-    ):
-        """Gets multi-run events.
+        """Gets events for multiple runs.
 
         Args:
             kind: str, a valid `V1ArtifactKind`.
             runs: List[str], list of run uuids to return events for.
             names: List[str], list of events to return.
             orient: str, csv or dict.
             force: bool, force reload the events.
+        Returns:
+            V1EventsResponse
         """
         return self.client.runs_v1.get_multi_run_events(
             self.namespace,
             self.owner,
             self.project,
             kind=kind,
             names=names,
             runs=runs,
             orient=orient,
             force=force,
         )
 
     @client_handler(check_no_op=True, check_offline=True)
+    def get_artifacts_lineage(
+        self,
+        query: Optional[str] = None,
+        sort: Optional[str] = None,
+        limit: Optional[int] = None,
+        offset: Optional[int] = None,
+    ) -> "V1ListRunArtifactsResponse":
+        """Gets the run's artifacts lineage.
+
+        [Run API](/docs/api/#operation/GetRunArtifactsLineage)
+
+        Args:
+            query: str, optional, query filters, please refer to
+                 [Run PQL](/docs/core/query-language/artifacts-lineage/#query)
+            sort: str, optional, fields to order by, please refer to
+                 [Run PQL](/docs/core/query-language/artifacts-lineage/#sort)
+            limit: int, optional, limit of runs to return.
+            offset: int, optional, offset pages to paginate runs.
+
+        Returns:
+            V1ListRunArtifactsResponse.
+        """
+        params = get_query_params(
+            limit=limit or 20, offset=offset, query=query, sort=sort
+        )
+        return self.client.runs_v1.get_run_artifacts_lineage(
+            self.owner, self.project, self.run_uuid, **params
+        )
+
+    @client_handler(check_no_op=True, check_offline=True)
+    def get_runs_artifacts_lineage(
+        self,
+        query: Optional[str] = None,
+        sort: Optional[str] = None,
+        limit: Optional[int] = None,
+        offset: Optional[int] = None,
+    ):
+        """Gets the artifacts lineage for multiple runs under project based on query.
+
+        [Run API](/docs/api/#operation/GetRunsArtifactsLineage)
+
+        **Available from v1.18**
+
+        Args:
+            query: str, optional, query filters, please refer to
+                 [Run PQL](/docs/core/query-language/artifacts-lineage/#query)
+            sort: str, optional, fields to order by, please refer to
+                 [Run PQL](/docs/core/query-language/artifacts-lineage/#sort)
+            limit: int, optional, limit of runs to return.
+            offset: int, optional, offset pages to paginate runs.
+
+        Returns:
+            V1ListRunArtifactsResponse.
+        """
+        params = get_query_params(
+            limit=limit or 20, offset=offset, query=query, sort=sort
+        )
+        return self.client.runs_v1.get_runs_artifacts_lineage(
+            self.owner, self.project, **params
+        )
+
+    @client_handler(check_no_op=True, check_offline=True)
     def get_artifact(self, path: str, stream: bool = True, force: bool = False):
         """Gets the run's artifact.
 
         Args:
             path: str, the relative path of the artifact to return.
             stream: bool, optional, default: True, whether to stream the artifact content.
             force: bool, force reload the artifact.
@@ -811,191 +1138,300 @@
             path=path,
             stream=stream,
             force=force,
             _preload_content=True,
         )
 
     @client_handler(check_no_op=True, check_offline=True)
-    def download_artifact(self, path: str, force: bool = False, path_to: str = None):
+    def download_artifact_for_lineage(
+        self,
+        lineage: V1RunArtifact,
+        force: bool = False,
+        path_to: Optional[str] = None,
+    ):
+        """Downloads an run artifact given a lineage reference.
+
+        Args:
+            lineage: V1RunArtifact, the artifact lineage.
+            path_to: str, optional, path to download to.
+            force: bool, force reload the artifact.
+
+        Returns:
+            str
+        """
+        if not self.run_uuid:
+            return
+
+        lineage_path = lineage.path or ""
+        summary = lineage.summary or {}
+        is_event = summary.get("is_event")
+        has_step = summary.get("step")
+
+        if self.run_uuid in lineage_path:
+            lineage_path = os.path.relpath(lineage_path, self.run_uuid)
+
+        if V1ArtifactKind.is_single_file_event(lineage.kind):
+            return self.download_artifact(
+                path=lineage_path, force=force, path_to=path_to
+            )
+
+        if V1ArtifactKind.is_single_or_multi_file_event(lineage.kind):
+            if is_event or has_step:
+                url = get_proxy_run_url(
+                    service=STREAMS_V1_LOCATION,
+                    namespace=self.namespace,
+                    owner=self.owner,
+                    project=self.project,
+                    run_uuid=self.run_uuid,
+                    subpath="events/{}".format(lineage.kind),
+                )
+                url = absolute_uri(url=url, host=self.client.config.host)
+                params = {"names": lineage.name, "pkg_assets": True}
+                if force:
+                    params["force"] = True
+
+                return self.store.download_file(
+                    url=url,
+                    path=self.run_uuid,
+                    use_filepath=False,
+                    extract_path=path_to,
+                    path_to=path_to,
+                    params=params,
+                    untar=True,
+                )
+            elif V1ArtifactKind.is_file_or_dir(lineage.kind):
+                return self.download_artifacts(
+                    path=lineage_path, path_to=path_to, check_path=True
+                )
+            else:
+                return self.download_artifact(
+                    path=lineage_path, force=force, path_to=path_to
+                )
+
+        if V1ArtifactKind.is_file(lineage.kind):
+            return self.download_artifact(
+                path=lineage_path, force=force, path_to=path_to
+            )
+
+        if V1ArtifactKind.is_dir(lineage.kind):
+            return self.download_artifacts(path=lineage_path, path_to=path_to)
+
+        if V1ArtifactKind.is_file_or_dir(lineage.kind):
+            return self.download_artifacts(
+                path=lineage_path, path_to=path_to, check_path=True
+            )
+
+    @client_handler(check_no_op=True, check_offline=True)
+    def download_artifact(
+        self, path: str, force: bool = False, path_to: Optional[str] = None
+    ):
         """Downloads a single run artifact.
 
         Args:
             path: str, the relative path of the artifact to return.
             path_to: str, optional, path to download to.
             force: bool, force reload the artifact.
 
         Returns:
             str
         """
-        url = PolyaxonStore.URL.format(
+        url = get_proxy_run_url(
+            service=STREAMS_V1_LOCATION,
             namespace=self.namespace,
             owner=self.owner,
             project=self.project,
-            uuid=self.run_uuid,
+            run_uuid=self.run_uuid,
             subpath="artifact",
         )
         url = absolute_uri(url=url, host=self.client.config.host)
+        params = {}
         if force:
-            url = "{}?force=true".format(url)
+            params["force"] = True
 
-        return PolyaxonStore(client=self).download_file(
-            url=url, path=path, path_to=path_to
+        return self.store.download_file(
+            url=url, path=path, path_to=path_to, params=params
         )
 
     @client_handler(check_no_op=True, check_offline=True)
     def download_artifacts(
         self,
         path: str = "",
-        path_to: str = None,
+        path_to: Optional[str] = None,
         untar: bool = True,
         delete_tar: bool = True,
-        extract_path: str = None,
+        extract_path: Optional[str] = None,
+        check_path: bool = False,
     ):
         """Downloads a subpath containing multiple run artifacts.
 
         Args:
             path: str, the relative path of the artifact to return.
             path_to: str, optional, path to download to.
             untar: bool, optional, default: true.
             delete_tar: bool, optional, default: true.
             extract_path: str, optional.
-
+            check_path: bool, optional, default: false.
+                 To force the API to check if the path is file or dir.
         Returns:
             str.
         """
-        url = PolyaxonStore.URL.format(
+        url = get_proxy_run_url(
+            service=STREAMS_V1_LOCATION,
             namespace=self.namespace,
             owner=self.owner,
             project=self.project,
-            uuid=self.run_uuid,
+            run_uuid=self.run_uuid,
             subpath="artifacts",
         )
         url = absolute_uri(url=url, host=self.client.config.host)
+        params = {}
+        if check_path:
+            params["check_path"] = True
 
-        return PolyaxonStore(client=self).download_file(
+        return self.store.download_file(
             url=url,
             path=path,
             untar=untar,
             path_to=path_to,
             delete_tar=delete_tar and untar,
             extract_path=extract_path,
+            params=params,
         )
 
     @client_handler(check_no_op=True, check_offline=True)
     def upload_artifact(
         self,
         filepath: str,
-        path: str = None,
+        path: Optional[str] = None,
         untar: bool = False,
         overwrite: bool = True,
+        show_progress: bool = True,
     ):
         """Uploads a single artifact to the run's artifacts store path.
 
         Args:
             filepath: str, the filepath to upload.
             path: str, optional, path to upload to, otherwise it will be on the run's root path.
             untar: bool, optional, if the file uploaded is tar.gz and
                  it should be decompressed on the artifacts store.
             overwrite: bool, optional, if the file uploaded should overwrite any previous content.
+            show_progress: bool, to show a progress bar.
 
         Returns:
             str
         """
-        url = PolyaxonStore.URL.format(
+        url = get_proxy_run_url(
+            service=STREAMS_V1_LOCATION,
             namespace=self.namespace,
             owner=self.owner,
             project=self.project,
-            uuid=self.run_uuid,
+            run_uuid=self.run_uuid,
             subpath="artifact",
         )
         url = absolute_uri(url=url, host=self.client.config.host)
 
-        return PolyaxonStore(client=self).upload_file(
+        return self.store.upload_file(
             url=url,
             filepath=filepath,
             path=path or "",
             untar=untar,
             overwrite=overwrite,
+            show_progress=show_progress,
         )
 
     @client_handler(check_no_op=True, check_offline=True)
     def upload_artifacts_dir(
         self,
         dirpath: str,
         path: str = "",
         overwrite: bool = True,
-        relative_to: str = None,
+        relative_to: Optional[str] = None,
     ):
         """Uploads a full directory to the run's artifacts store path.
 
-        > This function crawls all files to upload and uses `upload_artifacts`.
+        > This function crawls all files to upload and uses `upload_artifacts`,
+        > it also respects `.polyaxonignore` file if it exists or the default ignore pattern.
 
         Args:
             dirpath: str, the dirpath to upload.
             path: str, the relative path of the artifact to return.
             overwrite: bool, optional, if the file uploaded should overwrite any previous content.
             relative_to: str, optional, if the path uploaded is not the current dir,
                  and you want to cancel the relative path.
 
         Returns:
             str.
         """
-        files = IgnoreConfigManager.get_unignored_filepaths(dirpath)
+        files = IgnoreConfigManager.get_unignored_filepaths(
+            path=dirpath, addtional_patterns=IgnoreConfigManager.get_push_patterns()
+        )
+        if not files:
+            logger.warning(
+                "No files detected under the path %s.\n"
+                "This could happen if the path is empty or "
+                "ignored by one of the patterns in the ignore manager.",
+                dirpath,
+            )
+            return
         return self.upload_artifacts(
             files=files,
             path=path or "",
             overwrite=overwrite,
             relative_to=relative_to,
         )
 
     @client_handler(check_no_op=True, check_offline=True)
     def upload_artifacts(
         self,
         files: List[str],
         path: str = "",
         overwrite: bool = True,
-        relative_to: str = None,
+        relative_to: Optional[str] = None,
     ):
-        """Uploads a multiple artifacts to the run's artifacts store path.
+        """Uploads multiple artifacts to the run's artifacts store path.
 
         Args:
             files: List[str], list of files to upload.
             path: str, the relative path of the artifact to return.
             overwrite: bool, optional, if the file uploaded should overwrite any previous content.
             relative_to: str, optional, if the path uploaded is not the current dir,
                  and you want to cancel the relative path.
 
         Returns:
             str.
         """
-        url = PolyaxonStore.URL.format(
+        if not files:
+            logger.warning("No files to upload to %s.", path)
+            return
+        url = get_proxy_run_url(
+            service=STREAMS_V1_LOCATION,
             namespace=self.namespace,
             owner=self.owner,
             project=self.project,
-            uuid=self.run_uuid,
+            run_uuid=self.run_uuid,
             subpath="artifacts",
         )
         url = absolute_uri(url=url, host=self.client.config.host)
 
-        return PolyaxonStore(client=self).upload_dir(
+        return self.store.upload_dir(
             url=url,
             path=path,
             files=files,
             overwrite=overwrite,
             relative_to=relative_to,
         )
 
     @client_handler(check_no_op=True, check_offline=True)
     def delete_artifact(self, path: str):
         """Deletes a single run artifact.
 
         Args:
             path: str, the relative path of the artifact to return.
         """
-        return self.client.runs_v1.delete_run_artifact(
+        self.client.runs_v1.delete_run_artifact(
             namespace=self.namespace,
             owner=self.owner,
             project=self.project,
             uuid=self.run_uuid,
             path=path,
         )
 
@@ -1039,15 +1475,15 @@
             self.owner,
             self.project,
             self.run_uuid,
         )
 
     @client_handler(check_no_op=True, check_offline=True)
     def approve(self):
-        """Stops the current run."""
+        """Approves the current run if it's pending upload or human approval."""
         self.client.runs_v1.approve_run(
             self.owner,
             self.project,
             self.run_uuid,
         )
 
     @client_handler(check_no_op=True, check_offline=True)
@@ -1060,19 +1496,19 @@
         )
 
     @client_handler(check_no_op=True, check_offline=True)
     def restart(
         self,
         override_config=None,
         copy: bool = False,
-        copy_dirs: List[str] = None,
-        copy_files: List[str] = None,
-        name: str = None,
-        description: str = None,
-        tags: Union[str, Sequence[str]] = None,
+        copy_dirs: Optional[List[str]] = None,
+        copy_files: Optional[List[str]] = None,
+        name: Optional[str] = None,
+        description: Optional[str] = None,
+        tags: Optional[Union[str, List[str]]] = None,
         **kwargs,
     ):
         """Restarts the current run
 
         Args:
             override_config: Dict or str, optional,
                  config to use for overriding the original run's config.
@@ -1082,27 +1518,26 @@
             name: str, optional, default: None, name to use for the restarted run.
             description: str, optional, default: None, description to use for the restarted run.
             tags: list[str], optional, default: None, tags to use for the restarted run.
 
         Returns:
             V1Run instance.
         """
-        body = polyaxon_sdk.V1Run(content=override_config)
+        body = V1Run.construct(content=override_config)
         if name:
             body.name = name
         if description:
             body.description = description
         if tags:
-            tags = validate_tags(tags)
-            body.tags = tags
+            body.tags = validate_tags(tags, validate_yaml=True)
         if copy or copy_dirs or copy_files:
             if copy_dirs or copy_files:
                 copy_dirs = to_list(copy_dirs, check_none=True)
                 copy_files = to_list(copy_files, check_none=True)
-                copy_artifacts = V1ArtifactsType()
+                copy_artifacts = V1ArtifactsType.construct()
                 if copy_dirs:
                     copy_artifacts.dirs = [
                         "{}/{}".format(self.run_uuid, cp) for cp in copy_dirs
                     ]
                 if copy_files:
                     copy_artifacts.files = [
                         "{}/{}".format(self.run_uuid, cp) for cp in copy_files
@@ -1123,20 +1558,33 @@
         Args:
             override_config: Dict or str, optional,
                  config to use for overriding the original run's config.
 
         Returns:
             V1Run instance.
         """
-        body = polyaxon_sdk.V1Run(content=override_config)
+        body = V1Run(content=override_config)
         return self.client.runs_v1.resume_run(
             self.owner, self.project, self.run_uuid, body=body, **kwargs
         )
 
     @client_handler(check_no_op=True)
+    def set_readme(self, readme: str, async_req: bool = True):
+        """Sets a new readme for the current run.
+
+        > Available from v2.0
+
+        Args:
+            readme: str, the readme (in markdown) to set.
+            async_req: bool, optional, default: False, execute request asynchronously.
+        """
+        self._run_data.readme = readme
+        self._update({"readme": readme}, async_req=async_req)
+
+    @client_handler(check_no_op=True)
     def set_description(self, description: str, async_req: bool = True):
         """Sets a new description for the current run.
 
         Args:
             description: str, the description to set.
             async_req: bool, optional, default: False, execute request asynchronously.
         """
@@ -1168,15 +1616,15 @@
             reset: bool, optional, if True, it will reset the whole inputs state.
                  Note that Polyaxon will automatically populate the inputs based
                  on the Polyaxonfile inputs definition and params passed.
             async_req: bool, optional, default: False, execute request asynchronously.
             inputs: **kwargs, e.g. param1=value1, param2=value2, ...
         """
         inputs = {to_fqn_name(k): v for k, v in inputs.items()}
-        patch_dict = {"inputs": inputs}
+        patch_dict: Dict[str, Any] = {"inputs": inputs}
         if reset is False:
             patch_dict["merge"] = True
             self._run_data.inputs = self._run_data.inputs or {}
             self._run_data.inputs.update(inputs)
         else:
             self._run_data.inputs = inputs
         self._update(patch_dict, async_req=async_req)
@@ -1190,15 +1638,15 @@
             reset: bool, optional, if True, it will reset the whole outputs state.
                  Note that Polyaxon will automatically populate some outputs based
                  on the Polyaxonfile outputs definition and params passed.
             async_req: bool, optional, default: False, execute request asynchronously.
             outputs: **kwargs, e.g. output1=value1, metric2=value2, ...
         """
         outputs = {to_fqn_name(k): v for k, v in outputs.items()}
-        patch_dict = {"outputs": outputs}
+        patch_dict: Dict[str, Any] = {"outputs": outputs}
         if reset is False:
             patch_dict["merge"] = True
             self._run_data.outputs = self._run_data.outputs or {}
             self._run_data.outputs.update(outputs)
         else:
             self._run_data.outputs = outputs
         self._update(patch_dict, async_req=async_req)
@@ -1224,126 +1672,212 @@
 
         Args:
             reset: bool, optional, if True, it will reset the whole meta info state.
             async_req: bool, optional, default: False, execute request asynchronously.
             meta: **kwargs, e.g. concurrency=10, has_flag=True, ...
         """
         meta = {to_fqn_name(k): v for k, v in meta.items()}
-        patch_dict = {"meta_info": meta}
+        patch_dict: Dict[str, Any] = {"meta_info": meta}
         if reset is False:
             patch_dict["merge"] = True
             self._run_data.meta_info = self._run_data.meta_info or {}
             self._run_data.meta_info.update(meta)
         else:
             self._run_data.meta_info = meta
         self._update(patch_dict, async_req=async_req)
 
     @client_handler(check_no_op=True)
     def log_tags(
         self,
-        tags: Union[str, Sequence[str]],
+        tags: Union[str, List[str]],
         reset: bool = False,
         async_req: bool = True,
     ):
         """Logs new tags for the current run.
 
         Args:
             tags: str or List[str], tag or tags to log.
             reset: bool, optional, if True, it will reset the whole tags state.
                  Note that Polyaxon will automatically populate the tags based
                  on the Polyaxonfile.
             async_req: bool, optional, default: False, execute request asynchronously.
         """
-        tags = validate_tags(tags)
-        patch_dict = {"tags": tags}
-        if reset is False:
+        tags = validate_tags(tags, validate_yaml=True)
+        patch_dict: Dict[str, Any] = {"tags": tags}
+        if reset is False and tags:
             patch_dict["merge"] = True
-            self._run_data.tags = self._run_data.tags or []
-            self._run_data.tags += [t for t in tags if t not in self._run_data.tags]
+            current_tags = self._run_data.tags or []  # type: List[str]
+            current_tags += [t for t in tags if t not in current_tags]
+            self._run_data.tags = current_tags
         else:
             self._run_data.tags = tags
         self._update(patch_dict, async_req=async_req)
 
     @client_handler(check_no_op=True)
     def start(self):
         """Sets the current run to `running` status.
 
         <blockquote class="info">
-        N.B. If you are executing a managed run, you don't need to call this method manually.
+        <strong>Note</strong>: If you are executing a managed run, you don't need to call this method manually.
         This method is only useful for manual runs outside of Polyaxon.
         </blockquote>
         """
-        self.log_status(polyaxon_sdk.V1Statuses.RUNNING, message="Operation is running")
+        self.log_status(V1Statuses.RUNNING, message="Operation is running")
+
+    def end(self):
+        pass
 
     def _log_end_status(
         self,
-        status: str,
-        reason: str = None,
-        message: str = None,
+        status: Union[str, V1Statuses],
+        reason: Optional[str] = None,
+        message: Optional[str] = None,
     ):
         """Sets the current run to `status` status.
 
         <blockquote class="info">
-        N.B. If you are executing a managed run, you don't need to call this method manually.
+        <strong>Note</strong>: If you are executing a managed run, you don't need to call this method manually.
         This method is only useful for manual runs outside of Polyaxon.
         </blockquote>
 
         Args:
             status: str, a valid [Statuses](/docs/core/specification/lifecycle/) value.
             reason: str, optional, reason or service issuing the status change.
             message: str, optional, message to log with this status.
         """
         if self.status in LifeCycle.DONE_VALUES:
             return
         self.log_status(status=status, reason=reason, message=message)
+        self.end()
         time.sleep(
             0.1
         )  # Just to give the opportunity to the worker to pick the message
 
     @client_handler(check_no_op=True)
     def log_succeeded(self, message="Operation has succeeded"):
         """Sets the current run to `succeeded` status.
 
         <blockquote class="info">
-        N.B. If you are executing a managed run, you don't need to call this method manually.
+        <strong>Note</strong>: If you are executing a managed run,
+        you don't need to call this method manually.
         This method is only useful for manual runs outside of Polyaxon.
         </blockquote>
         """
-        self._log_end_status(status=polyaxon_sdk.V1Statuses.SUCCEEDED, message=message)
+        self._log_end_status(status=V1Statuses.SUCCEEDED, message=message)
 
     @client_handler(check_no_op=True)
     def log_stopped(self, message="Operation is stopped"):
         """Sets the current run to `stopped` status.
 
         <blockquote class="info">
-        N.B. If you are executing a managed run, you don't need to call this method manually.
+        <strong>Note</strong>: If you are executing a managed run,
+        you don't need to call this method manually.
         This method is only useful for manual runs outside of Polyaxon.
         </blockquote>
         """
-        self._log_end_status(status=polyaxon_sdk.V1Statuses.STOPPED, message=message)
+        self._log_end_status(status=V1Statuses.STOPPED, message=message)
 
     @client_handler(check_no_op=True)
-    def log_failed(self, reason: str = None, message: str = None):
+    def log_failed(self, reason: Optional[str] = None, message: Optional[str] = None):
         """Sets the current run to `failed` status.
 
         <blockquote class="info">
-        N.B. If you are executing a managed run, you don't need to call this method manually.
+        <strong>Note</strong>: If you are executing a managed run, you don't need to call this method manually.
         This method is only useful for manual runs outside of Polyaxon.
         </blockquote>
 
         Args:
             reason: str, optional, reason or service issuing the status change.
             message: str, optional, message to log with this status.
         """
         self._log_end_status(
-            status=polyaxon_sdk.V1Statuses.FAILED,
+            status=V1Statuses.FAILED,
             reason=reason,
             message=message,
         )
 
+    def _sanitize_filename(
+        self, filename: str, for_patterns: Optional[List[str]] = None
+    ) -> str:
+        """Ensures that the filename never includes common context paths"""
+        if not self.run_uuid or ctx_paths.CONTEXT_ROOT not in filename:
+            return to_fqn_name(filename)
+
+        for_patterns = for_patterns or []
+        if not self._default_filename_sanitize_paths:
+            self._default_filename_sanitize_paths = [
+                ctx_paths.CONTEXT_MOUNT_RUN_OUTPUTS_FORMAT.format(self.run_uuid)
+                + os.sep,
+                ctx_paths.CONTEXT_MOUNT_RUN_EVENTS_FORMAT.format(self.run_uuid)
+                + os.sep,
+                ctx_paths.CONTEXT_MOUNT_RUN_ASSETS_FORMAT.format(self.run_uuid)
+                + os.sep,
+                ctx_paths.CONTEXT_MOUNT_RUN_SYSTEM_RESOURCES_EVENTS_FORMAT.format(
+                    self.run_uuid
+                )
+                + os.sep,
+                ctx_paths.CONTEXT_MOUNT_ARTIFACTS_FORMAT.format(self.run_uuid) + os.sep,
+                ctx_paths.get_offline_path(
+                    entity_value=self.run_uuid, entity_kind=V1ProjectFeature.RUNTIME
+                )
+                + os.sep,
+            ]
+        for p in self._default_filename_sanitize_paths + for_patterns:
+            if filename.startswith(p):
+                filename = filename[len(p) :]
+                break
+
+        return to_fqn_name(filename)
+
+    def _sanitize_filepath(
+        self, filepath: str, rel_path: Optional[str] = None
+    ) -> Optional[str]:
+        """Ensures that the filepath never includes common context paths"""
+        if not filepath or rel_path:
+            return rel_path
+
+        if not self.run_uuid:
+            return rel_path or filepath
+
+        if self.run_uuid in filepath:
+            return filepath.split(self.run_uuid + "/")[1]
+
+        def is_abs():
+            if os.path.isabs(filepath):
+                return True
+            try:
+                if urlparse(filepath).scheme:
+                    return True
+                return False
+            except Exception:  # noqa
+                return False
+
+        abspath = filepath if is_abs() else os.path.abspath(filepath)
+
+        for_patterns = []
+        if getattr(self, "_artifacts_path"):
+            for_patterns.append(getattr(self, "_artifacts_path"))
+        if getattr(self, "_store_path"):
+            for_patterns.append(getattr(self, "_store_path"))
+        context_root = (
+            ctx_paths.CONTEXT_OFFLINE_ROOT
+            if self._is_offline
+            else ctx_paths.CONTEXT_MOUNT_ARTIFACTS
+        )
+        for_patterns += [os.path.join(context_root, self.run_uuid), context_root]
+
+        for _path in for_patterns:
+            if _path in abspath:
+                try:
+                    return os.path.relpath(abspath, _path)
+                except Exception as e:
+                    logger.debug("could not calculate relative path %s", e)
+
+        return rel_path or abspath
+
     def _log_has_events(self):
         if not self._has_meta_key("has_events"):
             self.log_meta(has_events=True)
 
     def _log_has_metrics(self):
         data = {}
         if not self._has_meta_key("has_metrics"):
@@ -1354,85 +1888,167 @@
             self.log_meta(**data)
 
     def _log_has_model(self):
         if not self._has_meta_key("has_model"):
             self.log_meta(has_model=True)
 
     @client_handler(check_no_op=True)
-    def log_code_ref(self, code_ref: Dict = None, is_input: bool = True):
-        """Logs code reference as a
-        lineage information with the code_ref dictionary in the summary field.
+    def log_progress(self, value: float):
+        """Logs the progress of the run.
 
         In offline
 
         Args:
+            value: float, a value between 0 and 1 representing the percentage of run's progress.
+        """
+        if not isinstance(value, (int, float)):
+            raise TypeError(
+                "`log_progress` received the value `{}` of type `{}` "
+                "which is not supported. "
+                "Please pass a valid percentage between [0, 1].".format(
+                    value, type(value).__name__
+                )
+            )
+        if value < 0 or value > 1:
+            raise ValueError(
+                "`log_progress` received an invalid value `{}`. "
+                "Please pass a valid percentage between [0, 1].".format(value)
+            )
+        current_value = self._get_meta_key("progress", 0) or 0
+        if current_value == value:
+            return
+        if (value - current_value < 0.025 and value < 1) and self._throttle_updates():
+            return
+        self.log_meta(progress=value)
+
+    @client_handler(check_no_op=True)
+    def log_code_ref(self, code_ref: Optional[Dict] = None, is_input: bool = True):
+        """Logs code reference as a
+        lineage information with the code_ref dictionary in the summary field.
+
+        Args:
             code_ref: dict, optional, if not provided,
                  Polyaxon will detect the code reference from the git repo in the current path.
             is_input: bool, if the code reference is an input or outputs.
         """
         code_ref = code_ref or get_code_reference()
         if code_ref and "commit" in code_ref:
-            artifact_run = V1RunArtifact(
+            artifact_run = V1RunArtifact.construct(
                 name=code_ref.get("commit"),
                 kind=V1ArtifactKind.CODEREF,
                 summary=code_ref,
                 is_input=is_input,
             )
             self.log_artifact_lineage(body=artifact_run)
 
+    def _calculate_summary_for_path_or_content(
+        self,
+        hash: Optional[str] = None,
+        path: Optional[str] = None,
+        content=None,
+        summary: Optional[Dict] = None,
+        skip_hash_calculation: bool = False,
+    ):
+        summary = summary or {}
+        if hash:
+            summary["hash"] = hash
+        elif content is not None and not skip_hash_calculation:
+            summary["hash"] = hash_value(content)
+
+        if path is not None:
+            try:
+                if os.path.exists(path):
+                    context_root = (
+                        ctx_paths.CONTEXT_OFFLINE_ROOT
+                        if self._is_offline
+                        else ctx_paths.CONTEXT_MOUNT_ARTIFACTS
+                    )
+                    summary["path"] = os.path.relpath(path, context_root)
+                else:
+                    summary["path"] = path
+            except Exception as e:  # noqa
+                logger.debug(
+                    "Could not resolve path `%s` "
+                    "in _calculate_summary_for_path_or_content. "
+                    "Error: %s",
+                    path,
+                    e,
+                )
+                summary["path"] = path
+
+            if not summary.get("hash") and not skip_hash_calculation:
+                try:
+                    if os.path.exists(path):
+                        summary["path"] = os.path.abspath(path)
+                        summary["hash"] = (
+                            hash_file(path) if os.path.isfile(path) else hash_dir(path)
+                        )
+                    else:
+                        summary["path"] = path
+                        logger.info(
+                            "The path `%s` is not accessible to the tracking module.",
+                            path,
+                        )
+                except Exception as e:
+                    logger.warning(
+                        "Could not calculate hash for path `%s` "
+                        "in _calculate_summary_for_path_or_content. "
+                        "Error: %s",
+                        path,
+                        e,
+                    )
+        return summary
+
     @client_handler(check_no_op=True)
     def log_data_ref(
         self,
         name: str,
-        hash: str = None,
-        path: str = None,
+        hash: Optional[str] = None,
+        path: Optional[str] = None,
         content=None,
-        summary: Dict = None,
+        summary: Optional[Dict] = None,
         is_input: bool = True,
+        skip_hash_calculation: bool = False,
     ):
         """Logs data reference.
 
         Args:
             name: str, name of the data.
             hash: str, optional, default = None, the hash version of the data,
                  if not provided it will be calculated based on the data in the content.
             path: str, optional, path of where the data is coming from.
             summary: Dict, optional, additional summary information to log about data
                  in the lineage table.
-            is_input: bool, if the data reference is an input or outputs.
-            content: the data content.
+            is_input: bool, optional, if the data reference is an input or outputs.
+            content: optional, if the data content is passed, polyaxon will calculate the hash.
+            skip_hash_calculation: optional, flag to instruct the client to skip hash calculation.
         """
-        summary = summary or {}
-        if hash:
-            summary["hash"] = hash
-        elif content is not None:
-            summary["hash"] = hash_value(content)
-        if path is not None:
-            summary["path"] = path
-        if name:
-            artifact_run = V1RunArtifact(
-                name=name,
-                kind=V1ArtifactKind.DATA,
-                path=path,
-                summary=summary,
-                is_input=is_input,
-            )
-            self.log_artifact_lineage(body=artifact_run)
+        return self.log_artifact_ref(
+            path=path,
+            hash=hash,
+            content=content,
+            kind=V1ArtifactKind.DATA,
+            name=name,
+            summary=summary,
+            is_input=is_input,
+            skip_hash_calculation=skip_hash_calculation,
+        )
 
     @client_handler(check_no_op=True)
     def log_artifact_ref(
         self,
         path: str,
         kind: V1ArtifactKind,
-        name: str = None,
-        hash: str = None,
+        name: Optional[str] = None,
+        hash: Optional[str] = None,
         content=None,
-        summary: Dict = None,
+        summary: Optional[Dict] = None,
         is_input: bool = False,
-        rel_path: str = None,
+        rel_path: Optional[str] = None,
+        skip_hash_calculation: bool = False,
     ):
         """Logs an artifact reference with custom kind.
 
         Logging a generic file reference to the lineage table:
 
         ```python
         >>> # Get outputs artifact path
@@ -1443,54 +2059,56 @@
         >>> # Name of the artifact will default to test
         >>> tracking.log_artifact_ref(path=asset_path, kind=V1ArtifactKind.FILE)
         ```
 
         **Note**: This is a generic method that is used by `log_file_ref` and `log_model_ref`.
 
         Args:
-            path: str, filepath, the name is extracted from the filepath.
-            kind: V1ArtifactKind, the artifact kind.
+            path: str, filepath, the name is extracted from the filepath
+            kind: V1ArtifactKind, the artifact kind
             name: str, if the name is passed it will be used instead of the filename from the path.
             hash: str, optional, default = None, the hash version of the file,
-                 if not provided it will be calculated based on the file content.
-            content: the file content.
+                 if not provided it will be calculated based on the file content
+            content: the file content
             summary: Dict, optional, additional summary information to log about data
-                 in the lineage table.
-            is_input: bool, if the file reference is an input or outputs.
-            rel_path: str, optional relative path to the run artifacts path.
+                 in the lineage table
+            is_input: bool, if the file reference is an input or outputs
+            rel_path: str, optional relative path to the run artifacts path
+            skip_hash_calculation: optional, flag to instruct the client to skip hash calculation
         """
-        summary = summary or {}
-        summary["path"] = path
-        if hash:
-            summary["hash"] = hash
-        elif content is not None:
-            summary["hash"] = hash_value(content)
-        name = name or get_base_filename(path)
-        rel_path = get_rel_asset_path(
-            path=path, rel_path=rel_path, is_offline=self._is_offline
+        summary = self._calculate_summary_for_path_or_content(
+            hash=hash,
+            path=path,
+            content=content,
+            summary=summary,
+            skip_hash_calculation=skip_hash_calculation,
         )
+        if path:
+            name = name or get_base_filename(path)
+            rel_path = self._sanitize_filepath(filepath=path, rel_path=rel_path)
         if name:
-            artifact_run = V1RunArtifact(
-                name=to_fqn_name(name),
+            artifact_run = V1RunArtifact.construct(
+                name=self._sanitize_filename(name),
                 kind=kind,
                 path=rel_path,
                 summary=summary,
                 is_input=is_input,
             )
             self.log_artifact_lineage(body=artifact_run)
 
     @client_handler(check_no_op=True)
     def log_model_ref(
         self,
         path: str,
-        name: str = None,
-        framework: str = None,
-        summary: Dict = None,
+        name: Optional[str] = None,
+        framework: Optional[str] = None,
+        summary: Optional[Dict] = None,
         is_input: bool = False,
-        rel_path: str = None,
+        rel_path: Optional[str] = None,
+        skip_hash_calculation: bool = False,
     ):
         """Logs model reference.
 
          > **Note**: The difference between this method and the `log_model`
          > is that this one does not copy or move the asset, it only registers a lineage reference.
          > If you need the model asset to be on the `artifacts_path` or the `outputs_path`
          > you have to copy it manually using a relative path to
@@ -1505,137 +2123,140 @@
         >>> # Name of the artifact will default to model_data
         >>> tracking.log_model_ref(path=asset_path)
         ```
 
         Args:
             path: str, filepath, the name is extracted from the filepath.
             name: str, if the name is passed it will be used instead of the filename from the path.
-            framework: str, optional ,name of the framework
+            framework: str, optional, name of the framework.
             summary: Dict, optional, additional summary information to log about data
                  in the lineage table.
             is_input: bool, if the file reference is an input or outputs.
             rel_path: str, optional relative path to the run artifacts path.
+            skip_hash_calculation: optional, flag to instruct the client to skip hash calculation.
         """
         summary = summary or {}
         summary["framework"] = framework
         self._log_has_model()
         return self.log_artifact_ref(
             path=path,
             kind=V1ArtifactKind.MODEL,
             name=name,
             summary=summary,
             is_input=is_input,
             rel_path=rel_path,
+            skip_hash_calculation=skip_hash_calculation,
         )
 
     @client_handler(check_no_op=True)
     def log_file_ref(
         self,
         path: str,
-        name: str = None,
-        hash: str = None,
+        name: Optional[str] = None,
+        hash: Optional[str] = None,
         content=None,
-        summary: Dict = None,
+        summary: Optional[Dict] = None,
         is_input: bool = False,
-        rel_path: str = None,
+        rel_path: Optional[str] = None,
+        skip_hash_calculation: bool = False,
     ):
         """Logs file reference.
 
         Args:
             path: str, filepath, the name is extracted from the filepath.
             name: str, if the name is passed it will be used instead of the filename from the path.
             hash: str, optional, default = None, the hash version of the file,
                  if not provided it will be calculated based on the file content.
             content: the file content.
             summary: Dict, optional, additional summary information to log about data
                  in the lineage table.
             is_input: bool, if the file reference is an input or outputs.
             rel_path: str, optional relative path to the run artifacts path.
+            skip_hash_calculation: optional, flag to instruct the client to skip hash calculation.
         """
         return self.log_artifact_ref(
             path=path,
             kind=V1ArtifactKind.FILE,
             name=name,
             hash=hash,
             content=content,
             summary=summary,
             is_input=is_input,
             rel_path=rel_path,
+            skip_hash_calculation=skip_hash_calculation,
         )
 
     @client_handler(check_no_op=True)
     def log_dir_ref(
         self,
         path: str,
-        name: str = None,
-        summary: Dict = None,
+        name: Optional[str] = None,
+        hash: Optional[str] = None,
+        summary: Optional[Dict] = None,
         is_input: bool = False,
-        rel_path: str = None,
+        rel_path: Optional[str] = None,
+        skip_hash_calculation: bool = False,
     ):
         """Logs dir reference.
 
         Args:
             path: str, dir path, the name is extracted from the path.
             name: str, if the name is passed it will be used instead of the dirname from the path.
+            hash: str, optional, default = None, the hash version of the file,
+                 if not provided it will be calculated based on the file content.
             summary: Dict, optional, additional summary information to log about data
                  in the lineage table.
             is_input: bool, if the dir reference is an input or outputs.
             rel_path: str, optional relative path to the run artifacts path.
+            skip_hash_calculation: optional, flag to instruct the client to skip hash calculation.
         """
-        name = name or os.path.basename(path)
-        rel_path = get_rel_asset_path(
-            path=path, rel_path=rel_path, is_offline=self._is_offline
+        return self.log_artifact_ref(
+            path=path,
+            kind=V1ArtifactKind.DIR,
+            name=name or os.path.basename(path),
+            hash=hash,
+            summary=summary,
+            is_input=is_input,
+            rel_path=rel_path,
+            skip_hash_calculation=skip_hash_calculation,
         )
-        summary = summary or {}
-        summary["path"] = path
-        if name:
-            artifact_run = V1RunArtifact(
-                name=to_fqn_name(name),
-                kind=V1ArtifactKind.DIR,
-                path=rel_path,
-                summary=summary,
-                is_input=is_input,
-            )
-            self.log_artifact_lineage(body=artifact_run)
+
+    def _get_meta_key(self, key: str, default: Any = None):
+        if not self.run_data or not self.run_data.meta_info:
+            return default
+        return self.run_data.meta_info.get(key, default)
 
     def _has_meta_key(self, key: str):
-        return (
-            self.run_data
-            and self.run_data.meta_info
-            and self.run_data.meta_info.get(key, False)
-        )
+        return self._get_meta_key(key, False)
 
     @client_handler(check_no_op=True)
     def log_tensorboard_ref(
         self,
         path: str,
         name: str = "tensorboard",
         is_input: bool = False,
-        rel_path: str = None,
+        rel_path: Optional[str] = None,
     ):
-        """Logs dir reference.
+        """Logs tensorboard reference.
 
         Args:
             path: str, path to the tensorboard logdir.
             name: str, if the name is passed it will be used instead of the dirname from the path.
             is_input: bool, if the tensorboard reference is an input or outputs
             rel_path: str, optional relative path to run the artifacts path.
         """
         if not self._has_meta_key("has_tensorboard"):
-            rel_path = get_rel_asset_path(
-                path=path, rel_path=rel_path, is_offline=self._is_offline
-            )
-            artifact_run = V1RunArtifact(
-                name=to_fqn_name(name),
+            self.log_artifact_ref(
+                path=path,
                 kind=V1ArtifactKind.TENSORBOARD,
-                path=rel_path,
-                summary={"path": path},
+                name=name,
                 is_input=is_input,
+                rel_path=rel_path,
+                skip_hash_calculation=True,
             )
-            self.log_artifact_lineage(body=artifact_run)
             self.log_meta(has_tensorboard=True)
 
     @client_handler(check_no_op=True)
     def log_artifact_lineage(
         self,
         body: Union[Dict, List[Dict], V1RunArtifact, List[V1RunArtifact]],
         async_req: bool = True,
@@ -1649,15 +2270,15 @@
             body: dict or List[dict] or V1RunArtifact or List[V1RunArtifact], body of the lineage.
             async_req: bool, optional, default: False, execute request asynchronously.
         """
         if self._is_offline:
             for b in to_list(body, check_none=True):
                 if not isinstance(b, V1RunArtifact):
                     b = V1RunArtifact.read(b)
-                self._lineages[b.name] = b
+                self._artifacts_lineage[b.name] = b
             return
         self.client.runs_v1.create_run_artifacts_lineage(
             self.owner,
             self.project,
             self.run_uuid,
             body=body,
             async_req=async_req,
@@ -1675,39 +2296,47 @@
     @client_handler(check_no_op=True, check_offline=True)
     def delete(self):
         """Deletes the current run."""
         return self.client.runs_v1.delete_run(self.owner, self.project, self.run_uuid)
 
     @client_handler(check_no_op=True, check_offline=True)
     def list(
-        self, query: str = None, sort: str = None, limit: int = None, offset: int = None
+        self,
+        query: Optional[str] = None,
+        sort: Optional[str] = None,
+        limit: Optional[int] = None,
+        offset: Optional[int] = None,
     ):
         """Lists runs under the current owner - project.
 
         [Run API](/docs/api/#operation/ListRuns)
 
         Args:
             query: str, optional, query filters, please refer to
-                 [Project PQL](/docs/core/query-language/runs/#query)
+                 [Run PQL](/docs/core/query-language/runs/#query)
             sort: str, optional, fields to order by, please refer to
-                 [Project PQL](/docs/core/query-language/runs/#sort)
+                 [Run PQL](/docs/core/query-language/runs/#sort)
             limit: int, optional, limit of runs to return.
             offset: int, optional, offset pages to paginate runs.
 
         Returns:
             List[V1Run], list of run instances.
         """
         params = get_query_params(
             limit=limit or 20, offset=offset, query=query, sort=sort
         )
         return self.client.runs_v1.list_runs(self.owner, self.project, **params)
 
     @client_handler(check_no_op=True, check_offline=True)
     def list_children(
-        self, query: str = None, sort: str = None, limit: int = None, offset: int = None
+        self,
+        query: Optional[str] = None,
+        sort: Optional[str] = None,
+        limit: Optional[int] = None,
+        offset: Optional[int] = None,
     ):
         """Lists run's children if the current run has a pipeline.
 
         [Run API](/docs/api/#operation/ListRuns)
 
         Args:
             query: str, optional, query filters, please refer to
@@ -1724,211 +2353,379 @@
         query = params.get("query")
         query = query + "&" if query else "?"
         query += "pipeline={}".format(self.run_uuid)
         params["query"] = query
 
         return self.client.runs_v1.list_runs(self.owner, self.project, **params)
 
-    def _sync_events_summaries(
+    @client_handler(check_no_op=True, check_offline=True)
+    def promote_to_model_version(
+        self,
+        version: str,
+        description: Optional[str] = None,
+        tags: Optional[Union[str, List[str]]] = None,
+        content: Optional[Union[str, Dict]] = None,
+        connection: Optional[str] = None,
+        artifacts: Optional[List[str]] = None,
+        force: bool = False,
+    ) -> V1ProjectVersion:
+        """Similar to
+        [ProjectClient.register_model_version](/docs/core/python-library/project-client/#register_model_version),
+        directly from the run client instance,
+        allows to create or Update a model version based on the current run.
+
+        **Available from v1.18**
+
+        Args:
+            version: str, optional, the version name/tag.
+            description: str, optional, the version description.
+            tags: str or List[str], optional.
+            content: str or dict, optional, content/metadata (JSON object) of the version.
+            connection: str, optional, a uuid reference to a connection.
+            artifacts: List[str], optional, list of artifacts to highlight(requires passing a run)
+            force: bool, optional, to force push, i.e. update if exists.
+
+        Returns:
+            V1ProjectVersion, model version.
+        """
+        from polyaxon.client.project import ProjectClient
+
+        return ProjectClient(self.owner, self.project).register_model_version(
+            version=version,
+            description=description,
+            tags=tags,
+            content=content,
+            run=self.run_uuid,
+            connection=connection,
+            artifacts=artifacts,
+            force=force,
+        )
+
+    @client_handler(check_no_op=True, check_offline=True)
+    def promote_to_artifact_version(
+        self,
+        version: str,
+        description: Optional[str] = None,
+        tags: Optional[Union[str, List[str]]] = None,
+        content: Optional[Union[str, Dict]] = None,
+        connection: Optional[str] = None,
+        artifacts: Optional[List[str]] = None,
+        force: bool = False,
+    ) -> V1ProjectVersion:
+        """Similar to
+        [ProjectClient.register_artifact_version](/docs/core/python-library/project-client/#register_artifact_version),
+        directly from the run client instance,
+        allows to create or Update an artifact version based on the current run.
+
+        **Available from v1.18**
+
+        Args:
+            version: str, optional, the version name/tag.
+            description: str, optional, the version description.
+            tags: str or List[str], optional.
+            content: str or dict, optional, content/metadata (JSON object) of the version.
+            connection: str, optional, a uuid reference to a connection.
+            artifacts: List[str], optional, list of artifacts to highlight(requires passing a run)
+            force: bool, optional, to force push, i.e. update if exists.
+
+        Returns:
+            V1ProjectVersion, artifact version.
+        """
+        from polyaxon.client.project import ProjectClient
+
+        return ProjectClient(self.owner, self.project).register_artifact_version(
+            version=version,
+            description=description,
+            tags=tags,
+            content=content,
+            run=self.run_uuid,
+            connection=connection,
+            artifacts=artifacts,
+            force=force,
+        )
+
+    def _collect_events_summaries(
         self,
         events_path: str,
         events_kind: str,
         last_check: Optional[datetime],
+        is_system_resource: bool = False,
     ) -> Tuple[List, Dict]:
-        current_events_path = get_path(events_path, events_kind)
+        current_events_path = os.path.join(events_path, events_kind)
 
         summaries = []
         last_values = {}
         connection_name = get_artifacts_store_name()
-        with get_files_in_path_context(current_events_path) as files:
+        with get_files_in_path_context(current_events_path) as files:  # type: List[str]
             for f in files:
                 if last_check and not file_modified_since(
                     filepath=f, last_time=last_check
                 ):
                     continue
 
                 event_name = os.path.basename(f).split(".plx")[0]
                 event = V1Events.read(kind=events_kind, name=event_name, data=f)
                 if event.df.empty:
                     continue
 
                 # Get only the relpath from run uuid
-                event_rel_path = get_rel_asset_path(path=f, is_offline=self._is_offline)
+                event_rel_path = self._sanitize_filepath(filepath=f)
                 summary = event.get_summary()
-                run_artifact = V1RunArtifact(
+                run_artifact = V1RunArtifact.construct(
                     name=event_name,
-                    kind=events_kind,
+                    kind=V1ArtifactKind.SYSTEM if is_system_resource else events_kind,
                     connection=connection_name,
                     summary=summary,
                     path=event_rel_path,
                     is_input=False,
                 )
                 summaries.append(run_artifact)
                 if events_kind == V1ArtifactKind.METRIC:
                     last_values[event_name] = summary[V1ArtifactKind.METRIC]["last"]
 
         return summaries, last_values
 
-    @client_handler(check_no_op=True)
-    def sync_events_summaries(self, last_check: Optional[datetime], events_path: str):
-        """Syncs all tracked events and auto-generates summaries and lineage data.
-
-        > **Note**: Both `in-cluster` and `offline` modes will manage syncing events summaries
-        > automatically, so you should not call this method manually.
-        """
+    def _sync_events_summaries(
+        self,
+        last_check: Optional[datetime],
+        events_path: str,
+        is_system_resource: bool = False,
+    ):
         # check if there's a path to sync
-        if not os.path.exists(events_path):
+        if not events_path or not os.path.exists(events_path):
             return
 
         # crawl dirs
         summaries = []
         last_values = {}
+        set_last_values = not is_system_resource
 
         for events_kind in get_dirs_under_path(events_path):
-            _summaries, _last_values = self._sync_events_summaries(
+            _summaries, _last_values = self._collect_events_summaries(
                 events_path=events_path,
                 events_kind=events_kind,
                 last_check=last_check,
+                is_system_resource=is_system_resource,
             )
             summaries += _summaries
-            last_values.update(_last_values)
+            if set_last_values:
+                last_values.update(_last_values)
 
         if summaries:
             self.log_artifact_lineage(summaries)
-        if last_values:
+        if set_last_values and last_values:
             self.log_outputs(**last_values)
 
     @client_handler(check_no_op=True)
-    def persist_offline_run(self, artifacts_path: str):
-        """Persists an offline run to a local path.
+    def sync_events_summaries(self, last_check: Optional[datetime], events_path: str):
+        """Syncs all tracked events and auto-generates summaries and lineage data.
+
+        > **Note**: Both `in-cluster` and `offline` modes will manage syncing events summaries
+        > automatically, so you should not call this method manually.
+        """
+        self._sync_events_summaries(
+            last_check=last_check,
+            events_path=events_path,
+            is_system_resource=False,
+        )
+
+    @client_handler(check_no_op=True)
+    def sync_system_events_summaries(
+        self, last_check: Optional[datetime], events_path: str
+    ):
+        """Syncs all tracked system events and auto-generates summaries and lineage data.
+
+        > **Note**: Both `in-cluster` and `offline` modes will manage syncing events summaries
+        > automatically, so you should not call this method manually.
+        """
+        self._sync_events_summaries(
+            last_check=last_check,
+            events_path=events_path,
+            is_system_resource=True,
+        )
+
+    @client_handler(check_no_op=True)
+    def persist_run(self, path: str):
+        """Persists a run to a local path.
 
         > **Note**: You generally do not need to call this method manually,
         > When the `offline` mode is enabled, this method is triggered automatically at the end.
+
+        Args:
+            path: str, The path where to persist the run's metadata.
         """
-        if not self._is_offline or not self.run_data:
+        if not self.run_data:
             logger.debug(
                 "Persist offline run call failed. "
                 "Make sure that the offline mode is enabled and that run_data is provided."
             )
             return
-        if not os.path.exists(artifacts_path):
-            check_or_create_path(artifacts_path, is_dir=True)
-        run_path = "{}/run_data.json".format(artifacts_path)
+        if not path or not os.path.exists(path):
+            check_or_create_path(path, is_dir=True)
+        run_path = "{}/{}".format(path, ctx_paths.CONTEXT_LOCAL_RUN)
         with open(run_path, "w") as config_file:
             config_file.write(
                 ujson.dumps(self.client.sanitize_for_serialization(self.run_data))
             )
 
-        if not self._lineages:
+        if not self._artifacts_lineage:
             logger.debug("Persist offline run call did not find any lineage data. ")
             return
 
-        lineages_path = "{}/lineages.json".format(artifacts_path)
+        lineages_path = "{}/{}".format(path, ctx_paths.CONTEXT_LOCAL_LINEAGES)
         with open(lineages_path, "w") as config_file:
             config_file.write(
                 ujson.dumps(
                     [
                         self.client.sanitize_for_serialization(l)
-                        for l in self._lineages.values()
+                        for l in self._artifacts_lineage.values()
                     ]
                 )
             )
 
     @classmethod
     @client_handler(check_no_op=True)
     def load_offline_run(
-        cls, artifacts_path: str, run_client: Union["RunClient", "Run"] = None
-    ) -> Union["RunClient", "Run"]:
+        cls,
+        path: str,
+        run_client: Optional[Union["RunClient", "Run"]] = None,
+        reset_project: bool = False,
+        raise_if_not_found: bool = False,
+    ) -> Optional[Union["RunClient", "Run"]]:
         """Loads an offline run from a local path.
 
         > **Note**: When the `offline` mode is enabled, and the run uuid is provided,
         > this method is triggered automatically to load last checkpoint.
+
+        Args:
+            path: str, The path where the run's metadata is persisted.
+            run_client: RunClient, optional, instance of the client to update with
+                 the loaded run's information.
+            reset_project: bool, optional, a flag to reset the run's owner and/or project based on
+                 the data from the passed `run_client` instead of the persisted data
+                 from the local run.
+            raise_if_not_found: bool, optional, a flag to raise an error if the local path does not
+                 contain a persisted run.
         """
-        run_path = "{}/run_data.json".format(artifacts_path)
+        run_path = "{}/{}".format(path, ctx_paths.CONTEXT_LOCAL_RUN)
         if not os.path.isfile(run_path):
-            logger.info(f"Offline data was not found: {run_path}")
-            return
+            if raise_if_not_found:
+                raise PolyaxonClientException(f"Offline data was not found: {run_path}")
+            else:
+                logger.info(f"Offline data was not found: {run_path}")
+                return None
+
         with open(run_path, "r") as config_file:
             config_str = config_file.read()
-            run_config = polyaxon_sdk.V1Run(**ujson.loads(config_str))
+            run_config = V1Run(**ujson.loads(config_str))
+            owner = run_config.owner
+            project = run_config.project
             if run_client:
-                run_client._owner = run_config.owner
-                run_client._project = run_config.project
+                if reset_project or not owner:
+                    owner = run_client.owner
+                if reset_project or not project:
+                    project = run_client.project
+                run_client._owner = owner
+                run_client._project = project
                 run_client._run_uuid = run_config.uuid
             else:
                 run_client = cls(
-                    owner=run_config.owner,
-                    project=run_config.project,
+                    owner=owner,
+                    project=project,
                     run_uuid=run_config.uuid,
                 )
-            run_client._run_data = run_config
+            run_client._run_data = run_config  # type: ignore
             logger.info(f"Offline data loaded from: {run_path}")
 
-        lineages_path = "{}/lineages.json".format(artifacts_path)
+        lineages_path = "{}/{}".format(path, ctx_paths.CONTEXT_LOCAL_LINEAGES)
         if not os.path.isfile(lineages_path):
             logger.info(f"Offline lineage data was not found: {lineages_path}")
-            return
+            return run_client
         with open(lineages_path, "r") as config_file:
             config_str = config_file.read()
-            lineages = [V1RunArtifact(**l) for l in ujson.loads(config_str)]
-            run_client._lineages = {l.name: l for l in lineages}
-            logger.info(f"Offline lineage data loaded from: {run_path}")
+            lineages = [V1RunArtifact.from_dict(l) for l in ujson.loads(config_str)]
+            run_client._artifacts_lineage = {l.name: l for l in lineages}  # type: ignore
+            logger.info(f"Offline lineage data loaded from: {lineages_path}")
 
         return run_client
 
     @client_handler(check_no_op=True)
-    def sync_offline_run(
+    def pull_remote_run(
         self,
-        artifacts_path: str = None,
-        load_offline_run: bool = False,
+        path: Optional[str] = None,
+        download_artifacts: bool = True,
+    ):
+        """Download a run on Polyaxon's API and artifacts store to local path.
+
+        Args:
+            path: str, optional, defaults to the offline root path,
+                 path where the run's metadata & artifacts will be stored.
+            download_artifacts: bool, optional, flag to trigger artifacts download.
+        """
+        path = ctx_paths.get_offline_path(
+            entity_value=self.run_uuid, entity_kind=V1ProjectFeature.RUNTIME, path=path
+        )
+        delete_path(path)
+        self.refresh_data(load_artifacts_lineage=True, load_conditions=True)
+        if download_artifacts:
+            self.download_artifacts(path_to=path)
+        self.persist_run(path)
+        return path
+
+    @client_handler(check_no_op=True)
+    def push_offline_run(
+        self,
+        path: str,
         upload_artifacts: bool = True,
         clean: bool = False,
     ):
-        """Syncs an offline run to Polyaxon's API and artifacts store."""
-        if artifacts_path and load_offline_run:
-            self._run_uuid = None
-            self._run_data = None
-            self.load_offline_run(artifacts_path=artifacts_path, run_client=self)
+        """Syncs an offline run to Polyaxon's API and artifacts store.
 
+
+        Args:
+            path: str, root path where the run's metadata & artifacts are stored.
+            upload_artifacts: bool, optional, flag to trigger artifacts upload.
+            clean: bool, optional, flag to clean local path after pushing the run.
+        """
         # We ensure that the is_offline is False
         is_offline = self._is_offline
         self._is_offline = False
 
         if not self.run_data:
             logger.warning(
-                "Sync offline run failed. Make sure that run_data is provided."
+                "Push offline run failed. Make sure that run_data is provided."
             )
             return
         self.client.runs_v1.sync_run(
             owner=self.owner,
             project=self.project,
             body=self.run_data,
             async_req=False,
         )
         logger.info(f"Offline data for run {self.run_data.uuid} synced")
-        if self._lineages:
+        if self._artifacts_lineage:
             self.log_artifact_lineage(
-                [l for l in self._lineages.values()], async_req=False
+                [l for l in self._artifacts_lineage.values()], async_req=False
             )
             logger.info(f"Offline lineage data for run {self.run_data.uuid} synced")
         else:
-            logger.info("Sync offline run failed. No lineage data found.")
+            logger.warning("Push offline run failed. No lineage data found.")
             return
 
-        if artifacts_path and upload_artifacts:
+        if path and upload_artifacts:
             self.upload_artifacts_dir(
-                dirpath=artifacts_path,
+                dirpath=path,
                 path="/",
                 overwrite=True,
-                relative_to=artifacts_path,
+                relative_to=path,
             )
             logger.info(f"Offline artifacts for run {self.run_data.uuid} uploaded")
 
         if clean:
-            delete_path(artifacts_path)
+            delete_path(path)
 
         # Reset is_offline
         self._is_offline = is_offline
 
 
 def get_run_logs(
     client: RunClient,
@@ -1950,46 +2747,56 @@
             if not follow:
                 handle_cli_error(
                     e,
                     message="Could not get logs for run `{}`.".format(client.run_uuid),
                 )
                 sys.exit(1)
 
-    def handle_status(last_status: str = None):
+    def handle_status(last_status: Optional[str] = None, live_update=None):
         if not last_status:
             return {"status": None}
 
-        click.echo(
-            "{}".format(
-                Printer.add_status_color({"status": last_status}, status_key="status")[
-                    "status"
-                ]
+        if live_update:
+            live_update.update(
+                status="{}".format(
+                    Printer.add_status_color(
+                        {"status": last_status}, status_key="status"
+                    )["status"]
+                )
+            )
+        else:
+            Printer.print(
+                "{}".format(
+                    Printer.add_status_color(
+                        {"status": last_status}, status_key="status"
+                    )["status"]
+                )
             )
-        )
         return last_status
 
     def handle_logs():
         is_done = False
         last_file = None
         _status = None
         files = []
         last_transition_time = now()
         last_status, conditions = client.get_statuses()
         if conditions:
             last_transition_time = conditions[0].last_transition_time
 
-        while not LifeCycle.is_done(last_status) and not LifeCycle.is_running(
-            last_status
-        ):
-            time.sleep(settings.CLIENT_CONFIG.watch_interval)
-            last_status, conditions = client.get_statuses()
-            if conditions:
-                last_transition_time = conditions[0].last_transition_time
-            if _status != last_status:
-                _status = handle_status(last_status)
+        with Printer.console.status("Waiting for running condition ...") as live_update:
+            while not LifeCycle.is_done(last_status) and not LifeCycle.is_running(
+                last_status
+            ):
+                time.sleep(settings.CLIENT_CONFIG.watch_interval)
+                last_status, conditions = client.get_statuses()
+                if conditions:
+                    last_transition_time = conditions[0].last_transition_time
+                if _status != last_status:
+                    _status = handle_status(last_status, live_update)
 
         if LifeCycle.is_done(last_status):
             last_time = None
         else:
             last_time = last_transition_time
 
         checks = 0
@@ -2025,22 +2832,7 @@
                     else:
                         is_done = True
                 else:
                     time.sleep(settings.CLIENT_CONFIG.watch_interval)
             checks += 1
 
     handle_logs()
-
-
-def get_rel_asset_path(
-    path: str = None, rel_path: str = None, is_offline: bool = False
-):
-    if not path or rel_path:
-        return rel_path
-    artifacts_root = CONTEXT_OFFLINE_ROOT if is_offline else CONTEXT_MOUNT_ARTIFACTS
-    if artifacts_root in path:
-        try:
-            return os.path.relpath(path, artifacts_root)
-        except Exception as e:
-            logger.debug("could not calculate relative path %s", e)
-
-    return rel_path or path
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/transport/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/client/transport/__init__.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/transport/http_transport.py` & `polyaxon-2.0.0rc0/polyaxon/client/transport/http_transport.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/transport/periodic_transport.py` & `polyaxon-2.0.0rc0/polyaxon/client/transport/periodic_transport.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -133,18 +133,20 @@
     @property
     def periodic_ws_workers(self):
         if not hasattr(self, "_periodic_ws_workers"):
             self._periodic_ws_workers = {}
 
         return self._periodic_ws_workers
 
-    def get_periodic_http_worker(self, url, **kwargs):
+    def get_periodic_http_worker(self, **kwargs):
+        url = kwargs.get("url")
+        if not url:
+            raise PolyaxonClientException("Periodic worker expects a url argument.")
         worker = self.periodic_ws_workers.get(url)
         if not worker or not worker.is_alive():
-            kwargs["url"] = url
             kwargs["request"] = self.socket(url, message_handler=None, **kwargs)
             worker = PeriodicWorker(
                 callback=self.queue_ws_request,
                 worker_interval=settings.CLIENT_CONFIG.interval,
                 worker_timeout=settings.CLIENT_CONFIG.timeout,
                 kwargs=kwargs,
             )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/transport/retry_transport.py` & `polyaxon-2.0.0rc0/polyaxon/client/transport/retry_transport.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/transport/socket_transport.py` & `polyaxon-2.0.0rc0/polyaxon/client/transport/socket_transport.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/transport/threaded_transport.py` & `polyaxon-2.0.0rc0/polyaxon/client/transport/threaded_transport.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/workers/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/client/workers/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/workers/base_worker.py` & `polyaxon-2.0.0rc0/polyaxon/client/workers/base_worker.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,17 +14,19 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import atexit
 import os
 import threading
 
+from typing import Optional
+
 
 class BaseWorker:
-    NAME = None
+    NAME: Optional[str] = None
 
     def __init__(self):
         assert self.NAME, "Worker class `{}` must have a valid name.".format(
             self.__class__.__name__
         )
         self._lock = threading.Lock()
         self._thread = None
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/workers/periodic_worker.py` & `polyaxon-2.0.0rc0/polyaxon/client/workers/periodic_worker.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/client/workers/queue_worker.py` & `polyaxon-2.0.0rc0/polyaxon/client/workers/queue_worker.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/config_reader/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/config_reader/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/config_reader/manager.py` & `polyaxon-2.0.0rc0/polyaxon/config_reader/manager.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -393,14 +393,17 @@
             is_optional=is_optional,
             is_secret=is_secret,
             is_local=is_local,
             default=default,
             options=options,
         )
 
+    def get_value(self, key):
+        return self._data.get(key, NO_VALUE_FOUND)
+
     def _get(
         self,
         key,
         parser_fct,
         is_list,
         is_optional,
         is_secret,
@@ -417,15 +420,15 @@
 
         Returns:
              The corresponding value of the key if found.
 
         Raises:
             KeyError
         """
-        value = self._data.get(key, NO_VALUE_FOUND)
+        value = self.get_value(key)
         parsed_value = parser_fct(
             key=key,
             value=value,
             is_list=is_list,
             is_optional=is_optional,
             default=default,
             options=options,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/config_reader/spec.py` & `polyaxon-2.0.0rc0/polyaxon/config_reader/spec.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -20,23 +20,20 @@
 import yaml
 
 from collections.abc import Mapping
 from requests import HTTPError
 from yaml.parser import ParserError
 from yaml.scanner import ScannerError
 
-from polyaxon_sdk import ApiException
+from clipped.dict_utils import deep_update
+from clipped.list_utils import to_list
 
-from polyaxon.config_reader.utils import deep_update
-from polyaxon.env_vars.keys import (
-    POLYAXON_KEYS_PUBLIC_REGISTRY,
-    POLYAXON_KEYS_USE_GIT_REGISTRY,
-)
+from polyaxon.env_vars.keys import EV_KEYS_PUBLIC_REGISTRY, EV_KEYS_USE_GIT_REGISTRY
 from polyaxon.exceptions import PolyaxonClientException, PolyaxonSchemaError
-from polyaxon.utils.list_utils import to_list
+from polyaxon.sdk.exceptions import ApiException
 
 
 class ConfigSpec:
     def __init__(self, value, config_type=None, check_if_exists=True):
         self.value = value
         self.config_type = config_type
         self.check_if_exists = check_if_exists
@@ -82,15 +79,15 @@
                     "Received an invalid yaml stream: `{}`".format(self.value)
                 )
 
         if self.config_type == "url":
             return _read_from_url(self.value)
 
         if self.config_type == "hub":
-            if os.environ.get(POLYAXON_KEYS_USE_GIT_REGISTRY, False):
+            if os.environ.get(EV_KEYS_USE_GIT_REGISTRY, False):
                 return _read_from_public_hub(self.value)
             return _read_from_polyaxon_hub(self.value)
 
         raise PolyaxonSchemaError(
             "Received an invalid configuration: `{}`".format(self.value)
         )
 
@@ -121,24 +118,24 @@
                     "Cannot read config_value: `{}`".format(config_value.value)
                 )
 
         return config
 
 
 def _read_from_url(url: str):
-    from polyaxon.utils.requests_utils import safe_request
+    from clipped.requests_utils import safe_request
 
     resp = safe_request(url)
     resp.raise_for_status()
     return _read_from_stream(resp.content.decode())
 
 
 def get_default_registry():
     return os.environ.get(
-        POLYAXON_KEYS_PUBLIC_REGISTRY,
+        EV_KEYS_PUBLIC_REGISTRY,
         "https://raw.githubusercontent.com/polyaxon/polyaxon-hub/master",
     )
 
 
 def _read_from_public_hub(hub: str):
     hub_values = hub.split(":")
     if len(hub_values) > 2:
@@ -156,43 +153,44 @@
         if e.response.status_code == 404:
             raise PolyaxonClientException(
                 "Component `{}` was not found, "
                 "please check that the name and tag are valid".format(hub)
             )
         raise PolyaxonClientException(
             "Component `{}` could not be fetched, "
-            "an error was encountered".format(hub, e)
+            "an error was encountered {}".format(hub, e)
         )
 
 
 def _read_from_polyaxon_hub(hub: str):
-    from polyaxon.client import PolyaxonClient
+    from polyaxon.client import PolyaxonClient, ProjectClient
     from polyaxon.constants.globals import DEFAULT_HUB, NO_AUTH
     from polyaxon.env_vars.getters import get_component_info
+    from polyaxon.lifecycle import V1ProjectVersionKind
     from polyaxon.schemas.cli.client_config import ClientConfig
 
     owner, component, version = get_component_info(hub)
 
     try:
         if owner == DEFAULT_HUB:
-            config = ClientConfig()
             client = PolyaxonClient(
-                config=config,
+                config=ClientConfig(use_cloud_host=True, verify_ssl=False),
                 token=NO_AUTH,
             )
         else:
             client = PolyaxonClient()
-        response = client.component_hub_v1.get_component_version(
-            owner, component, version
+        project_client = ProjectClient(owner=owner, project=component, client=client)
+        response = project_client.get_version(
+            kind=V1ProjectVersionKind.COMPONENT, version=version
         )
         return _read_from_stream(response.content)
     except (ApiException, HTTPError) as e:
         raise PolyaxonClientException(
             "Component `{}` could not be fetched, "
-            "an error was encountered".format(hub, e)
+            "an error was encountered {}".format(hub, e)
         )
 
 
 def _read_from_stream(stream):
     results = _read_from_yml(stream, is_stream=True)
     if not results:
         results = _read_from_json(stream, is_stream=True)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/config_reader/utils.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/schemas/service_types.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,31 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from collections.abc import Mapping
+from clipped.enums_utils import PEnum
 
 
-def deep_update(config, override_config):
-    for k, v in override_config.items():
-        if isinstance(v, Mapping):
-            k_config = config.get(k, {})
-            if isinstance(k_config, Mapping):
-                v_config = deep_update(k_config, v)
-                config[k] = v_config
-            else:
-                config[k] = v
-        else:
-            config[k] = override_config[k]
-    return config
+class ServiceTypes(str, PEnum):
+    LOAD_BALANCER = "LoadBalancer"
+    NODE_PORT = "NodePort"
+    CLUSTER_IP = "ClusterIP"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/connections/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/connections/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/connections/aws/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/connections/aws/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/connections/azure/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/connections/azure/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/connections/azure/base.py` & `polyaxon-2.0.0rc0/polyaxon/connections/azure/service.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,49 +1,25 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import os
 
-from typing import List, Optional, Union
-
 from polyaxon.connections.base import BaseService
-from polyaxon.connections.reader import read_keys
-
-
-def get_account_name(
-    keys: Optional[Union[str, List[str]]] = None, context_path: Optional[str] = None
-):
-    keys = keys or ["AZURE_ACCOUNT_NAME"]
-    return read_keys(context_path=context_path, keys=keys)
-
-
-def get_account_key(
-    keys: Optional[Union[str, List[str]]] = None, context_path: Optional[str] = None
-):
-    keys = keys or ["AZURE_ACCOUNT_KEY"]
-    return read_keys(context_path=context_path, keys=keys)
-
-
-def get_connection_string(
-    keys: Optional[Union[str, List[str]]] = None, context_path: Optional[str] = None
-):
-    keys = keys or ["AZURE_CONNECTION_STRING"]
-    return read_keys(context_path=context_path, keys=keys)
 
 
 class AzureService(BaseService):
     def __init__(self, connection=None, **kwargs):
         super().__init__(connection=connection, **kwargs)
         self._account_name = kwargs.get("account_name") or kwargs.get(
             "AZURE_ACCOUNT_NAME"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/connections/base.py` & `polyaxon-2.0.0rc0/polyaxon/connections/base.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,25 +1,26 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+import abc
 
 
-class BaseService:
+class BaseService(abc.ABC):
     def __init__(self, connection=None, **kwargs):
         self._connection = connection
         self._connection_type = kwargs.get("connection_type")
 
     @property
     def connection_type(self):
         return self._connection_type
@@ -27,9 +28,10 @@
     @property
     def connection(self):
         if self._connection is None:
             # Create connection with defaults
             self.set_connection()
         return self._connection
 
+    @abc.abstractmethod
     def set_connection(self, **kwargs):
         raise NotImplementedError
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/connections/gcp/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/connections/gcp/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/connections/gcp/base.py` & `polyaxon-2.0.0rc0/polyaxon/connections/gcp/base.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,84 +14,102 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import json
 import os
 
 from collections.abc import Mapping
-from typing import List, Optional, Union
+from typing import Any, Dict, List, Optional, Union
 
 import google.auth
 import google.oauth2.service_account
 
-from google.cloud.storage.client import Client
 from google.oauth2.service_account import Credentials
 
-from polyaxon.connections.base import BaseService
-from polyaxon.connections.reader import get_connection_context_path, read_keys
-from polyaxon.containers.contexts import CONTEXT_MOUNT_GC
+from polyaxon.connections.reader import read_keys
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.exceptions import PolyaxonStoresException
 from polyaxon.logger import logger
-from polyaxon.utils.path_utils import create_polyaxon_tmp
 
-DEFAULT_SCOPES = ("https://www.googleapis.com/auth/cloud-platform",)
+DEFAULT_SCOPES = ["https://www.googleapis.com/auth/cloud-platform"]
 
 
 def get_project_id(
-    keys: Optional[Union[str, List[str]]] = None, context_path: Optional[str] = None
-):
+    keys: Optional[Union[str, List[str]]] = None,
+    context_path: Optional[str] = None,
+    **kwargs,
+) -> Optional[str]:
+    value = kwargs.get("project_id")
+    if value:
+        return value
     keys = keys or [
         "GC_PROJECT",
         "GOOGLE_PROJECT",
         "GC_PROJECT_ID",
         "GOOGLE_PROJECT_ID",
     ]
-    return read_keys(context_path=context_path, keys=keys)
+    return read_keys(context_path=context_path, keys=keys)  # type: ignore
 
 
 def get_key_path(
-    keys: Optional[Union[str, List[str]]] = None, context_path: Optional[str] = None
-):
+    keys: Optional[Union[str, List[str]]] = None,
+    context_path: Optional[str] = None,
+    **kwargs,
+) -> Optional[str]:
+    value = kwargs.get("key_path")
+    if value:
+        return value
     keys = keys or ["GC_KEY_PATH", "GOOGLE_KEY_PATH", "GOOGLE_APPLICATION_CREDENTIALS"]
-    return read_keys(context_path=context_path, keys=keys)
+    return read_keys(context_path=context_path, keys=keys)  # type: ignore
 
 
 def get_keyfile_dict(
-    keys: Optional[Union[str, List[str]]] = None, context_path: Optional[str] = None
-):
+    keys: Optional[Union[str, List[str]]] = None,
+    context_path: Optional[str] = None,
+    **kwargs,
+) -> Optional[Dict]:
+    value = kwargs.get("keyfile_dict")
+    if value:
+        return value
     keys = keys or ["GC_KEYFILE_DICT", "GOOGLE_KEYFILE_DICT"]
-    return read_keys(context_path=context_path, keys=keys)
+    return read_keys(context_path=context_path, keys=keys)  # type: ignore
 
 
 def get_scopes(
-    keys: Optional[Union[str, List[str]]] = None, context_path: Optional[str] = None
-):
+    keys: Optional[Union[str, List[str]]] = None,
+    context_path: Optional[str] = None,
+    **kwargs,
+) -> Optional[str]:
+    value = kwargs.get("scopes")
+    if value:
+        return value
     keys = keys or ["GC_SCOPES", "GOOGLE_SCOPES"]
-    return read_keys(context_path=context_path, keys=keys)
+    return read_keys(context_path=context_path, keys=keys)  # type: ignore
 
 
 def get_gc_credentials(
-    key_path=None, keyfile_dict=None, scopes=None, context_path: Optional[str] = None
-):
+    context_path: Optional[str] = None,
+    **kwargs,
+) -> Credentials:
     """
     Returns the Credentials object for Google API
     """
-    key_path = key_path or get_key_path(context_path=context_path)
-    keyfile_dict = keyfile_dict or get_keyfile_dict(context_path=context_path)
-    scopes = scopes or get_scopes(context_path=context_path)
+    key_path = get_key_path(context_path=context_path, **kwargs)
+    keyfile_dict = get_keyfile_dict(context_path=context_path, **kwargs)
+    _scopes = get_scopes(context_path=context_path, **kwargs)
 
-    if scopes is not None:
-        scopes = [s.strip() for s in scopes.split(",")]
+    if _scopes is not None:
+        scopes = [s.strip() for s in _scopes.split(",")]
     else:
         scopes = DEFAULT_SCOPES
 
     if not key_path and not keyfile_dict:
         # Look for default GC path
-        if os.path.exists(CONTEXT_MOUNT_GC):
-            key_path = CONTEXT_MOUNT_GC
+        if os.path.exists(ctx_paths.CONTEXT_MOUNT_GC):
+            key_path = ctx_paths.CONTEXT_MOUNT_GC
 
     if not key_path and not keyfile_dict:
         logger.info(
             "Getting connection using `google.auth.default()` "
             "since no key file is defined for hook."
         )
         credentials, _ = google.auth.default(scopes=scopes)
@@ -104,15 +122,15 @@
             )
         else:
             raise PolyaxonStoresException("Unrecognised extension for key file.")
     else:
         # Get credentials from JSON data.
         try:
             if not isinstance(keyfile_dict, Mapping):
-                keyfile_dict = json.loads(keyfile_dict)
+                keyfile_dict = json.loads(keyfile_dict)  # type: ignore
 
             # Convert escaped newlines to actual newlines if any.
             keyfile_dict["private_key"] = keyfile_dict["private_key"].replace(
                 "\\n", "\n"
             )
 
             credentials = Credentials.from_service_account_info(
@@ -121,96 +139,25 @@
         except ValueError:  # json.decoder.JSONDecodeError does not exist on py2
             raise PolyaxonStoresException("Invalid key JSON.")
 
     return credentials
 
 
 def get_gc_access_token(
-    key_path=None,
-    keyfile_dict=None,
     credentials=None,
-    scopes=None,
     context_path: Optional[str] = None,
-):
-    credentials = credentials or get_gc_credentials(
-        key_path=key_path,
-        keyfile_dict=keyfile_dict,
-        scopes=scopes,
-        context_path=context_path,
-    )
+    **kwargs,
+) -> str:
+    credentials = credentials or get_gc_credentials(context_path=context_path, **kwargs)
     return credentials.token
 
 
 def get_gc_client(
-    project_id=None,
-    key_path=None,
-    keyfile_dict=None,
     credentials=None,
-    scopes=None,
     context_path: Optional[str] = None,
-):
-    credentials = credentials or get_gc_credentials(
-        key_path=key_path,
-        keyfile_dict=keyfile_dict,
-        scopes=scopes,
-        context_path=context_path,
-    )
-    project_id = project_id or get_project_id()
-    return Client(project=project_id, credentials=credentials)
-
+    **kwargs,
+) -> Any:
+    from google.cloud.storage.client import Client
 
-class GCPService(BaseService):
-    def __init__(self, connection=None, **kwargs):
-        super().__init__(connection=connection, **kwargs)
-        self._project_id = kwargs.get("project_id")
-        self._credentials = kwargs.get("credentials")
-        self._key_path = kwargs.get("key_path")
-        self._keyfile_dict = kwargs.get("keyfile_dict")
-        self._scopes = kwargs.get("scopes")
-        self._encoding = kwargs.get("encoding", "utf-8")
-
-    def set_connection(
-        self,
-        connection=None,
-        connection_type=None,
-        project_id=None,
-        key_path=None,
-        keyfile_dict=None,
-        credentials=None,
-        scopes=None,
-    ):
-        """
-        Sets a new gc client.
-
-        Args:
-            project_id: `str`. The project if.
-            key_path: `str`. The path to the json key file.
-            keyfile_dict: `str`. The dict containing the auth data.
-            credentials: `Credentials instance`. The credentials to use.
-            scopes: `list`. The scopes.
-
-        Returns:
-            Service client instance
-        """
-        if connection:
-            self._connection = connection
-            return
-        connection_type = connection_type or self._connection_type
-        connection_name = connection_type.name if connection_type else None
-        context_path = get_connection_context_path(name=connection_name)
-        self._connection = get_gc_client(
-            project_id=project_id or self._project_id,
-            key_path=key_path or self._key_path,
-            keyfile_dict=keyfile_dict or self._keyfile_dict,
-            credentials=credentials or self._credentials,
-            scopes=scopes or self._scopes,
-            context_path=context_path,
-        )
-
-    def set_env_vars(self):
-        if self._key_path:
-            os.environ["GOOGLE_APPLICATION_CREDENTIALS"] = self._key_path
-        elif self._keyfile_dict:
-            create_polyaxon_tmp()
-            with open(CONTEXT_MOUNT_GC, "w") as outfile:
-                json.dump(self._keyfile_dict, outfile)
-            os.environ["GOOGLE_APPLICATION_CREDENTIALS"] = CONTEXT_MOUNT_GC
+    credentials = credentials or get_gc_credentials(context_path=context_path, **kwargs)
+    project_id = get_project_id(context_path=context_path, **kwargs)
+    return Client(project=project_id, credentials=credentials)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/connections/getter.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/common/annotations.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,48 +1,50 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon_sdk import V1ConnectionKind
+from typing import Dict, List, Optional
 
-from polyaxon.connections.reader import get_connection_type
+from clipped.list_utils import to_list
+
+from polyaxon.polyflow import V1Init
 from polyaxon.schemas.types import V1ConnectionType
 
 
-def get_connection_from_type(connection_type: V1ConnectionType, **kwargs):
-    # We assume that `None` refers to local store as well
-    if not connection_type or connection_type.kind in {
-        V1ConnectionKind.VOLUME_CLAIM,
-        V1ConnectionKind.HOST_PATH,
-    }:
-        from polyaxon.stores.local_store import LocalStore
-
-        return LocalStore()
-    if connection_type.kind == V1ConnectionKind.WASB:
-        from polyaxon.connections.azure.azure_blobstore import AzureBlobStoreService
-
-        return AzureBlobStoreService(connection_name=connection_type.name, **kwargs)
-    if connection_type.kind == V1ConnectionKind.S3:
-        from polyaxon.connections.aws.s3 import S3Service
-
-        return S3Service(connection_name=connection_type.name, **kwargs)
-    if connection_type.kind == V1ConnectionKind.GCS:
-        from polyaxon.connections.gcp.gcs import GCSService
-
-        return GCSService(connection_name=connection_type.name, **kwargs)
-
-
-def get_connection_from_name(connection_name: str, **kwargs):
-    connection_type = get_connection_type(connection_name)
-    return get_connection_from_type(connection_type=connection_type, **kwargs)
+def get_connection_annotations(
+    artifacts_store: Optional[V1ConnectionType],
+    init_connections: Optional[List[V1Init]],
+    connections: List[str],
+    connection_by_names: Optional[Dict[str, V1ConnectionType]],
+) -> Dict:
+    """Resolve all annotations to inject per replica"""
+    connections = to_list(connections, check_none=True)
+    init_connections = to_list(init_connections, check_none=True)
+    connection_by_names = connection_by_names or {}
+
+    requested_connection_names = connections[:]
+    for init_connection in init_connections:
+        if (
+            init_connection.connection
+            and init_connection.connection not in requested_connection_names
+        ):
+            requested_connection_names.append(init_connection.connection)
+    if artifacts_store and artifacts_store.name not in requested_connection_names:
+        requested_connection_names.append(artifacts_store.name)
+
+    annotations = {}
+    for c in requested_connection_names:
+        annotations.update(connection_by_names[c].annotations or {})
+
+    return annotations
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/connections/reader.py` & `polyaxon-2.0.0rc0/polyaxon/connections/reader.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,23 +14,23 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import os
 
 from typing import Any, List, Optional, Set, Union
 
-from marshmallow import ValidationError
+from clipped.path_utils import check_dirname_exists
+from pydantic import ValidationError
 
 from polyaxon.env_vars.keys import (
-    POLYAXON_KEYS_CONNECTION_CONTEXT_PATH_FORMAT,
-    POLYAXON_KEYS_CONNECTION_SCHEMA_FORMAT,
+    EV_KEYS_CONNECTION_CONTEXT_PATH_FORMAT,
+    EV_KEYS_CONNECTION_SCHEMA_FORMAT,
 )
 from polyaxon.logger import logger
 from polyaxon.schemas.types import V1ConnectionType
-from polyaxon.utils.path_utils import check_dirname_exists
 
 
 def get_from_env(keys: Union[Set[str], List[str], str]) -> Any:
     """
     Returns a variable from one of the list of keys based on the os.env.
     Args:
         keys: list(str). list of keys to check in the environment
@@ -54,30 +54,32 @@
         value = os.environ.get(key)
         if value:
             return value
 
     return None
 
 
-def get_from_path(context_path: str, keys: Union[Set[str], List[str], str]) -> Any:
+def get_from_path(
+    context_path: str, keys: Union[Set[str], List[str], str]
+) -> Optional[Any]:
     """
     Returns a variable from one of the list of keys based on a base path.
     Args:
         context_path: str, base path where to look for keys.
         keys: list(str). list of keys to check in the environment
 
     Returns:
         str | None
     """
     if not check_dirname_exists(context_path, is_dir=True):
         return None
 
     keys = keys or []
     if not isinstance(keys, (list, tuple)):
-        keys = [keys]
+        keys = [keys]  # type: ignore
     for key in keys:
         key_path = os.path.join(context_path, key)
         if not os.path.exists(key_path):
             return None
         with open(key_path) as f:
             value = f.read()
             if value:
@@ -87,19 +89,19 @@
                     return False
                 return value
 
     return None
 
 
 def get_connection_context_path_env_name(name: str) -> str:
-    return POLYAXON_KEYS_CONNECTION_CONTEXT_PATH_FORMAT.format(name.upper())
+    return EV_KEYS_CONNECTION_CONTEXT_PATH_FORMAT.format(name.upper())
 
 
 def get_connection_schema_env_name(name: str) -> str:
-    return POLYAXON_KEYS_CONNECTION_SCHEMA_FORMAT.format(name.upper())
+    return EV_KEYS_CONNECTION_SCHEMA_FORMAT.format(name.upper())
 
 
 def get_connection_context_path(name: Optional[str]) -> Optional[str]:
     """Checks if a connection has a mount path exported by Polyaxon"""
     if not name:
         return None
 
@@ -122,25 +124,24 @@
         return None
 
     spec = os.environ.get(get_connection_schema_env_name(name))
     if not spec:
         return None
 
     try:
-        spec = V1ConnectionType.read(spec, config_type=".json")
+        return V1ConnectionType.read(spec, config_type=".json")
     except ValidationError as e:
         logger.warning(
             "A connection spec was found for {}, "
             "but the reading the spec raised an error {}.".format(name, repr(e))
         )
         return None
-    return spec
 
 
-def read_keys(context_path: str, keys: List[str]) -> Any:
+def read_keys(context_path: str, keys: List[str]) -> Optional[Any]:
     """Returns a variable by checking first a context path and then in the environment."""
     keys = (
         {k.lower() for k in keys}
         | {k.upper() for k in keys}
         | {"".join(k.lower().split("_")) for k in keys}
     )
     if context_path:
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/connections/schemas/k8s_resources.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/mounts/artifacts_mounts.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,42 +1,27 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional
 
-import polyaxon_sdk
+from pydantic import StrictStr
 
-from marshmallow import fields
+from polyaxon.schemas.base import BaseSchemaModel
 
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
 
+class V1ArtifactsMount(BaseSchemaModel):
+    _IDENTIFIER = "artifacts_mount"
 
-class K8sResourceSchema(BaseCamelSchema):
-    name = fields.Str(required=True)
-    mount_path = fields.Str(allow_none=True)
-    items = fields.List(fields.Str(), allow_none=True)
-    default_mode = fields.Int(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1K8sResourceSchema
-
-
-class V1K8sResourceSchema(BaseConfig, polyaxon_sdk.V1K8sResourceSchema):
-    SCHEMA = K8sResourceSchema
-    IDENTIFIER = "k8s_resource"
-    REDUCED_ATTRIBUTES = ["mountPath", "items", "defaultMode"]
-
-
-def validate_k8s_resource(definition):
-    V1K8sResourceSchema.from_dict(definition)
+    name: StrictStr
+    paths: Optional[List[StrictStr]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/constants/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/constants/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/constants/globals.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/clean_pod_policy.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,22 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-UNKNOWN = "unknown"
-DEFAULT = "default"
-DEFAULT_HUB = "polyaxon"
-NO_AUTH = "no-auth"
-PLATFORM_DIST_CE = "ce"
-DEFAULT_UPLOADS_PATH = "uploads"
+from clipped.enums_utils import PEnum
+
+
+class V1CleanPodPolicy(str, PEnum):
+    ALL = "All"
+    RUNNING = "Running"
+    var_NONE = "None"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/constants/metadata.py` & `polyaxon-2.0.0rc0/polyaxon/constants/metadata.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,23 +14,26 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 META_EDGE = "edge"
 META_ITERATION = "iteration"
 META_BRACKET_ITERATION = "bracket_iteration"
 META_REWRITE_PATH = "rewrite_path"
+META_IS_EXTERNAL = "is_external"
 META_HAS_EARLY_STOPPING = "has_early_stopping"
 META_HAS_JOBS = "has_jobs"
 META_HAS_SERVICES = "has_services"
 META_HAS_DAGS = "has_dags"
 META_HAS_MATRICES = "has_matrices"
+META_HAS_SCHEDULES = "has_schedules"
 META_HAS_HOOKS = "has_hooks"
 META_IS_HOOK = "is_hook"
 META_IS_ACTION = "is_action"
 META_IS_TUNER = "is_tuner"
 META_IS_PROMOTED = "is_promoted"
 META_CONCURRENCY = "concurrency"
 META_HAS_DOWNSTREAM_EVENTS_TRIGGER = "has_downstream_events_trigger"
 META_UPLOAD_ARTIFACTS = "upload_artifacts"
 META_COPY_ARTIFACTS = "copy_artifacts"
 META_EAGER_MODE = "eager"
 META_DESTINATION_IMAGE = "destination_image"
+META_PROGRESS = "progress"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/containers/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/containers/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/containers/names.py` & `polyaxon-2.0.0rc0/polyaxon/containers/names.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,40 +1,54 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
 MAIN_JOB_CONTAINER = "polyaxon-main"
-INIT_AUTH_CONTAINER = "polyaxon-init-auth"
 SIDECAR_CONTAINER = "polyaxon-sidecar"
 TFJOBS_CONTAINER = "tensorflow"
 PYTORCHJOBS_CONTAINER = "pytorch"
+MXJOBS_CONTAINER = "mxnet"
+XGBJOBS_CONTAINER = "xgboost"
+PADDLEJOBS_CONTAINER = "paddle"
+MAIN_CONTAINER_NAMES = [
+    MAIN_JOB_CONTAINER,
+    SIDECAR_CONTAINER,
+    TFJOBS_CONTAINER,
+    PYTORCHJOBS_CONTAINER,
+    MXJOBS_CONTAINER,
+    XGBJOBS_CONTAINER,
+    PADDLEJOBS_CONTAINER,
+]
+INIT_AUTH_CONTAINER = "polyaxon-init-auth"
 INIT_DOCKERFILE_CONTAINER_PREFIX = "polyaxon-init-dockerfile"
 INIT_FILE_CONTAINER_PREFIX = "polyaxon-init-file"
+INIT_TENSORBOARD_CONTAINER_PREFIX = "polyaxon-init-tb"
 INIT_GIT_CONTAINER_PREFIX = "polyaxon-init-git"
 INIT_CUSTOM_CONTAINER_PREFIX = "polyaxon-init-custom"
 INIT_ARTIFACTS_CONTAINER_PREFIX = "polyaxon-init-artifacts"
 POLYAXON_INIT_PREFIX = "polyaxon-init"
 INIT_PREFIX = "init"
 SIDECAR_PREFIX = "sidecar"
 
 
 def generate_container_name(
-    prefix: str, suffix: str = None, unique: bool = True
+    prefix: str, suffix: Optional[str] = None, unique: bool = True
 ) -> str:
     import uuid
 
     prefix = prefix or "container"
     unique_value = uuid.uuid4().hex[:10]
     if suffix:
         suffix = suffix.replace("_", "-")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/containers/pull_policy.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/schedules/kinds.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from enum import Enum
+from clipped.enums_utils import PEnum
 
 
-class PullPolicy(Enum):
-    ALWAYS = "Always"
-    IF_NOT_PRESENT = "IfNotPresent"
-    NEVER = "Never"
+class V1ScheduleKind(str, PEnum):
+    CRON = "cron"
+    INTERVAL = "interval"
+    DATETIME = "datetime"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/containers/statuses.py` & `polyaxon-2.0.0rc0/polyaxon/containers/statuses.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/contexts/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/contexts/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/contexts/keys.py` & `polyaxon-2.0.0rc0/polyaxon/contexts/keys.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -36,7 +36,8 @@
 COMPILED_AT = "compiled_at"
 SCHEDULE_AT = "schedule_at"
 STARTED_AT = "started_at"
 FINISHED_AT = "finished_at"
 DURATION = "duration"
 CLONING_KIND = "cloning_kind"
 ORIGINAL_UUID = "original_uuid"
+IS_INDEPENDENT = "is_independent"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/contexts/params.py` & `polyaxon-2.0.0rc0/polyaxon/contexts/params.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/contexts/refs.py` & `polyaxon-2.0.0rc0/polyaxon/contexts/refs.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,17 +13,16 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import uuid
 
 from typing import Optional
 
-from marshmallow import ValidationError
-
 from polyaxon.contexts.params import PARAM_REGEX
+from polyaxon.exceptions import PolyaxonValidationError
 
 OPS = "ops"
 RUNS = "runs"
 DAG = "dag"
 DAG_ENTITY_REF = "_"
 ENTITIES = {OPS, RUNS}
 
@@ -49,99 +48,109 @@
         return DAG_ENTITY_REF
     return None
 
 
 def get_entity_type(value: str) -> str:
     value_parts = PARAM_REGEX.search(value)
     if value_parts:
-        value_parts = value_parts.group(1)
+        results = value_parts.group(1).strip()
     else:
-        value_parts = value
+        results = value
 
-    return value_parts.split(".")[0]
+    return results.split(".")[0]
 
 
-def get_entity_value(value: str) -> str:
+def get_entity_value(value: str) -> Optional[str]:
     value_parts = PARAM_REGEX.search(value)
     if value_parts:
-        value_parts = value_parts.group(1)
+        results = value_parts.group(1).strip()
     else:
-        value_parts = value
+        results = value
 
-    value_parts = value_parts.split(".")
-    if len(value_parts) < 2:
+    results = results.split(".")
+    if len(results) < 2:
         return None
-    return value_parts[-1]
+    return results[-1]
 
 
 def parse_ref_value(value: str) -> str:
     """Returns value without {{ }}"""
     value_parts = PARAM_REGEX.search(value)
     if value_parts:
-        return value_parts.group(1)
+        return value_parts.group(1).strip()
     return value
 
 
 class RefMixin:
     @property
-    def is_literal(self):
-        return not self.ref
+    def is_literal(self) -> bool:
+        return not self.ref  # type: ignore[attr-defined]
+
+    @property
+    def is_ref(self) -> bool:
+        return self.ref is not None  # type: ignore[attr-defined]
 
     @property
-    def is_ref(self):
-        return self.ref is not None
+    def is_template_ref(self) -> bool:
+        try:
+            value_parts = PARAM_REGEX.search(self.value)  # type: ignore[attr-defined]
+            if value_parts:
+                return True
+        except Exception:  # noqa
+            pass
+        return False
 
     @property
-    def is_runs_ref(self):
+    def is_runs_ref(self) -> bool:
         if not self.is_ref:
             return False
 
-        return is_runs_ref(self.ref)
+        return is_runs_ref(self.ref)  # type: ignore[attr-defined]
 
     @property
-    def is_ops_ref(self):
+    def is_ops_ref(self) -> bool:
         if not self.is_ref:
             return False
 
-        return is_ops_ref(self.ref)
+        return is_ops_ref(self.ref)  # type: ignore[attr-defined]
 
     @property
-    def is_dag_ref(self):
+    def is_dag_ref(self) -> bool:
         if not self.is_ref:
             return False
 
-        return is_dag_ref(self.ref)
+        return is_dag_ref(self.ref)  # type: ignore[attr-defined]
 
     @property
     def is_join_ref(self):
         return False
 
     @property
     def entity_ref(self) -> Optional[str]:
-        return get_entity_ref(self.ref)
+        return get_entity_ref(self.ref)  # type: ignore[attr-defined]
 
 
 def validate_ref(ref: str, name: str):
     # validate ref
     ref_parts = ref.split(".")
     if len(ref_parts) > 2:
-        raise ValidationError(
+        raise PolyaxonValidationError(
             "Could not parse ref `{}` for param `{}`.".format(ref, name)
         )
     if len(ref_parts) == 1 and ref_parts[0] != DAG:
-        raise ValidationError(
+        raise PolyaxonValidationError(
             "Could not parse ref `{}` for param `{}`.".format(ref_parts[0], name)
         )
     if len(ref_parts) == 2 and ref_parts[0] not in ENTITIES:
-        raise ValidationError(
+        raise PolyaxonValidationError(
             "Could not parse ref `{}` for param `{}`. "
-            "Ref must be one of `{}`".format(ref_parts[0], name, ENTITIES)
+            "Operation ref must be one of `{}`".format(ref_parts[0], name, ENTITIES)
         )
     if ref_parts[0] == RUNS:
         try:
             uuid.UUID(ref_parts[1])
         except (KeyError, ValueError):
-            raise ValidationError(
+            raise PolyaxonValidationError(
                 "Param value `{}` should reference a valid run uuid.".format(
                     ref_parts[1]
                 )
             )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/contexts/sections.py` & `polyaxon-2.0.0rc0/polyaxon/contexts/sections.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -51,8 +51,9 @@
     keys.COMPILED_AT,
     keys.SCHEDULE_AT,
     keys.STARTED_AT,
     keys.FINISHED_AT,
     keys.DURATION,
     keys.CLONING_KIND,
     keys.ORIGINAL_UUID,
+    keys.IS_INDEPENDENT,
 }
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/operators/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/operators/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/operators/cmd_operator.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/operators/cmd_operator.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/operators/compose.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/operators/compose.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,14 +13,15 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import uuid
 
 from polyaxon.deploy.operators.cmd_operator import CmdOperator
+from polyaxon.env_vars.keys import EV_KEYS_LOG_LEVEL, EV_KEYS_SECRET_KEY
 
 
 class ComposeOperator(CmdOperator):
     CMD = "docker-compose"
 
     @classmethod
     def params(cls, args):
@@ -179,15 +180,15 @@
             env.append(
                 template.format("POLYAXON_CHART_VERSION", config.deployment_version)
             )
         if config.namespace:
             env.append(template.format("POLYAXON_K8S_NAMESPACE", config.namespace))
         env.append(
             template.format(
-                "POLYAXON_SECRET_KEY", config.polyaxon_secret or uuid.uuid4().hex
+                EV_KEYS_SECRET_KEY, config.polyaxon_secret or uuid.uuid4().hex
             )
         )
         env.append(
             template.format(
                 "POLYAXON_SECRET_INTERNAL_TOKEN",
                 config.internal_token or uuid.uuid4().hex,
             )
@@ -209,11 +210,11 @@
             env.append(template.format("POLYAXON_HOST", config.host_name))
         if config.allowed_hosts:
             env.append(template.format("POLYAXON_ALLOWED_HOSTS", config.allowed_hosts))
 
         env += cls._generate_intervals(config)
 
         if config.log_level:
-            env.append(template.format("POLYAXON_LOG_LEVEL", config.log_level))
+            env.append(template.format(EV_KEYS_LOG_LEVEL, config.log_level))
         env += cls._generate_postgres(config)
 
         return "\n".join(env)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/operators/conda.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/operators/conda.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/operators/docker.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/operators/docker.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/operators/helm.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/operators/helm.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/operators/kubectl.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/operators/kubectl.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,15 +12,15 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import os
 
-from polyaxon.containers.contexts import CONTEXT_USER_POLYAXON_PATH
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.deploy.operators.cmd_operator import CmdOperator
 
 
 class KubectlOperator(CmdOperator):
     CMD = "kubectl"
 
     @classmethod
@@ -42,15 +42,17 @@
 
     @staticmethod
     def env():
         env = os.environ.copy()
         env.update(
             dict(
                 KUBECONFIG=env.get("KUBECONFIG", ""),
-                PATH="{}:{}".format(CONTEXT_USER_POLYAXON_PATH, env.get("PATH", "")),
+                PATH="{}:{}".format(
+                    ctx_paths.CONTEXT_USER_POLYAXON_PATH, env.get("PATH", "")
+                ),
             )
         )
         return env
 
     @classmethod
     def execute(cls, args, is_json=True, stream=False):
         params = cls.params(args, is_json=is_json)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/operators/pip.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/operators/pip.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/reader.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/reader.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/schemas/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/schemas/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/schemas/deployment_types.py` & `polyaxon-2.0.0rc0/polyaxon/polyplot/__init__.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,33 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
+# To keep backwards compatibility
 
-class DeploymentTypes:
-    KUBERNETES = "kubernetes"
-    MINIKUBE = "minikube"
-    MICRO_K8S = "microk8s"
-    DOCKER_COMPOSE = "docker-compose"
-    DOCKER = "docker"
-    HEROKU = "heroku"
-
-    VALUES = [KUBERNETES, MINIKUBE, MICRO_K8S, DOCKER_COMPOSE, DOCKER, HEROKU]
-
-
-class DeploymentCharts:
-    PLATFORM = "platform"
-    AGENT = "agent"
-
-    VALUES = [PLATFORM, AGENT]
+from traceml.visualization.run_plot import MultiRunPlot, RunPlot
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/schemas/rbac.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/schemas/auth.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,35 +1,26 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-from marshmallow import fields
+from pydantic import Field, StrictStr
 
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
+from polyaxon.schemas.base import BaseSchemaModel
 
 
-class RBACSchema(BaseCamelSchema):
-    enabled = fields.Bool(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return RBACConfig
-
-
-class RBACConfig(BaseConfig):
-    SCHEMA = RBACSchema
-    REDUCED_ATTRIBUTES = ["enabled"]
-
-    def __init__(self, enabled=None):
-        self.enabled = enabled
+class AuthConfig(BaseSchemaModel):
+    enabled: Optional[bool]
+    external: Optional[StrictStr]
+    use_resolver: Optional[bool] = Field(alias="useResolver")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/schemas/service_types.py` & `polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/hyperopt/__init__.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,23 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
+# To keep backwards compatibility
 
-class ServiceTypes:
-    LOAD_BALANCER = "LoadBalancer"
-    NODE_PORT = "NodePort"
-    CLUSTER_IP = "ClusterIP"
-
-    VALUES = [LOAD_BALANCER, NODE_PORT, CLUSTER_IP]
+from hypertune.search_managers.hyperopt.manager import HyperoptManager
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/deploy/schemas/ssl.py` & `polyaxon-2.0.0rc0/polyaxon/env_vars/getters/queue.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,39 +1,35 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from marshmallow import fields
+from polyaxon.exceptions import PolyaxonSchemaError
 
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
 
+def get_queue_info(queue: str):
+    if not queue:
+        raise PolyaxonSchemaError("Received an invalid queue {}".format(queue))
+
+    parts = queue.replace(".", "/").split("/")
+    agent = None
+    queue_name = queue
+    if len(parts) == 2:
+        agent, queue_name = parts
+    elif len(parts) > 2:
+        raise PolyaxonSchemaError(
+            "Please provide a valid queue. "
+            "The queue name should be: queue-name to use the default agent or agent-name/queue."
+        )
 
-class SSLSchema(BaseCamelSchema):
-    enabled = fields.Bool(allow_none=True)
-    secret_name = fields.Str(allow_none=True)
-    path = fields.Str(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return SSLConfig
-
-
-class SSLConfig(BaseConfig):
-    SCHEMA = SSLSchema
-    REDUCED_ATTRIBUTES = ["enabled"]
-
-    def __init__(self, enabled=None, secret_name=None, path=None):  # noqa
-        self.enabled = enabled
-        self.secret_name = secret_name
-        self.path = path
+    return agent, queue_name
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/env_vars/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/env_vars/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/env_vars/getters/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/env_vars/getters/__init__.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,25 +1,24 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from polyaxon.env_vars.getters.agent import get_agent_info, get_artifacts_store_name
-from polyaxon.env_vars.getters.owner_entity import get_entity_full_name, get_entity_info
 from polyaxon.env_vars.getters.project import (
     get_project_error_message,
     get_project_or_local,
 )
 from polyaxon.env_vars.getters.run import (
     get_collect_artifacts,
     get_collect_resources,
@@ -27,10 +26,9 @@
     get_project_run_or_local,
     get_run_info,
     get_run_or_local,
 )
 from polyaxon.env_vars.getters.versioned_entity import (
     get_component_info,
     get_model_info,
-    get_versioned_entity_full_name,
     get_versioned_entity_info,
 )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/env_vars/getters/agent.py` & `polyaxon-2.0.0rc0/polyaxon/env_vars/getters/agent.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,23 +12,22 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import os
 
-from polyaxon.env_vars.keys import (
-    POLYAXON_KEYS_AGENT_INSTANCE,
-    POLYAXON_KEYS_ARTIFACTS_STORE_NAME,
-)
+from typing import Optional, Tuple
+
+from polyaxon.env_vars.keys import EV_KEYS_AGENT_INSTANCE, EV_KEYS_ARTIFACTS_STORE_NAME
 from polyaxon.exceptions import PolyaxonAgentError
 
 
-def get_agent_info(agent_instance: str = None):
-    agent_instance = agent_instance or os.getenv(POLYAXON_KEYS_AGENT_INSTANCE, None)
+def get_agent_info(agent_instance: Optional[str] = None) -> Tuple[str, str]:
+    agent_instance = agent_instance or os.getenv(EV_KEYS_AGENT_INSTANCE, None)
     if not agent_instance:
         raise PolyaxonAgentError(
             "Could get agent info, "
             "please make sure that this agent was registered in Polyaxon."
         )
 
     parts = agent_instance.split(".")
@@ -40,8 +39,8 @@
             )
         )
     return parts[0], parts[-1]
 
 
 def get_artifacts_store_name():
     """Get the artifacts store name"""
-    return os.getenv(POLYAXON_KEYS_ARTIFACTS_STORE_NAME)
+    return os.getenv(EV_KEYS_ARTIFACTS_STORE_NAME)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/env_vars/getters/owner_entity.py` & `polyaxon-2.0.0rc0/polyaxon/env_vars/getters/versioned_entity.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,78 +1,106 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-
 import sys
 
-from polyaxon.constants.globals import DEFAULT
-from polyaxon.env_vars.getters.user import get_local_owner
-from polyaxon.exceptions import PolyaxonClientException, PolyaxonSchemaError
-from polyaxon.utils.formatting import Printer
+from typing import Tuple
 
+from clipped.formatting import Printer
 
-def get_entity_full_name(owner: str = None, entity: str = None) -> str:
-    if owner and entity:
-        return "{}/{}".format(owner, entity)
-    return entity
+from polyaxon.constants.globals import DEFAULT, DEFAULT_HUB
+from polyaxon.env_vars.getters.user import get_local_owner
+from polyaxon.exceptions import PolyaxonClientException, PolyaxonSchemaError
 
 
-def get_entity_info(entity):
+def get_versioned_entity_info(
+    entity: str, entity_name: str, default_owner: str
+) -> Tuple[str, str, str]:
     if not entity:
         raise PolyaxonSchemaError(
-            "Received an invalid entity reference: `{}`".format(entity)
+            "Received an invalid {} reference: `{}`".format(entity_name, entity)
         )
-
-    parts = entity.replace(".", "/").split("/")
-    if len(parts) > 2:
+    entity_values = entity.split(":")
+    if len(entity_values) > 2:
         raise PolyaxonSchemaError(
-            "Received an invalid entity reference: `{}`".format(entity)
+            "Received an invalid {} reference: `{}`".format(entity_name, entity)
         )
-    if len(parts) == 2:
-        owner, entity_name = parts
+    if len(entity_values) == 2:
+        entity_namespace, version = entity_values
     else:
-        owner = None
-        entity_name = entity
+        entity_namespace, version = entity_values[0], "latest"
+    version = version or "latest"
+    parts = entity_namespace.replace(".", "/").split("/")
+    owner = default_owner
+    if not parts or len(parts) > 2:
+        raise PolyaxonSchemaError(
+            "Received an invalid {} reference: `{}`".format(entity_name, entity)
+        )
+    if len(parts) == 2:
+        owner, entity_namespace = parts
+    return owner, entity_namespace, version
 
-    return owner, entity_name
+
+def get_component_info(hub: str, use_local_owner: bool = False) -> Tuple[str, str, str]:
+    from polyaxon import settings
+
+    if use_local_owner:
+        try:
+            owner = get_local_owner()
+        except PolyaxonClientException:
+            owner = None
+
+        if not owner and (not settings.CLI_CONFIG or settings.CLI_CONFIG.is_community):
+            owner = DEFAULT
+    else:
+        owner = DEFAULT_HUB
+    return get_versioned_entity_info(
+        entity=hub, entity_name="component", default_owner=owner
+    )
 
 
-def resolve_entity_info(entity: str, entity_name: str, is_cli: bool = False):
+def get_model_info(entity: str, entity_name: str, is_cli: bool = False):
     from polyaxon import settings
 
     if not entity:
         message = "Please provide a valid {}!".format(entity_name)
         if is_cli:
-            Printer.print_error(message)
+            Printer.error(message)
             sys.exit(1)
         else:
             raise PolyaxonClientException(message)
 
-    owner, entity_name = get_entity_info(entity)
-
-    if not owner:
-        owner = get_local_owner(is_cli=is_cli)
+    try:
+        owner = get_local_owner()
+    except PolyaxonClientException:
+        owner = None
 
-    if not owner and (not settings.CLI_CONFIG or settings.CLI_CONFIG.is_ce):
+    if not owner and (not settings.CLI_CONFIG or settings.CLI_CONFIG.is_community):
         owner = DEFAULT
-    owner = owner or settings.AUTH_CONFIG.username
+
+    owner, entity_namespace, version = get_versioned_entity_info(
+        entity=entity, entity_name=entity_name, default_owner=owner
+    )
+
+    if not owner:
+        owner = settings.AUTH_CONFIG.username if settings.AUTH_CONFIG else None
 
     if not all([owner, entity_name]):
         message = "Please provide a valid {}.".format(entity_name)
         if is_cli:
-            Printer.print_error(message)
+            Printer.error(message)
             sys.exit(1)
         else:
             raise PolyaxonClientException(message)
-    return owner, entity_name
+    return owner, entity_namespace, version
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/env_vars/getters/project.py` & `polyaxon-2.0.0rc0/polyaxon/env_vars/getters/project.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,21 +12,23 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 
+from clipped.formatting import Printer
+from clipped.string_utils import validate_slug
+
 from polyaxon.constants.globals import DEFAULT
-from polyaxon.env_vars.getters import get_entity_info
 from polyaxon.env_vars.getters.user import get_local_owner
-from polyaxon.exceptions import PolyaxonClientException
+from polyaxon.exceptions import PolyaxonClientException, PolyaxonSchemaError
 from polyaxon.managers.project import ProjectConfigManager
 from polyaxon.utils.cache import get_local_project
-from polyaxon.utils.formatting import Printer
+from polyaxon.utils.fqn_utils import get_entity_info
 
 
 def get_project_error_message(owner, project):
     if not owner or not project:
         return (
             "Please provide a valid project. "
             "Context: <owner: {}> - <project: {}>".format(
@@ -37,40 +39,60 @@
 
 def get_project_or_local(project=None, is_cli: bool = False):
     from polyaxon import settings
 
     if not project and not ProjectConfigManager.is_initialized():
         error_message = "Please provide a valid project or initialize a project in the current path."
         if is_cli:
-            Printer.print_error(error_message)
+            Printer.error(error_message)
             sys.exit(1)
         else:
             raise PolyaxonClientException(error_message)
 
     if project:
         try:
             owner, project_name = get_entity_info(project)
         except Exception as e:
             if is_cli:
-                Printer.print_error("Please provide a valid project name.\n%s" % e)
+                Printer.error("Please provide a valid project name.\n%s" % e)
                 sys.exit(1)
             else:
                 raise e
     else:
         project = get_local_project(is_cli=is_cli)
 
         owner, project_name = project.owner, project.name
 
     if not owner:
         owner = get_local_owner(is_cli=is_cli)
 
-    if not owner and (not settings.CLI_CONFIG or settings.CLI_CONFIG.is_ce):
+    if not owner and (not settings.CLI_CONFIG or settings.CLI_CONFIG.is_community):
         owner = DEFAULT
 
     if not all([owner, project_name]):
         error_message = get_project_error_message(owner, project_name)
         if is_cli:
-            Printer.print_error(error_message)
+            Printer.error(error_message)
             sys.exit(1)
         else:
             raise PolyaxonClientException(error_message)
+
+    if owner and not validate_slug(owner):
+        error_message = "Received an invalid owner, received the value: `{}`".format(
+            owner
+        )
+        if is_cli:
+            Printer.error(error_message)
+            sys.exit(1)
+        else:
+            raise PolyaxonSchemaError(error_message)
+
+    if project_name and not validate_slug(project_name):
+        error_message = "Received an invalid project, received the value: `{}`".format(
+            project_name
+        )
+        if is_cli:
+            Printer.error(error_message)
+            sys.exit(1)
+        else:
+            raise PolyaxonSchemaError(error_message)
     return owner, project_name
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/env_vars/getters/queue.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/schemas/ssl.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,35 +1,26 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-from polyaxon.exceptions import PolyaxonSchemaError
+from pydantic import Field, StrictStr
 
+from polyaxon.schemas.base import BaseSchemaModel
 
-def get_queue_info(queue: str):
-    if not queue:
-        raise PolyaxonSchemaError("Received an invalid queue {}".format(queue))
 
-    parts = queue.replace(".", "/").split("/")
-    agent = None
-    queue_name = queue
-    if len(parts) == 2:
-        agent, queue_name = parts
-    elif len(parts) > 2:
-        raise PolyaxonSchemaError(
-            "Please provide a valid queue. "
-            "The queue name should be: queue-name to use the default agent or agent-name/queue."
-        )
-
-    return agent, queue_name
+class SSLConfig(BaseSchemaModel):
+    enabled: Optional[bool]
+    secret_name: Optional[StrictStr] = Field(alias="secretName")
+    path: Optional[StrictStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/env_vars/getters/run.py` & `polyaxon-2.0.0rc0/polyaxon/env_vars/getters/run.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,37 +12,40 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import os
 
+from typing import Optional
+
+from clipped.bool_utils import to_bool
+from clipped.formatting import Printer
+
 from polyaxon import settings
 from polyaxon.env_vars.getters.project import get_project_or_local
 from polyaxon.env_vars.keys import (
-    POLYAXON_KEYS_COLLECT_ARTIFACTS,
-    POLYAXON_KEYS_COLLECT_RESOURCES,
-    POLYAXON_KEYS_RUN_INSTANCE,
+    EV_KEYS_COLLECT_ARTIFACTS,
+    EV_KEYS_COLLECT_RESOURCES,
+    EV_KEYS_RUN_INSTANCE,
 )
 from polyaxon.exceptions import PolyaxonClientException
 from polyaxon.managers.run import RunConfigManager
-from polyaxon.utils.bool_utils import to_bool
-from polyaxon.utils.formatting import Printer
 
 
 def get_run_or_local(run_uuid=None, is_cli: bool = False):
     if run_uuid:
         return run_uuid
     if is_cli:
         return RunConfigManager.get_config_or_raise().uuid
 
     try:
         run = RunConfigManager.get_config()
     except TypeError:
-        Printer.print_error(
+        Printer.error(
             "Found an invalid run config or run config cache, "
             "if you are using Polyaxon CLI please run: "
             "`polyaxon config purge --cache-only`",
             sys_exit=True,
         )
     if run:
         return run.uuid
@@ -51,43 +54,39 @@
 
 def get_project_run_or_local(project=None, run_uuid=None, is_cli: bool = True):
     user, project_name = get_project_or_local(project, is_cli=is_cli)
     run_uuid = get_run_or_local(run_uuid, is_cli=is_cli)
     return user, project_name, run_uuid
 
 
-def get_collect_artifacts(arg: bool = None, default: bool = None):
+def get_collect_artifacts(arg: Optional[bool] = None, default: Optional[bool] = None):
     """If set, Polyaxon will collect artifacts"""
     return (
         arg
         if arg is not None
-        else to_bool(
-            os.getenv(POLYAXON_KEYS_COLLECT_ARTIFACTS, default), handle_none=True
-        )
+        else to_bool(os.getenv(EV_KEYS_COLLECT_ARTIFACTS, default), handle_none=True)
     )
 
 
-def get_collect_resources(arg: bool = None, default: bool = None):
+def get_collect_resources(arg: Optional[bool] = None, default: Optional[bool] = None):
     """If set, Polyaxon will collect resources"""
     return (
         arg
         if arg is not None
-        else to_bool(
-            os.getenv(POLYAXON_KEYS_COLLECT_RESOURCES, default), handle_none=True
-        )
+        else to_bool(os.getenv(EV_KEYS_COLLECT_RESOURCES, default), handle_none=True)
     )
 
 
 def get_log_level():
     """If set on the polyaxonfile it will return the log level."""
     return settings.CLIENT_CONFIG.log_level
 
 
-def get_run_info(run_instance: str = None):
-    run_instance = run_instance or os.getenv(POLYAXON_KEYS_RUN_INSTANCE, None)
+def get_run_info(run_instance: Optional[str] = None):
+    run_instance = run_instance or os.getenv(EV_KEYS_RUN_INSTANCE, None)
     if not run_instance:
         raise PolyaxonClientException(
             "Could not get run info, "
             "please make sure this is run is correctly started by Polyaxon."
         )
 
     parts = run_instance.split(".")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/env_vars/getters/user.py` & `polyaxon-2.0.0rc0/polyaxon/env_vars/getters/user.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,40 +12,41 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 
+from clipped.formatting import Printer
+
 from polyaxon.constants.globals import DEFAULT
 from polyaxon.exceptions import PolyaxonClientException
 from polyaxon.managers.user import UserConfigManager
-from polyaxon.utils.formatting import Printer
 
 
 def get_local_owner(is_cli: bool = False):
     from polyaxon import settings
 
     owner = None
     if UserConfigManager.is_initialized():
         try:
             user_config = UserConfigManager.get_config()
-            owner = user_config.organization
+            owner = user_config.organization if user_config else None
         except TypeError:
-            Printer.print_error(
+            Printer.error(
                 "Found an invalid user config or user config cache, "
                 "if you are using Polyaxon CLI please run: "
                 "`polyaxon config purge --cache-only`",
                 sys_exit=True,
             )
 
-    if not owner and (not settings.CLI_CONFIG or settings.CLI_CONFIG.is_ce):
+    if not owner and (not settings.CLI_CONFIG or settings.CLI_CONFIG.is_community):
         owner = DEFAULT
 
     if not owner:
         error = "An context owner (user or organization) is required."
         if is_cli:
-            Printer.print_error(error)
+            Printer.error(error)
             sys.exit(1)
         else:
             raise PolyaxonClientException(error)
     return owner
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/env_vars/getters/versioned_entity.py` & `polyaxon-2.0.0rc0/polyaxon/env_vars/getters/owner_entity.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,102 +1,68 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+
 import sys
 
-from typing import Tuple
+from clipped.formatting import Printer
+from clipped.string_utils import validate_slug
 
-from polyaxon.constants.globals import DEFAULT, DEFAULT_HUB
+from polyaxon.constants.globals import DEFAULT
 from polyaxon.env_vars.getters.user import get_local_owner
 from polyaxon.exceptions import PolyaxonClientException, PolyaxonSchemaError
-from polyaxon.utils.formatting import Printer
-
-
-def get_versioned_entity_full_name(
-    component: str, owner: str = None, tag: str = None
-) -> str:
-    if tag:
-        component = "{}:{}".format(component, tag)
-    if owner:
-        component = "{}/{}".format(owner, component)
-
-    return component
-
-
-def get_versioned_entity_info(
-    entity: str, entity_name: str, default_owner: str
-) -> Tuple[str, str, str]:
-    if not entity:
-        raise PolyaxonSchemaError(
-            "Received an invalid {} reference: `{}`".format(entity_name, entity)
-        )
-    entity_values = entity.split(":")
-    if len(entity_values) > 2:
-        raise PolyaxonSchemaError(
-            "Received an invalid {} reference: `{}`".format(entity_name, entity)
-        )
-    if len(entity_values) == 2:
-        entity_name, version = entity_values
-    else:
-        entity_name, version = entity_values[0], "latest"
-    version = version or "latest"
-    parts = entity_name.replace(".", "/").split("/")
-    owner = default_owner
-    if not parts or len(parts) > 2:
-        raise PolyaxonSchemaError(
-            "Received an invalid {} reference: `{}`".format(entity_name, entity)
-        )
-    if len(parts) == 2:
-        owner, entity_namespace = parts
-    else:
-        entity_namespace = entity_name
-    return owner, entity_namespace, version
-
+from polyaxon.utils.fqn_utils import get_entity_info
 
-def get_component_info(hub: str) -> Tuple[str, str, str]:
-    return get_versioned_entity_info(
-        entity=hub, entity_name="component", default_owner=DEFAULT_HUB
-    )
 
-
-def get_model_info(entity: str, entity_name: str, is_cli: bool = False):
+def resolve_entity_info(entity: str, entity_name: str, is_cli: bool = False):
     from polyaxon import settings
 
     if not entity:
         message = "Please provide a valid {}!".format(entity_name)
         if is_cli:
-            Printer.print_error(message)
+            Printer.error(message)
             sys.exit(1)
         else:
             raise PolyaxonClientException(message)
 
-    owner = get_local_owner(is_cli=is_cli)
+    owner, entity_value = get_entity_info(entity)
 
-    if not owner and (not settings.CLI_CONFIG or settings.CLI_CONFIG.is_ce):
-        owner = DEFAULT
+    if not owner:
+        owner = get_local_owner(is_cli=is_cli)
 
-    owner, entity_namespace, version = get_versioned_entity_info(
-        entity=entity, entity_name=entity_name, default_owner=owner
-    )
+    if not owner and (not settings.CLI_CONFIG or settings.CLI_CONFIG.is_community):
+        owner = DEFAULT
 
-    owner = owner or settings.AUTH_CONFIG.username
+    if not owner:
+        owner = settings.AUTH_CONFIG.username if settings.AUTH_CONFIG else None
 
-    if not all([owner, entity_name]):
+    if not all([owner, entity_value]):
         message = "Please provide a valid {}.".format(entity_name)
         if is_cli:
-            Printer.print_error(message)
+            Printer.error(message)
             sys.exit(1)
         else:
             raise PolyaxonClientException(message)
-    return owner, entity_namespace, version
+    if owner and not validate_slug(owner):
+        raise PolyaxonSchemaError(
+            "Received an invalid owner, received the value: `{}`".format(owner)
+        )
+
+    if entity_value and not validate_slug(entity_value):
+        raise PolyaxonSchemaError(
+            "Received an invalid {}, received the value: `{}`".format(
+                entity_name, entity_value
+            )
+        )
+    return owner, entity_value
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/init/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/fs/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/init/auth.py` & `polyaxon-2.0.0rc0/polyaxon/init/auth.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -24,29 +24,30 @@
 
 def create_auth_context():
     try:
         run_client = RunClient()
     except PolyaxonClientException as e:
         raise PolyaxonContainerException(e)
 
-    retry = 1
+    retry = 0
     done = False
     exp = None
     while not done and retry <= 3:
+        if retry:
+            time.sleep(retry**2)
         try:
             impersonate(
                 owner=run_client.owner,
                 project=run_client.project,
                 run_uuid=run_client.run_uuid,
                 client=run_client.client,
             )
             print("Auth context initialized.")
             return
         except PolyaxonClientException as e:
             retry += 1
             print("Could not establish connection, retrying ...")
-            exp = "Polyaxon auth initialized failed authenticating the operation: {}\n{}".format(
+            exp = "Polyaxon auth initializer failed authenticating the operation: {}\n{}".format(
                 repr(e), traceback.format_exc()
             )
-            time.sleep(retry)
     run_client.log_failed(reason="AuthContext", message=exp)
     raise PolyaxonContainerException("Init job did not succeed authenticating job.")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/init/dockerfile.py` & `polyaxon-2.0.0rc0/polyaxon/init/dockerfile.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,34 +13,27 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import os
 
 from typing import Dict
 
-from polyaxon import settings
-from polyaxon.client import RunClient, get_rel_asset_path
-from polyaxon.exceptions import PolyaxonClientException, PolyaxonContainerException
-from polyaxon.polyboard.artifacts import V1ArtifactKind, V1RunArtifact
+from polyaxon.client.init import get_client_or_raise
+from traceml.artifacts import V1ArtifactKind
 
 
 def create_dockerfile_lineage(dockerfile_path: str, summary: Dict):
     if not dockerfile_path:
         return
     filename = os.path.basename(dockerfile_path)
 
-    if settings.CLIENT_CONFIG.no_api:
+    run_client = get_client_or_raise()
+    if not run_client:
         return
 
-    try:
-        run_client = RunClient()
-    except PolyaxonClientException as e:
-        raise PolyaxonContainerException(e)
-
-    artifact_run = V1RunArtifact(
-        name=filename,
+    run_client.log_artifact_ref(
+        path=dockerfile_path,
         kind=V1ArtifactKind.DOCKERFILE,
-        path=get_rel_asset_path(dockerfile_path),
+        name=filename,
         summary=summary,
         is_input=True,
     )
-    run_client.log_artifact_lineage(artifact_run)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/init/file.py` & `polyaxon-2.0.0rc0/polyaxon/init/file.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,37 +13,32 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import os
 
 from typing import Dict
 
-from polyaxon import settings
-from polyaxon.client import RunClient, get_rel_asset_path
-from polyaxon.exceptions import PolyaxonClientException, PolyaxonContainerException
-from polyaxon.polyboard.artifacts import V1ArtifactKind, V1RunArtifact
-from polyaxon.utils.path_utils import get_base_filename
+from polyaxon.client.init import get_client_or_raise
+from traceml.artifacts import V1ArtifactKind
 
 
 def create_file_lineage(filepath: str, summary: Dict, kind: str):
-    kind = kind or V1ArtifactKind.FILE
-
     if not filepath:
         return
     filename = os.path.basename(filepath)
+    if not kind:
+        if "dockerfile" in filename.lower():
+            kind = V1ArtifactKind.DOCKERFILE
+        else:
+            kind = V1ArtifactKind.FILE
 
-    if settings.CLIENT_CONFIG.no_api:
+    run_client = get_client_or_raise()
+    if not run_client:
         return
 
-    try:
-        run_client = RunClient()
-    except PolyaxonClientException as e:
-        raise PolyaxonContainerException(e)
-
-    artifact_run = V1RunArtifact(
-        name=get_base_filename(filename),
+    run_client.log_artifact_ref(
+        path=filepath,
         kind=kind,
-        path=get_rel_asset_path(filepath),
+        name=filename,
         summary=summary,
         is_input=True,
     )
-    run_client.log_artifact_lineage(artifact_run)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/init/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/async_manager.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/async_manager.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,156 +1,209 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.=
+import re
+
+from typing import Dict, List, Optional, Tuple
 
 from kubernetes_asyncio import client, config
+from kubernetes_asyncio.client import Configuration
 from kubernetes_asyncio.client.rest import ApiException
 
 from polyaxon.exceptions import PolyaxonK8SError
 from polyaxon.k8s.monitor import is_pod_running
 from polyaxon.logger import logger
 
 
 class AsyncK8SManager:
-    def __init__(self, namespace="default", in_cluster=False):
+    def __init__(self, namespace: str = "default", in_cluster: bool = False):
         self.namespace = namespace
         self.in_cluster = in_cluster
 
         self.api_client = None
         self.k8s_api = None
         self.k8s_batch_api = None
-        self.k8s_beta_api = None
+        self.k8s_apps_api = None
         self.k8s_custom_object_api = None
         self.k8s_version_api = None
 
-    async def setup(self, k8s_config=None):
+    @staticmethod
+    def get_managed_by_polyaxon(instance: str) -> str:
+        return "app.kubernetes.io/instance={},app.kubernetes.io/managed-by=polyaxon".format(
+            instance
+        )
+
+    @staticmethod
+    async def load_config(
+        in_cluster: bool = False, k8s_config: Optional[bool] = None
+    ) -> Configuration:
+        if not k8s_config:
+            if in_cluster:
+                config.load_incluster_config()
+            else:
+                await config.load_kube_config()
+        return Configuration.get_default_copy()
+
+    @classmethod
+    def get_config_auth(cls, k8s_config: Optional[Configuration] = None) -> str:
+        if not k8s_config or not k8s_config.api_key:
+            return ""
+        api_key = k8s_config.api_key
+        if api_key.get("authorization", ""):
+            api_key = api_key.get("authorization", "")
+        elif api_key.get("BearerToken", ""):
+            api_key = api_key.get("BearerToken", "")
+        elif api_key.get("Authorization", ""):
+            api_key = api_key.get("Authorization", "")
+        elif api_key.get("Token", ""):
+            api_key = api_key.get("Token", "")
+        api_pattern = re.compile("bearer", re.IGNORECASE)
+        return api_pattern.sub("", api_key).strip()
+
+    async def setup(self, k8s_config: Optional[Configuration] = None):
         if not k8s_config:
             if self.in_cluster:
                 config.load_incluster_config()
             else:
                 await config.load_kube_config()
             self.api_client = client.api_client.ApiClient()
         else:
             self.api_client = client.api_client.ApiClient(configuration=k8s_config)
 
         self.k8s_api = client.CoreV1Api(self.api_client)
         self.k8s_batch_api = client.BatchV1Api(self.api_client)
-        self.k8s_beta_api = client.ExtensionsV1beta1Api(self.api_client)
+        self.k8s_apps_api = client.AppsV1Api(self.api_client)
         self.k8s_custom_object_api = client.CustomObjectsApi(self.api_client)
         self.k8s_version_api = client.VersionApi(self.api_client)
 
     async def close(self):
         if self.api_client:
             await self.api_client.close()
 
     async def set_namespace(self, namespace):
         self.namespace = namespace
 
-    async def get_pod(self, name, reraise=False):
+    async def get_pod(self, name, reraise=False) -> Optional[client.V1Pod]:
         try:
-            return await self.k8s_api.read_namespaced_pod(
+            return await self.k8s_api.read_namespaced_pod(  # type: ignore[attr-defined]
                 name=name, namespace=self.namespace
             )
         except ApiException as e:
             if reraise:
                 raise PolyaxonK8SError("Connection error: %s" % e) from e
             return None
 
-    async def is_pod_running(self, pod_id: str, container_id: str):
-        event = await self.k8s_api.read_namespaced_pod_status(pod_id, self.namespace)
+    async def is_pod_running(self, pod_id: str, container_id: str) -> bool:
+        event = await self.k8s_api.read_namespaced_pod_status(pod_id, self.namespace)  # type: ignore[attr-defined]
         return is_pod_running(event, container_id)
 
-    async def _list_namespace_resource(self, resource_api, reraise=False, **kwargs):
+    async def _list_namespace_resource(
+        self, resource_api, reraise=False, **kwargs
+    ) -> List:
         try:
             res = await resource_api(namespace=self.namespace, **kwargs)
             return [p for p in res.items]
         except ApiException as e:
             logger.error("K8S error: {}".format(e))
             if reraise:
                 raise PolyaxonK8SError("Connection error: %s" % e) from e
             return []
 
-    async def list_pods(self, reraise=False, **kwargs):
+    async def list_pods(self, reraise=False, **kwargs) -> List[client.V1Pod]:
         return await self._list_namespace_resource(
-            resource_api=self.k8s_api.list_namespaced_pod,
+            resource_api=self.k8s_api.list_namespaced_pod,  # type: ignore[attr-defined]
             reraise=reraise,
             **kwargs,
         )
 
-    async def list_jobs(self, reraise=False, **kwargs):
+    async def list_jobs(self, reraise=False, **kwargs) -> List[client.V1Job]:
         return await self._list_namespace_resource(
-            resource_api=self.k8s_batch_api.list_namespaced_job,
+            resource_api=self.k8s_batch_api.list_namespaced_job,  # type: ignore[attr-defined]
             reraise=reraise,
             **kwargs,
         )
 
     async def list_custom_objects(
         self, group, version, plural, reraise=False, **kwargs
-    ):
+    ) -> List:
         return await self._list_namespace_resource(
-            resource_api=self.k8s_custom_object_api.list_namespaced_custom_object,
+            resource_api=self.k8s_custom_object_api.list_namespaced_custom_object,  # type: ignore[attr-defined]
             reraise=reraise,
             group=group,
             version=version,
             plural=plural,
             **kwargs,
         )
 
-    async def list_services(self, reraise=False, **kwargs):
+    async def list_services(
+        self, reraise: bool = False, **kwargs
+    ) -> List[client.V1Service]:
         return await self._list_namespace_resource(
-            resource_api=self.k8s_api.list_namespaced_service,
+            resource_api=self.k8s_api.list_namespaced_service,  # type: ignore[attr-defined]
             reraise=reraise,
             **kwargs,
         )
 
-    async def list_deployments(self, reraise=False, **kwargs):
+    async def list_deployments(
+        self, reraise: bool = False, **kwargs
+    ) -> List[client.V1Deployment]:
         return await self._list_namespace_resource(
-            resource_api=self.k8s_beta_api.list_namespaced_deployment,
+            resource_api=self.k8s_apps_api.list_namespaced_deployment,  # type: ignore[attr-defined]
             reraise=reraise,
             **kwargs,
         )
 
-    async def create_custom_object(self, name, group, version, plural, body):
-        resp = await self.k8s_custom_object_api.create_namespaced_custom_object(
+    async def create_custom_object(
+        self, name: str, group: str, version: str, plural: str, body: Dict
+    ) -> Dict:
+        resp = await self.k8s_custom_object_api.create_namespaced_custom_object(  # type: ignore[attr-defined]
             group=group,
             version=version,
             plural=plural,
             namespace=self.namespace,
             body=body,
         )
         logger.debug("Custom object `{}` was created".format(name))
         return resp
 
-    async def update_custom_object(self, name, group, version, plural, body):
-        resp = await self.k8s_custom_object_api.patch_namespaced_custom_object(
+    async def update_custom_object(
+        self, name: str, group: str, version: str, plural: str, body: Dict
+    ) -> Dict:
+        resp = await self.k8s_custom_object_api.patch_namespaced_custom_object(  # type: ignore[attr-defined]
             name=name,
             group=group,
             version=version,
             plural=plural,
             namespace=self.namespace,
             body=body,
         )
         logger.debug("Custom object `{}` was patched".format(name))
         return resp
 
     async def create_or_update_custom_object(
-        self, name, group, version, plural, body, reraise=False
-    ):
+        self,
+        name: str,
+        group: str,
+        version: str,
+        plural: str,
+        body: Dict,
+        reraise: bool = False,
+    ) -> Tuple[Dict, bool]:
         try:
             create = await self.create_custom_object(
                 name=name, group=group, version=version, plural=plural, body=body
             )
             return create, True
 
         except ApiException as e_create:
@@ -162,30 +215,35 @@
             except ApiException as e:
                 if reraise:
                     raise PolyaxonK8SError(
                         "Connection error: creation %s - update %s" % (e_create, e)
                     ) from e
                 else:
                     logger.error("K8S error: {}".format(e))
+        return {}, False
 
-    async def get_custom_object(self, name, group, version, plural, reraise=False):
+    async def get_custom_object(
+        self, name: str, group: str, version: str, plural: str, reraise: bool = False
+    ) -> Optional[Dict]:
         try:
             return await self.k8s_custom_object_api.get_namespaced_custom_object(
                 name=name,
                 group=group,
                 version=version,
                 plural=plural,
                 namespace=self.namespace,
             )
         except ApiException as e:
             if reraise:
                 raise PolyaxonK8SError("Connection error: %s" % e) from e
             return None
 
-    async def delete_custom_object(self, name, group, version, plural, reraise=False):
+    async def delete_custom_object(
+        self, name: str, group: str, version: str, plural: str, reraise: bool = False
+    ):
         try:
             await self.k8s_custom_object_api.delete_namespaced_custom_object(
                 name=name,
                 group=group,
                 version=version,
                 plural=plural,
                 namespace=self.namespace,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/constants.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/constants.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/custom_resources/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/custom_resources/crd.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/custom_resources/crd.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/custom_resources/operation.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/custom_resources/operation.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/events.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/events.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/k8s_schemas.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/k8s_schemas.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/logging/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/custom_resources/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/logging/async_monitor.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/logging/async_monitor.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,27 +12,21 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import List, Optional, Tuple
 
+from clipped.tz_utils import now
 from kubernetes_asyncio.client.models import V1Pod
 from kubernetes_asyncio.client.rest import ApiException
 
 from polyaxon.k8s.async_manager import AsyncK8SManager
-from polyaxon.polyboard.logging import V1Log, V1Logs
 from polyaxon.types import AwareDT
-from polyaxon.utils.tz_utils import now
-
-
-def get_label_selector(instance: str) -> str:
-    return "app.kubernetes.io/instance={},app.kubernetes.io/managed-by=polyaxon".format(
-        instance
-    )
+from traceml.logging import V1Log, V1Logs
 
 
 async def handle_container_logs(
     k8s_manager: AsyncK8SManager, pod: V1Pod, container_name: str, **params
 ) -> List[V1Log]:
     resp = None
     try:
@@ -79,25 +73,26 @@
 
 async def query_k8s_operation_logs(
     k8s_manager: AsyncK8SManager,
     instance: str,
     last_time: Optional[AwareDT],
     stream: bool = False,
 ) -> Tuple[List[V1Log], Optional[AwareDT]]:
-
     new_time = now()
     params = {}
     if last_time:
         since_seconds = (new_time - last_time).total_seconds() - 1
         params["since_seconds"] = int(since_seconds)
     if stream:
         params["tail_lines"] = V1Logs.CHUNK_SIZE
     logs = []
 
-    pods = await k8s_manager.list_pods(label_selector=get_label_selector(instance))
+    pods = await k8s_manager.list_pods(
+        label_selector=k8s_manager.get_managed_by_polyaxon(instance)
+    )
 
     for pod in pods:
         logs += await handle_pod_logs(
             k8s_manager=k8s_manager,
             pod=pod,
             **params,
         )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/logging/monitor.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/logging/monitor.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,55 +1,54 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from datetime import datetime
-from typing import Any, Iterable, Optional
+from typing import Any, Dict, Iterable, Optional
 
+from clipped.tz_utils import now
 from kubernetes.client.rest import ApiException
 
 from polyaxon.client import RunClient
 from polyaxon.exceptions import PolyaxonK8SError
 from polyaxon.k8s.manager import K8SManager
-from polyaxon.polyboard.logging import V1Log
-from polyaxon.utils.tz_utils import now
+from traceml.logging import V1Log
 
 
 def query_logs(
     k8s_manager: K8SManager,
     pod_id: str,
     container_id: str,
     stream: bool = False,
-    since_seconds: int = None,
+    since_seconds: Optional[int] = None,
 ) -> Any:
-    params = {}
+    params: Dict[str, Any] = {}
     if stream:
         params = {"follow": True, "_preload_content": False}
     if since_seconds:
         params = {"since_seconds": since_seconds}
 
     return k8s_manager.k8s_api.read_namespaced_pod_log(
         pod_id, k8s_manager.namespace, container=container_id, timestamps=True, **params
     )
 
 
 def process_log_line(log_line: str):
-
     if not isinstance(log_line, str):
         log_line = log_line.decode("utf-8")
 
     return V1Log.process_log_line(
         value=log_line.strip(), node=None, pod=None, container=None
     )
 
@@ -81,15 +80,15 @@
 
 
 def process_logs(
     k8s_manager: K8SManager,
     pod_id: str,
     container_id: str,
     filepath: str,
-    since_seconds: int,
+    since_seconds: Optional[int],
 ) -> bool:
     logs = None
     retries = 0
     no_logs = True
     while retries < 3 and no_logs:
         try:
             logs = query_logs(
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/manager.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/manager.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -33,15 +33,14 @@
             self.api_client = None
         else:
             self.api_client = client.api_client.ApiClient(configuration=k8s_config)
 
         self._k8s_api = None
         self._k8s_batch_api = None
         self._k8s_apps_api = None
-        self._k8s_beta_api = None
         self._networking_v1_beta1_api = None
         self._k8s_custom_object_api = None
         self._k8s_version_api = None
         self.namespace = namespace
         self.in_cluster = in_cluster
 
     @property
@@ -59,20 +58,14 @@
     @property
     def k8s_apps_api(self):
         if not self._k8s_apps_api:
             self._k8s_apps_api = client.AppsV1Api(self.api_client)
         return self._k8s_apps_api
 
     @property
-    def k8s_beta_api(self):
-        if not self._k8s_beta_api:
-            self._k8s_beta_api = client.ExtensionsV1beta1Api(self.api_client)
-        return self._k8s_beta_api
-
-    @property
     def networking_v1_beta1_api(self):
         if not self._networking_v1_beta1_api:
             self._networking_v1_beta1_api = client.NetworkingV1beta1Api(self.api_client)
         return self._networking_v1_beta1_api
 
     @property
     def k8s_custom_object_api(self):
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/monitor.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/monitor.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/namespace.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/namespace.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/nodes.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/nodes.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,25 +1,25 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from polyaxon.constants.globals import UNKNOWN
-from polyaxon.utils.units import to_cpu_value, to_memory_bytes
+from traceml.processors.units_processors import to_cpu_value, to_memory_bytes
 
 
 class NodeLifeCycle:
     UNKNOWN = UNKNOWN
     READY = "ready"
     NOT_READY = "notReady"
     DELETED = "deleted"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/pods.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/pods.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/k8s/run_instance.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/logging/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/live_state.py` & `polyaxon-2.0.0rc0/polyaxon/live_state.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/main.py` & `polyaxon-2.0.0rc0/polyaxon/main.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,38 +13,39 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import os
 
 import click
-import click_completion
+
+from clipped.bool_utils import to_bool
+from clipped.formatting import Printer
 
 from polyaxon import settings
 from polyaxon.cli.admin import admin
+from polyaxon.cli.artifacts import artifacts
 from polyaxon.cli.auth import login, logout, whoami
 from polyaxon.cli.check import check
 from polyaxon.cli.completion import completion
+from polyaxon.cli.components import components
 from polyaxon.cli.config import config
 from polyaxon.cli.dashboard import dashboard
-from polyaxon.cli.hub import hub
 from polyaxon.cli.init import init
+from polyaxon.cli.models import models
 from polyaxon.cli.operations import ops
 from polyaxon.cli.port_forward import port_forward
 from polyaxon.cli.projects import project
-from polyaxon.cli.registry import registry
 from polyaxon.cli.run import run
 from polyaxon.cli.session import set_versions_config
 from polyaxon.cli.version import check_cli_version, upgrade, version
 from polyaxon.logger import clean_outputs, configure_logger
-from polyaxon.utils.bool_utils import to_bool
-from polyaxon.utils.formatting import Printer
+from polyaxon.services.values import PolyaxonServices
 
 DOCS_GEN = to_bool(os.environ.get("POLYAXON_DOCS_GEN", False))
-click_completion.init()
 
 
 @click.group()
 @click.option(
     "-v", "--verbose", is_flag=True, default=False, help="Turn on debug logging"
 )
 @click.option(
@@ -73,19 +74,19 @@
 
       - Otherwise Polyaxon will use the default global path for the cache.
 
     You can check the version of your CLI by running:
 
       - polyaxon version
 
-    To can check the version of the CLI and the server, and check the compatibility matrix:
+    You can check the version of the CLI and the server, and the compatibility matrix with:
 
       - polyaxon version --check
 
-    To Enable debug mode, you can use the `-v` flag:
+    To enable the debug mode, you can use the `-v` flag:
 
       - polyaxon -v ...
 
     To configure your host:
 
       - polyaxon config set --host=...
 
@@ -118,15 +119,15 @@
     For more information, please visit https://polyaxon.com/docs/core/cli/
 
     Check the help available for each command listed below by appending `-h`.
     """
     settings.set_cli_config()
     configure_logger(verbose)
     if settings.CLIENT_CONFIG.no_op:
-        Printer.print_warning(
+        Printer.warning(
             "POLYAXON_NO_OP is set to `true`, some commands will not function correctly."
         )
     context.obj = context.obj or {}
     if not settings.CLIENT_CONFIG.client_header:
         settings.CLIENT_CONFIG.set_cli_header()
     context.obj["offline"] = offline
     if offline:
@@ -144,27 +145,23 @@
         "docker",
         "initializer",
         "sidecar",
         "proxy",
         "notify",
         "upgrade",
         "port-forward",
+        "sandbox",
     ]
-    if not settings.CLI_CONFIG.installation:
-        pass
-    if (
-        not (
-            context.invoked_subcommand in non_check_cmds
-            or offline
-            or settings.CLIENT_CONFIG.no_api
-            or settings.CLIENT_CONFIG.is_ops
-            or DOCS_GEN
-        )
-        and not settings.CLI_CONFIG.installation
-    ):
+    if not (
+        context.invoked_subcommand in non_check_cmds
+        or offline
+        or settings.CLIENT_CONFIG.no_api
+        or PolyaxonServices.get_service_name()
+        or DOCS_GEN
+    ) and not (settings.CLI_CONFIG or settings.CLI_CONFIG.installation):
         cli_config = set_versions_config(is_cli=False)
         settings.CLI_CONFIG = cli_config
         check_cli_version(cli_config, is_cli=False)
 
 
 cli.add_command(login)
 cli.add_command(logout)
@@ -172,37 +169,62 @@
 cli.add_command(upgrade)
 cli.add_command(version)
 cli.add_command(config)
 cli.add_command(check)
 cli.add_command(init)
 cli.add_command(project)
 cli.add_command(ops)
-cli.add_command(hub)
-cli.add_command(registry)
+cli.add_command(artifacts)
+cli.add_command(components)
+cli.add_command(models)
 cli.add_command(run)
 cli.add_command(dashboard)
 cli.add_command(admin)
 cli.add_command(port_forward)
 cli.add_command(completion)
-if settings.CLIENT_CONFIG.is_ops:
 
-    from polyaxon.cli.components.agent import agent
-    from polyaxon.cli.components.clean_artifacts import clean_artifacts
-    from polyaxon.cli.components.clean_ops import clean_ops
-    from polyaxon.cli.components.docker import docker
-    from polyaxon.cli.components.initializer import initializer
-    from polyaxon.cli.components.notifier import notify
-    from polyaxon.cli.components.proxies import proxy
-    from polyaxon.cli.components.sidecar import sidecar
-    from polyaxon.cli.components.tuner import tuner
-    from polyaxon.cli.components.wait import wait
+# INIT
+if PolyaxonServices.is_init():
+    from polyaxon.cli.services.clean_artifacts import clean_artifacts
+    from polyaxon.cli.services.docker import docker
+    from polyaxon.cli.services.initializer import initializer
+    from polyaxon.cli.services.wait import wait
 
-    cli.add_command(agent)
     cli.add_command(clean_artifacts)
-    cli.add_command(clean_ops)
     cli.add_command(docker)
     cli.add_command(initializer)
+    cli.add_command(wait)
+
+# Events
+if PolyaxonServices.is_events_handlers():
+    from polyaxon.cli.services.notifier import notify
+
     cli.add_command(notify)
-    cli.add_command(proxy)
+
+# Sidecar
+if PolyaxonServices.is_sidecar():
+    from polyaxon.cli.services.sidecar import sidecar
+
     cli.add_command(sidecar)
+
+# Tuner
+if PolyaxonServices.is_hp_search():
+    from polyaxon.cli.services.tuner import tuner
+
     cli.add_command(tuner)
-    cli.add_command(wait)
+
+# Agents
+if PolyaxonServices.is_agent():
+    from polyaxon.cli.services.agent import agent
+
+    cli.add_command(agent)
+
+try:
+    from haupt.cli.sandbox import sandbox
+
+    cli.add_command(sandbox)
+except ImportError:
+    pass
+
+
+def main():
+    cli(auto_envvar_prefix="POLYAXON_CLI")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/k8s/run_instance.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/agent.py` & `polyaxon-2.0.0rc0/polyaxon/managers/home.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,58 +1,47 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import os
 
+from typing import Dict, Type
+
 from polyaxon.config_reader.manager import ConfigManager
 from polyaxon.config_reader.spec import ConfigSpec
-from polyaxon.containers.contexts import (
-    CONTEXT_TMP_POLYAXON_PATH,
-    CONTEXT_USER_POLYAXON_PATH,
-)
-from polyaxon.k8s.namespace import DEFAULT_NAMESPACE
-from polyaxon.managers.base import BaseConfigManager
-from polyaxon.schemas.cli.agent_config import AgentConfig
-
+from polyaxon.managers.base import BaseConfigManager, ManagerVisibility
+from polyaxon.schemas.api.home import HomeConfig
 
-class AgentConfigManager(BaseConfigManager):
-    """Manages agent configuration .agent file."""
-
-    VISIBILITY = BaseConfigManager.VISIBILITY_GLOBAL
-    CONFIG_FILE_NAME = ".agent"
-    CONFIG = AgentConfig
 
-    @classmethod
-    def get_config_or_default(cls):
-        if not cls.is_initialized():
-            return cls.CONFIG(
-                namespace=DEFAULT_NAMESPACE, connections=[], secret_resources=[]
-            )  # pylint:disable=not-callable
+class HomeConfigManager(BaseConfigManager):
+    """Manages home configuration .home file."""
 
-        return cls.get_config()
+    VISIBILITY = ManagerVisibility.GLOBAL
+    CONFIG_FILE_NAME = ".home"
+    CONFIG: Type[HomeConfig] = HomeConfig
 
     @classmethod
-    def get_config_from_env(cls) -> AgentConfig:
-        tmp_path = os.path.join(CONTEXT_TMP_POLYAXON_PATH, ".agent")
-        user_path = os.path.join(CONTEXT_USER_POLYAXON_PATH, ".agent")
-
-        config_paths = [
-            os.environ,
-            ConfigSpec(tmp_path, config_type=".json", check_if_exists=False),
-            ConfigSpec(user_path, config_type=".json", check_if_exists=False),
-            {"dummy": "dummy"},
-        ]
+    def get_config_defaults(cls) -> Dict[str, str]:
+        return {"path": cls.get_global_config_path()}
 
-        agent_config = ConfigManager.read_configs(config_paths)
-        return AgentConfig.from_dict(agent_config.data)
+    @classmethod
+    def get_config_from_env(cls) -> HomeConfig:
+        glob_path = cls.get_global_config_path()
+        home_config = ConfigManager.read_configs(
+            [
+                ConfigSpec(glob_path, config_type=".json", check_if_exists=False),
+                os.environ,
+                {"dummy": "dummy"},
+            ]
+        )
+        return HomeConfig.from_dict(home_config.data)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/auth.py` & `polyaxon-2.0.0rc0/polyaxon/managers/auth.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,51 +1,52 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import os
 
+from typing import Type
+
 from polyaxon.config_reader.manager import ConfigManager
 from polyaxon.config_reader.spec import ConfigSpec
-from polyaxon.containers.contexts import (
-    CONTEXT_MOUNT_AUTH,
-    CONTEXT_TMP_POLYAXON_PATH,
-    CONTEXT_USER_POLYAXON_PATH,
-)
-from polyaxon.managers.base import BaseConfigManager
+from polyaxon.contexts import paths as ctx_paths
+from polyaxon.managers.base import BaseConfigManager, ManagerVisibility
 from polyaxon.schemas.api.authentication import AccessTokenConfig
 
 
 class AuthConfigManager(BaseConfigManager):
     """Manages access token configuration .auth file."""
 
-    VISIBILITY = BaseConfigManager.VISIBILITY_GLOBAL
+    VISIBILITY = ManagerVisibility.GLOBAL
     CONFIG_FILE_NAME = ".auth"
-    CONFIG = AccessTokenConfig
+    CONFIG: Type[AccessTokenConfig] = AccessTokenConfig
 
     @classmethod
     def get_config_from_env(cls) -> AccessTokenConfig:
-        tmp_path = os.path.join(CONTEXT_TMP_POLYAXON_PATH, cls.CONFIG_FILE_NAME)
-        user_path = os.path.join(CONTEXT_USER_POLYAXON_PATH, cls.CONFIG_FILE_NAME)
+        tmp_path = cls.get_tmp_config_path()
+        user_path = cls.get_global_config_path()
+
         auth_config = ConfigManager.read_configs(
             [
-                os.environ,
                 ConfigSpec(tmp_path, config_type=".json", check_if_exists=False),
                 ConfigSpec(user_path, config_type=".json", check_if_exists=False),
+                os.environ,
                 ConfigSpec(
-                    CONTEXT_MOUNT_AUTH, config_type=".json", check_if_exists=False
+                    ctx_paths.CONTEXT_MOUNT_AUTH,
+                    config_type=".json",
+                    check_if_exists=False,
                 ),
                 {"dummy": "dummy"},
             ]
         )
         return AccessTokenConfig.from_dict(auth_config.data)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/base.py` & `polyaxon-2.0.0rc0/polyaxon/managers/base.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,239 +13,251 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import os
 
 from collections.abc import Mapping
-from typing import Callable, Optional
+from typing import Any, Dict, Optional, Type
 
 import ujson
 
-from polyaxon.containers.contexts import polyaxon_user_path
+from clipped.enums_utils import PEnum
+from clipped.path_utils import check_or_create_path
+
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.logger import logger
-from polyaxon.schemas.base import BaseConfig
+from polyaxon.schemas.base import BaseSchemaModel
+
+
+class ManagerVisibility(str, PEnum):
+    GLOBAL = "global"
+    LOCAL = "local"
+    ALL = "all"
 
 
 class BaseConfigManager:
     """Base class for managing a configuration file."""
 
-    VISIBILITY_GLOBAL = "global"
-    VISIBILITY_LOCAL = "local"
-    VISIBILITY_ALL = "all"
-    VISIBILITY_PATH = "path"
-
-    VISIBILITY = None
-    IS_POLYAXON_DIR = False
-    CONFIG_PATH = None
-    CONFIG_FILE_NAME = None
-    CONFIG = None
+    VISIBILITY: ManagerVisibility = None
+    IN_POLYAXON_DIR = False
+    CONFIG_PATH: Optional[str] = None
+    CONFIG_FILE_NAME: Optional[str] = None
+    CONFIG: Type[BaseSchemaModel] = None
 
     @classmethod
-    def is_global(cls, visibility=None):
+    def is_global(cls, visibility: Optional[ManagerVisibility] = None) -> bool:
         visibility = visibility or cls.VISIBILITY
-        return visibility == cls.VISIBILITY_GLOBAL
+        return visibility == ManagerVisibility.GLOBAL
 
     @classmethod
-    def is_local(cls, visibility=None):
+    def is_local(cls, visibility=None) -> bool:
         visibility = visibility or cls.VISIBILITY
-        return visibility == cls.VISIBILITY_LOCAL
+        return visibility == ManagerVisibility.LOCAL
 
     @classmethod
-    def is_all_visibility(cls, visibility=None):
+    def is_all_visibility(cls, visibility=None) -> bool:
         visibility = visibility or cls.VISIBILITY
-        return visibility == cls.VISIBILITY_ALL
+        return visibility == ManagerVisibility.ALL
 
     @classmethod
-    def is_path_visibility(cls, visibility=None):
-        visibility = visibility or cls.VISIBILITY
-        return visibility == cls.VISIBILITY_PATH
+    def get_visibility(cls) -> str:
+        if cls.is_all_visibility():
+            return (
+                ManagerVisibility.LOCAL
+                if cls.is_locally_initialized()
+                else ManagerVisibility.GLOBAL
+            )
+        return cls.VISIBILITY
+
+    @classmethod
+    def set_config_path(cls, config_path: Optional[str]):
+        cls.CONFIG_PATH = config_path
 
     @staticmethod
-    def _create_dir(dir_path):
-        if not os.path.exists(dir_path):
-            try:
-                os.makedirs(dir_path)
-            except OSError:
-                # Except permission denied and potential race conditions
-                # in multi-threaded environments.
-                logger.error("Could not create config directory `%s`", dir_path)
+    def _create_dir(config_file_path):
+        try:
+            check_or_create_path(config_file_path, is_dir=False)
+        except OSError:
+            # Except permission denied and potential race conditions
+            # in multi-threaded environments.
+            logger.error(
+                "Could not create config context directory for file `%s`",
+                config_file_path,
+            )
 
-    @classmethod
-    def create_config_filepath(cls, visibility=None):
-        if cls.is_local(visibility):
-            # Local to this directory
-            base_path = os.path.join(".")
-            if cls.IS_POLYAXON_DIR:
-                # Add it to the current "./.polyaxon"
-                base_path = os.path.join(base_path, ".polyaxon")
-                cls._create_dir(base_path)
-        elif cls.CONFIG_PATH:  # Custom path
-            pass
-        else:  # Handle both global and all cases
-            base_path = polyaxon_user_path()
-            cls._create_dir(base_path)
+    @staticmethod
+    def _get_and_check_path(config_path: str) -> Optional[str]:
+        if config_path and os.path.isfile(config_path):
+            return config_path
+        return None
 
     @classmethod
     def get_local_config_path(cls) -> str:
         # local to this directory
         base_path = os.path.join(".")
-        if cls.IS_POLYAXON_DIR:
+        if cls.IN_POLYAXON_DIR:
             # Add it to the current "./.polyaxon"
             base_path = os.path.join(base_path, ".polyaxon")
         config_path = os.path.join(base_path, cls.CONFIG_FILE_NAME)
         return config_path
 
-    @staticmethod
-    def _get_and_check_path(fct: Callable) -> Optional[str]:
-        config_path = fct()
-        if config_path and os.path.exists(config_path):
-            return config_path
-        return None
-
     @classmethod
     def check_local_config_path(cls) -> Optional[str]:
-        return cls._get_and_check_path(cls.get_local_config_path)
+        return cls._get_and_check_path(cls.get_local_config_path())
 
     @classmethod
     def get_global_config_path(cls) -> str:
-        base_path = polyaxon_user_path()
+        if cls.CONFIG_PATH:
+            base_path = os.path.join(cls.CONFIG_PATH, ".polyaxon")
+        else:
+            base_path = ctx_paths.CONTEXT_USER_POLYAXON_PATH
         config_path = os.path.join(base_path, cls.CONFIG_FILE_NAME)
         return config_path
 
     @classmethod
     def check_global_config_path(cls) -> Optional[str]:
-        return cls._get_and_check_path(cls.get_global_config_path)
+        return cls._get_and_check_path(cls.get_global_config_path())
 
     @classmethod
-    def get_custom_config_path(cls) -> str:
-        config_path = os.path.join(cls.CONFIG_PATH, cls.CONFIG_FILE_NAME)
+    def get_tmp_config_path(cls) -> str:
+        base_path = ctx_paths.CONTEXT_TMP_POLYAXON_PATH
+        config_path = os.path.join(base_path, cls.CONFIG_FILE_NAME)
         return config_path
 
     @classmethod
-    def check_custom_config_path(cls) -> Optional[str]:
-        return cls._get_and_check_path(cls.get_custom_config_path)
-
-    @classmethod
-    def get_config_filepath(cls, create=True, visibility=None):
-        if create:
-            cls.create_config_filepath(visibility=visibility)
-
+    def get_config_filepath(
+        cls, create: bool = True, visibility: Optional[str] = None
+    ) -> str:
+        config_path = None
         if cls.is_local(visibility):
-            return cls.get_local_config_path()
-        if cls.is_path_visibility(visibility):
-            return cls.get_custom_config_path()
-        if cls.is_global(visibility):
-            return cls.get_global_config_path()
-        if cls.is_all_visibility(visibility):
+            config_path = cls.get_local_config_path()
+        elif cls.is_global(visibility):
+            config_path = cls.get_global_config_path()
+        elif cls.is_all_visibility(visibility):
             config_path = cls.check_local_config_path()
-            if config_path:
-                return config_path
-            return cls.get_global_config_path()
+            if not config_path:
+                config_path = cls.get_global_config_path()
 
-        return None
+        if create and config_path:
+            cls._create_dir(config_path)
+        return config_path
 
     @classmethod
-    def init_config(cls, visibility=None):
+    def init_config(cls, visibility: Optional[str] = None):
         config = cls.get_config()
         cls.set_config(config, init=True, visibility=visibility)
 
     @classmethod
-    def is_locally_initialized(cls):
+    def is_locally_initialized(cls) -> Optional[str]:
         return cls.check_local_config_path()
 
     @classmethod
-    def is_initialized(cls):
-        config_filepath = cls.get_config_filepath(create=False)
-        return config_filepath and os.path.isfile(config_filepath)
+    def is_initialized(cls) -> Optional[str]:
+        return cls._get_and_check_path(cls.get_config_filepath(create=False))
 
     @classmethod
-    def set_config(cls, config, init=False, visibility=None):
+    def set_config(
+        cls, config: Any, init: bool = False, visibility: Optional[str] = None
+    ):
         config_filepath = cls.get_config_filepath(visibility=visibility)
 
         if os.path.isfile(config_filepath) and init:
             logger.debug(
                 "%s file already present at %s\n", cls.CONFIG_FILE_NAME, config_filepath
             )
             return
 
         with open(config_filepath, "w") as config_file:
-            if hasattr(config, "to_dict"):
+            if hasattr(config, "to_json"):
+                logger.debug(
+                    "Setting %s in the file %s\n",
+                    config.to_dict(),
+                    cls.CONFIG_FILE_NAME,
+                )
+                config_file.write(config.to_json())
+            elif hasattr(config, "to_dict"):
                 logger.debug(
                     "Setting %s in the file %s\n",
                     config.to_dict(),
                     cls.CONFIG_FILE_NAME,
                 )
-                config_file.write(ujson.dumps(config.to_dict()))
+                config_file.write(config.to_dict())
             elif isinstance(config, Mapping):
                 config_file.write(ujson.dumps(config))
             else:
                 logger.debug(
                     "Setting %s in the file %s\n", config, cls.CONFIG_FILE_NAME
                 )
                 config_file.write(config)
 
     @classmethod
-    def get_config(cls, check: bool = True):
+    def get_config(cls, check: bool = True) -> Optional[Any]:
         if check and not cls.is_initialized():
             return None
 
         config_filepath = cls.get_config_filepath()
         logger.debug(
             "Reading config `%s` from path: %s\n", cls.__name__, config_filepath
         )
         return cls.read_from_path(config_filepath)
 
     @classmethod
-    def read_from_path(cls, config_filepath: str):
-        if issubclass(cls.CONFIG, BaseConfig):
+    def read_from_path(cls, config_filepath: str) -> Optional[Any]:
+        if issubclass(cls.CONFIG, BaseSchemaModel):
             return cls.CONFIG.read(config_filepath)
         with open(config_filepath, "r") as config_file:
             config_str = config_file.read()
         return cls.CONFIG(**ujson.loads(config_str))
 
     @classmethod
-    def get_config_or_default(cls):
+    def get_config_defaults(cls) -> Dict:
+        return {}
+
+    @classmethod
+    def get_config_or_default(cls) -> Any:
         if not cls.is_initialized():
-            return cls.CONFIG()  # pylint:disable=not-callable
+            return cls.CONFIG(
+                **cls.get_config_defaults()
+            )  # pylint:disable=not-callable
 
         return cls.get_config(check=False)
 
     @classmethod
-    def get_config_from_env(cls, **kwargs):
+    def get_config_from_env(cls, **kwargs) -> Any:
         raise NotImplementedError
 
     @classmethod
-    def get_value(cls, key):
+    def get_value(cls, key) -> Optional[Any]:
         config = cls.get_config()
         if config:
             if hasattr(config, key):
                 return getattr(config, key)
             else:
                 logger.warning("Config `%s` has no key `%s`", cls.CONFIG.__name__, key)
 
         return None
 
     @classmethod
-    def purge(cls, visibility=None):
+    def purge(cls, visibility: Optional[str] = None):
         def _purge():
             if config_filepath and os.path.isfile(config_filepath):
                 os.remove(config_filepath)
 
         if cls.is_all_visibility():
             if visibility:
                 config_filepath = cls.get_config_filepath(
                     create=False, visibility=visibility
                 )
                 _purge()
             else:
                 config_filepath = cls.get_config_filepath(
-                    create=False, visibility=cls.VISIBILITY_LOCAL
+                    create=False, visibility=ManagerVisibility.LOCAL
                 )
                 _purge()
                 config_filepath = cls.get_config_filepath(
-                    create=False, visibility=cls.VISIBILITY_GLOBAL
+                    create=False, visibility=ManagerVisibility.GLOBAL
                 )
                 _purge()
         else:
             config_filepath = cls.get_config_filepath(create=False)
             _purge()
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/cli.py` & `polyaxon-2.0.0rc0/polyaxon/managers/cli.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,44 +1,53 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+import datetime
 
-from polyaxon.managers.base import BaseConfigManager
+from typing import TYPE_CHECKING, Optional, Type
+
+from clipped.tz_utils import now
+
+from polyaxon.managers.base import BaseConfigManager, ManagerVisibility
 from polyaxon.schemas.cli.cli_config import CliConfig
-from polyaxon.utils.tz_utils import now
+
+if TYPE_CHECKING:
+    from polyaxon.schemas.api.compatibility import V1Compatibility
+    from polyaxon.schemas.api.installation import V1Installation
+    from polyaxon.schemas.api.log_handler import V1LogHandler
 
 
 class CliConfigManager(BaseConfigManager):
     """Manages access cli configuration .cli file."""
 
-    VISIBILITY = BaseConfigManager.VISIBILITY_GLOBAL
+    VISIBILITY = ManagerVisibility.GLOBAL
     CONFIG_FILE_NAME = ".cli"
-    CONFIG = CliConfig
+    CONFIG: Type[CliConfig] = CliConfig
 
     @classmethod
     def reset(
         cls,
-        current_version=None,
-        installation=None,
-        compatibility=None,
-        log_handler=None,
-        last_check=None,
-    ):
+        current_version: Optional[str] = None,
+        installation: Optional["V1Installation"] = None,
+        compatibility: Optional["V1Compatibility"] = None,
+        log_handler: Optional["V1LogHandler"] = None,
+        last_check: Optional[datetime.datetime] = None,
+    ) -> Optional[CliConfig]:
         if not any(
             [current_version, installation, compatibility, log_handler, last_check]
         ):
             return
         cli_config = cls.get_config_or_default()
         if current_version is not None:
             cli_config.current_version = current_version
@@ -51,17 +60,17 @@
         if last_check is not None:
             cli_config.last_check = cli_config.get_last_check(last_check)
 
         CliConfigManager.set_config(config=cli_config)
         return cli_config
 
     @classmethod
-    def should_check(cls, interval: int = None):
+    def should_check(cls, interval: Optional[int] = None) -> bool:
         config = cls.get_config_or_default()
         should_check = config.should_check(interval=interval)
         if should_check:
             cls.reset(last_check=now())
         return should_check
 
     @classmethod
-    def get_config_from_env(cls):
+    def get_config_from_env(cls) -> Optional[CliConfig]:
         pass
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/client.py` & `polyaxon-2.0.0rc0/polyaxon/managers/client.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,47 +1,45 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import os
 
+from typing import Type
+
 from polyaxon.config_reader.manager import ConfigManager
 from polyaxon.config_reader.spec import ConfigSpec
-from polyaxon.containers.contexts import (
-    CONTEXT_TMP_POLYAXON_PATH,
-    CONTEXT_USER_POLYAXON_PATH,
-)
-from polyaxon.managers.base import BaseConfigManager
+from polyaxon.managers.base import BaseConfigManager, ManagerVisibility
 from polyaxon.schemas.cli.client_config import ClientConfig
 
 
 class ClientConfigManager(BaseConfigManager):
     """Manages client configuration .client file."""
 
-    VISIBILITY = BaseConfigManager.VISIBILITY_GLOBAL
+    VISIBILITY = ManagerVisibility.GLOBAL
     CONFIG_FILE_NAME = ".client"
-    CONFIG = ClientConfig
+    CONFIG: Type[ClientConfig] = ClientConfig
 
     @classmethod
     def get_config_from_env(cls, **kwargs) -> ClientConfig:
-        tmp_path = os.path.join(CONTEXT_TMP_POLYAXON_PATH, cls.CONFIG_FILE_NAME)
-        user_path = os.path.join(CONTEXT_USER_POLYAXON_PATH, cls.CONFIG_FILE_NAME)
+        tmp_path = cls.get_tmp_config_path()
+        glob_path = cls.get_global_config_path()
 
         config = ConfigManager.read_configs(
             [
                 ConfigSpec(tmp_path, config_type=".json", check_if_exists=False),
-                ConfigSpec(user_path, config_type=".json", check_if_exists=False),
+                ConfigSpec(glob_path, config_type=".json", check_if_exists=False),
                 os.environ,
             ]
         )
         return ClientConfig.from_dict(config.data)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/compose.py` & `polyaxon-2.0.0rc0/polyaxon/managers/git.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,32 +1,40 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Type
 
-from polyaxon.managers.base import BaseConfigManager
+from polyaxon.managers.base import BaseConfigManager, ManagerVisibility
+from polyaxon.polyflow import V1Init
+from polyaxon.schemas.types import V1GitType
 
 
-class ComposeConfigManager(BaseConfigManager):
-    """Manages access cli configuration .compose file."""
+class GitConfigManager(BaseConfigManager):
+    """Manages access token configuration .auth file."""
 
-    VISIBILITY = BaseConfigManager.VISIBILITY_GLOBAL
-    CONFIG_FILE_NAME = ".compose/.env"
-    FREQUENCY = 3
+    VISIBILITY = ManagerVisibility.LOCAL
+    CONFIG_FILE_NAME = "polyaxongit.yaml"
+    CONFIG: Type[V1Init] = V1Init
 
     @classmethod
-    def get_config_filepath(cls, create=True):
-        path = super().get_config_filepath(create=create)
-        values = path.split("/")[:-1]
-        cls._create_dir("/".join(values))
-        return path
+    def get_config_from_env(cls) -> V1Init:
+        pass
+
+    @classmethod
+    def get_config(cls, check: bool = True) -> V1Init:
+        config = super(GitConfigManager, cls).get_config(check=check)
+        if not config.git:
+            config.git = V1GitType()
+
+        return config
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/deploy.py` & `polyaxon-2.0.0rc0/polyaxon/managers/deploy.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,157 +12,161 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import shutil
 
+from typing import Dict, Optional
+
 import click
 
+from clipped.formatting import Printer
+
 from polyaxon import settings
 from polyaxon.deploy.operators.compose import ComposeOperator
 from polyaxon.deploy.operators.docker import DockerOperator
 from polyaxon.deploy.operators.helm import HelmOperator
 from polyaxon.deploy.operators.kubectl import KubectlOperator
 from polyaxon.deploy.schemas.deployment import DeploymentConfig
 from polyaxon.deploy.schemas.deployment_types import DeploymentCharts, DeploymentTypes
 from polyaxon.exceptions import PolyaxonException, PolyaxonOperatorException
+from polyaxon.k8s.namespace import DEFAULT_NAMESPACE
 from polyaxon.managers.compose import ComposeConfigManager
-from polyaxon.utils.formatting import Printer
 
 
 class DeployConfigManager:
     def __init__(
         self,
         config: DeploymentConfig = None,
-        filepath=None,
-        deployment_type=False,
-        manager_path=None,
-        dry_run=False,
+        filepath: Optional[str] = None,
+        deployment_type: bool = False,
+        manager_path: Optional[str] = None,
+        dry_run: bool = False,
     ):
         self.config = config
         self.filepath = filepath
         self.type = deployment_type
         self.manager_path = manager_path
         self.dry_run = dry_run
         self.kubectl = KubectlOperator()
         self.helm = HelmOperator()
         self.docker = DockerOperator()
         self.compose = ComposeOperator()
 
     @property
-    def deployment_type(self):
+    def deployment_type(self) -> str:
         if self.type:
             return self.type
         if self.config and self.config.deployment_type:
             return self.config.deployment_type
         return DeploymentTypes.KUBERNETES
 
     @property
-    def deployment_version(self):
+    def deployment_version(self) -> Optional[str]:
         if self.config and self.config.deployment_version:
             return self.config.deployment_version
         return None
 
     @property
-    def deployment_namespace(self):
+    def deployment_namespace(self) -> str:
         if self.config and self.config.namespace:
             return self.config.namespace
-        return "polyaxon"
+        return DEFAULT_NAMESPACE
 
     @property
-    def k8s_chart(self):
+    def k8s_chart(self) -> str:
         deployment_chart = DeploymentCharts.PLATFORM
         if self.config and self.config.deployment_chart:
             deployment_chart = self.config.deployment_chart
         if deployment_chart == DeploymentCharts.PLATFORM:
             return "polyaxon/polyaxon"
         else:
             return "polyaxon/agent"
 
     @property
-    def release_name(self):
+    def release_name(self) -> str:
         if self.config and self.config.release_name:
             return self.config.release_name
         deployment_chart = DeploymentCharts.PLATFORM
         if self.config and self.config.deployment_chart:
             deployment_chart = self.config.deployment_chart
         if deployment_chart == DeploymentCharts.PLATFORM:
             return "polyaxon"
         else:
             return "agent"
 
     @property
-    def is_kubernetes(self):
+    def is_kubernetes(self) -> bool:
         return self.deployment_type in {
             DeploymentTypes.KUBERNETES,
             DeploymentTypes.MINIKUBE,
             DeploymentTypes.MICRO_K8S,
         }
 
     @property
-    def is_docker_compose(self):
+    def is_docker_compose(self) -> bool:
         return self.deployment_type == DeploymentTypes.DOCKER_COMPOSE
 
     @property
-    def is_docker(self):
+    def is_docker(self) -> bool:
         return self.deployment_type == DeploymentTypes.DOCKER
 
     @property
-    def is_heroku(self):
+    def is_heroku(self) -> bool:
         return self.deployment_type == DeploymentTypes.HEROKU
 
     @property
-    def is_valid(self):
-        return self.deployment_type in DeploymentTypes.VALUES
+    def is_valid(self) -> bool:
+        return self.deployment_type in DeploymentTypes.to_list()
 
-    def check_for_kubernetes(self):
+    def check_for_kubernetes(self) -> bool:
         # Deployment on k8s requires helm & kubectl to be installed
         if not self.kubectl.check():
             raise PolyaxonException("kubectl is required to run this command.")
-        Printer.print_success("kubectl is installed")
+        Printer.success("kubectl is installed")
 
         if not self.helm.check():
             raise PolyaxonException("helm is required to run this command.")
-        Printer.print_success("helm is installed")
+        Printer.success("helm is installed")
 
         # Check that polyaxon/polyaxon is set and up-to date
         self.helm.execute(
             args=["repo", "add", "polyaxon", "https://charts.polyaxon.com"]
         )
         self.helm.execute(args=["repo", "update"])
         return True
 
-    def check_for_docker_compose(self):
+    def check_for_docker_compose(self) -> bool:
         # Deployment on docker compose requires Docker & Docker Compose to be installed
         if not self.docker.check():
             raise PolyaxonException("Docker is required to run this command.")
-        Printer.print_success("Docker is installed")
+        Printer.success("Docker is installed")
 
         if not self.compose.check():
             raise PolyaxonException("Docker Compose is required to run this command.")
-        Printer.print_success("Docker Compose is installed")
+        Printer.success("Docker Compose is installed")
 
         # Check that .polyaxon/.compose is set and up-to date
         if ComposeConfigManager.is_initialized():
-            Printer.print_success("Docker Compose deployment is initialised.")
+            Printer.success("Docker Compose deployment is initialised.")
         return True
 
-    def check_for_docker(self):
+    def check_for_docker(self) -> bool:
         if not self.docker.check():
             raise PolyaxonException("Docker is required to run this command.")
         return True
 
-    def check_for_heroku(self):
+    def check_for_heroku(self) -> bool:
         return True
 
-    def nvidia_device_plugin(self):
+    def nvidia_device_plugin(self) -> str:
         return "https://github.com/NVIDIA/k8s-device-plugin/blob/v1.10/nvidia-device-plugin.yml"
 
-    def check(self):
+    def check(self) -> None:
         """Add platform specific checks"""
         if not self.is_valid:
             raise PolyaxonException(
                 "Deployment type `{}` not supported".format(self.deployment_type)
             )
         check = False
         if self.is_kubernetes:
@@ -174,39 +178,48 @@
         elif self.is_heroku:
             check = self.check_for_heroku()
         if not check:
             raise PolyaxonException(
                 "Deployment `{}` is not valid".format(self.deployment_type)
             )
 
-    def _get_or_create_namespace(self):
-        click.echo("Checking {} namespace ...".format(self.deployment_namespace))
-        try:
-            stdout = self.kubectl.execute(
-                args=["get", "namespace", self.deployment_namespace],
-                is_json=True,
-                stream=settings.CLIENT_CONFIG.debug,
-            )
-        except PolyaxonOperatorException:
-            stdout = None
-
+    def _get_or_create_namespace(self) -> None:
+        stdout = self._check_namespace()
         if stdout:
             return
         # Create a namespace
         try:
-            click.echo("Creating {} namespace ...".format(self.deployment_namespace))
-            stdout = self.kubectl.execute(
-                args=["create", "namespace", self.deployment_namespace],
-                is_json=False,
-                stream=settings.CLIENT_CONFIG.debug,
-            )
-            click.echo(stdout)
+            with Printer.console.status(
+                f"Creating `{self.deployment_namespace}` namespace ..."
+            ):
+                stdout = self.kubectl.execute(
+                    args=["create", "namespace", self.deployment_namespace],
+                    is_json=False,
+                    stream=settings.CLIENT_CONFIG.debug,
+                )
+                click.echo(stdout)
+                Printer.success(f"Namespace `{self.deployment_namespace}` is ready")
         except PolyaxonOperatorException:
             return
 
+    def _check_namespace(self) -> Optional[Dict]:
+        with Printer.console.status(
+            f"Checking `{self.deployment_namespace}` namespace ..."
+        ):
+            try:
+                stdout = self.kubectl.execute(
+                    args=["get", "namespace", self.deployment_namespace],
+                    is_json=True,
+                    stream=settings.CLIENT_CONFIG.debug,
+                )
+                Printer.success(f"Namespace `{self.deployment_namespace}` is ready")
+                return stdout
+            except PolyaxonOperatorException:
+                return None
+
     def install_on_kubernetes(self):
         self._get_or_create_namespace()
 
         args = ["install", self.release_name]
         if self.manager_path:
             args += [self.manager_path]
         else:
@@ -221,18 +234,19 @@
                 "gateway.service.type=NodePort,deploymentType={}".format(self.type),
             ]
         if self.deployment_version:
             args += ["--version", self.deployment_version]
         if self.dry_run:
             args += ["--debug", "--dry-run"]
 
-        click.echo("Running install command ...")
-        stdout = self.helm.execute(args=args, stream=settings.CLIENT_CONFIG.debug)
+        with Printer.console.status("Running install command ..."):
+            stdout = self.helm.execute(args=args, stream=settings.CLIENT_CONFIG.debug)
+            Printer.success("Install command finished")
         click.echo(stdout)
-        Printer.print_success("Deployment finished.")
+        Printer.success("Deployment finished.")
 
     def install_on_docker_compose(self):
         from polyaxon.client.transport import Transport
 
         path = ComposeConfigManager.get_config_filepath()
         path = "/".join(path.split("/")[:-1])
         # Fetch docker-compose
@@ -251,23 +265,23 @@
         shutil.copy(
             path + "/polyaxon-compose-master/components.env", path + "/components.env"
         )
         shutil.copy(path + "/polyaxon-compose-master/base.env", path + "/base.env")
         shutil.rmtree(path + "/polyaxon-compose-master/")
         # Generate env from config
         ComposeConfigManager.set_config(self.compose.generate_env(self.config))
-        Printer.print_success("Docker Compose deployment is initialised.")
+        Printer.success("Docker Compose deployment is initialised.")
         if self.dry_run:
-            Printer.print_success("Polyaxon generated deployment env.")
+            Printer.success("Polyaxon generated deployment env.")
             return
         self.docker.execute(["volume", "create", "--name=polyaxon-postgres"])
-        Printer.print_success("Docker volume created.")
+        Printer.success("Docker volume created.")
         self.compose.execute(["-f", path + "/docker-compose.yml", "up", "-d"])
-        Printer.print_success("Deployment is running in the background.")
-        Printer.print_success(
+        Printer.success("Deployment is running in the background.")
+        Printer.success(
             "You can configure your CLI by running: "
             "polyaxon config set --host=localhost."
         )
 
     def install_on_docker(self):
         pass
 
@@ -287,14 +301,20 @@
             self.install_on_docker_compose()
         elif self.is_docker:
             self.install_on_docker()
         elif self.is_heroku:
             self.install_on_heroku()
 
     def upgrade_on_kubernetes(self):
+        Printer.print("Running checks for upgrade command ...")
+        if self.release_name:
+            Printer.info("Deployment release name: `{}`".format(self.release_name))
+        if self.deployment_namespace:
+            Printer.info("Deployment namespace: `{}`".format(self.deployment_namespace))
+        self._check_namespace()
         args = ["upgrade", self.release_name]
         if self.manager_path:
             args += [self.manager_path]
         else:
             args += [self.k8s_chart]
         if self.filepath:
             args += ["-f", self.filepath]
@@ -303,22 +323,24 @@
             DeploymentTypes.MINIKUBE,
         ]:
             args += [
                 "--set",
                 "gateway.service.type=NodePort,deploymentType={}".format(self.type),
             ]
         if self.deployment_version:
+            Printer.info("Deployment version: `{}`".format(self.deployment_version))
             args += ["--version", self.deployment_version]
         args += ["--namespace={}".format(self.deployment_namespace)]
         if self.dry_run:
             args += ["--debug", "--dry-run"]
-        click.echo("Running upgrade command ...")
-        stdout = self.helm.execute(args=args, stream=settings.CLIENT_CONFIG.debug)
+        with Printer.console.status("Running upgrade command ..."):
+            stdout = self.helm.execute(args=args, stream=settings.CLIENT_CONFIG.debug)
+            Printer.success("Upgrade command finished")
         click.echo(stdout)
-        Printer.print_success("Deployment upgraded.")
+        Printer.success("Deployment upgraded.")
 
     def upgrade_on_docker_compose(self):
         self.install_on_docker_compose()
 
     def upgrade_on_docker(self):
         pass
 
@@ -342,17 +364,17 @@
             self.upgrade_on_heroku()
 
     def teardown_on_kubernetes(self, hooks):
         args = ["delete", self.release_name]
         if not hooks:
             args += ["--no-hooks"]
         args += ["--namespace={}".format(self.deployment_namespace)]
-        click.echo("Running teardown command ...")
-        self.helm.execute(args=args)
-        Printer.print_success("Deployment successfully deleted.")
+        with Printer.console.status("Running teardown command ..."):
+            self.helm.execute(args=args)
+        Printer.success("Deployment successfully deleted.")
 
     def teardown_on_docker_compose(self):
         path = ComposeConfigManager.get_config_filepath()
         path = "/".join(path.split("/")[:-1])
         self.compose.execute(["-f", path + "/docker-compose.yml", "down"])
 
     def teardown_on_docker(self, hooks):
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/git.py` & `polyaxon-2.0.0rc0/polyaxon/managers/user.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,39 +1,42 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Type
 
-from polyaxon.managers.base import BaseConfigManager
-from polyaxon.polyflow import V1Init
-from polyaxon.schemas.types import V1GitType
+from clipped.formatting import Printer
 
+from polyaxon.managers.base import BaseConfigManager, ManagerVisibility
+from polyaxon.schemas.responses.v1_user import V1User
 
-class GitConfigManager(BaseConfigManager):
-    """Manages access token configuration .auth file."""
 
-    VISIBILITY = BaseConfigManager.VISIBILITY_LOCAL
-    CONFIG_FILE_NAME = "polyaxongit.yaml"
-    CONFIG = V1Init
+class UserConfigManager(BaseConfigManager):
+    """Manages user configuration .user file."""
 
-    @classmethod
-    def get_config_from_env(cls):
-        pass
+    VISIBILITY = ManagerVisibility.GLOBAL
+    IN_POLYAXON_DIR = True
+    CONFIG_FILE_NAME = ".user"
+    CONFIG: Type[V1User] = V1User
 
     @classmethod
-    def get_config(cls, check: bool = True):
-        config = super(GitConfigManager, cls).get_config(check=check)
-        if not config.git:
-            config.git = V1GitType()
+    def get_config_or_raise(cls) -> V1User:
+        user = cls.get_config()
+        if not user:
+            Printer.error("User configuration was not found.", sys_exit=True)
+
+        return user
 
-        return config
+    @classmethod
+    def get_config_from_env(cls):
+        pass
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/ignore.py` & `polyaxon-2.0.0rc0/polyaxon/managers/ignore.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -15,42 +15,45 @@
 # limitations under the License.
 import io
 import os
 import re
 
 from collections import namedtuple
 from pathlib import PurePath
+from typing import List, Optional
+
+from clipped.list_utils import to_list
+from clipped.path_utils import unix_style_path
 
 from polyaxon.logger import logger
-from polyaxon.managers.base import BaseConfigManager
+from polyaxon.managers.base import BaseConfigManager, ManagerVisibility
 from polyaxon.utils import cli_constants
-from polyaxon.utils.path_utils import unix_style_path
 
 
 class Pattern(namedtuple("Pattern", "pattern is_exclude re")):
     @staticmethod
-    def create(pattern):
+    def create(pattern: str) -> "Pattern":
         if pattern[0:1] == "!":
             is_exclude = False
             pattern = pattern[1:]
         else:
             if pattern[0:1] == "\\":
                 pattern = pattern[1:]
             is_exclude = True
         return Pattern(
             pattern=pattern,
             is_exclude=is_exclude,
             re=re.compile(translate(pattern), re.IGNORECASE),
         )
 
-    def match(self, path):
+    def match(self, path: str) -> bool:
         return bool(self.re.match(path))
 
 
-def translate(pat):
+def translate(pat: str) -> str:
     def _translate_segment():
         # pylint:disable=undefined-loop-variable
         if segment == "*":
             return "[^/]+"
         res = ""
         i, n = 0, len(segment)
         while i < n:
@@ -80,23 +83,22 @@
                     res += "[" + stuff + "]"
             else:
                 res += re.escape(c)
         return res
 
     res = "(?ms)"
 
-    if "/" not in pat[:-1]:
-        res += "(.*/)?"
-
     if pat.startswith("**/"):
         pat = pat[2:]
         res += "(.*/)?"
 
     if pat.startswith("/"):
         pat = pat[1:]
+    else:
+        res += "(.*/)?"
 
     for i, segment in enumerate(pat.split("/")):
         if segment == "**":
             res += "(/.*)?"
             continue
         else:
             res += (re.escape("/") if i > 0 else "") + _translate_segment()
@@ -106,76 +108,91 @@
 
     return res + "\\Z"
 
 
 class IgnoreConfigManager(BaseConfigManager):
     """Manages .polyaxonignore file in the current directory"""
 
-    VISIBILITY = BaseConfigManager.VISIBILITY_LOCAL
+    VISIBILITY = ManagerVisibility.LOCAL
     CONFIG_FILE_NAME = ".polyaxonignore"
 
     @staticmethod
-    def _is_empty_or_comment(line):
+    def _is_empty_or_comment(line: str) -> bool:
         return not line or line.startswith("#")
 
     @staticmethod
-    def _remove_trailing_spaces(line):
+    def _remove_trailing_spaces(line: str) -> str:
         """Remove trailing spaces unless they are quoted with a backslash."""
         while line.endswith(" ") and not line.endswith("\\ "):
             line = line[:-1]
         return line.replace("\\ ", " ")
 
     @classmethod
     def init_config(cls):
         cls.set_config(cli_constants.DEFAULT_IGNORE_LIST, init=True)
 
     @classmethod
-    def find_matching(cls, path, patterns):
+    def find_matching(cls, path: str, patterns: List[Pattern]) -> List[Pattern]:
         """Yield all matching patterns for path."""
         for pattern in patterns:
             if pattern.match(path):
                 yield pattern
 
     @classmethod
-    def is_ignored(cls, path, patterns, is_dir: bool = False):
+    def is_ignored(
+        cls, path: str, patterns: List[Pattern], is_dir: bool = False
+    ) -> bool:
         """Check whether a path is ignored. For directories, include a trailing slash."""
         status = None
         path = "{}/".format(path.rstrip("/")) if is_dir else path
         for pattern in cls.find_matching(path, patterns):
             status = pattern.is_exclude
         return status
 
     @classmethod
-    def read_file(cls, ignore_file):
+    def read_file(cls, ignore_file: List[str]) -> List[str]:
         for line in ignore_file:
             line = line.rstrip("\r\n")
 
             if cls._is_empty_or_comment(line):
                 continue
 
             yield cls._remove_trailing_spaces(line)
 
     @classmethod
-    def get_patterns(cls, ignore_file):
+    def get_patterns(cls, ignore_file: List[str]) -> List[Pattern]:
         return [Pattern.create(line) for line in cls.read_file(ignore_file)]
 
+    @staticmethod
+    def get_push_patterns() -> List[Pattern]:
+        return [
+            Pattern.create("*.plx.json"),
+            Pattern.create("*.plx.index"),
+            Pattern.create("./.polyaxon"),
+        ]
+
     @classmethod
-    def get_config(cls):
+    def get_config(cls) -> List[Pattern]:
         config_filepath = cls.get_config_filepath()
 
         if not os.path.isfile(config_filepath):
             # Return default patterns
             return cls.get_patterns(io.StringIO(cli_constants.DEFAULT_IGNORE_LIST))
 
         with open(config_filepath) as ignore_file:
             return cls.get_patterns(ignore_file)
 
     @classmethod
-    def get_unignored_filepaths(cls, path: str = None):
-        config = cls.get_config()
+    def get_unignored_filepaths(
+        cls,
+        path: Optional[str] = None,
+        addtional_patterns: Optional[List[Pattern]] = None,
+    ) -> List[str]:
+        config = to_list(cls.get_config(), check_none=True)
+        config += to_list(addtional_patterns, check_none=True)
         unignored_files = []
         path = path or "."
 
         for root, dirs, files in os.walk(path):
             logger.debug("Root:%s, Dirs:%s", root, dirs)
 
             if cls.is_ignored(unix_style_path(root), config, is_dir=True):
@@ -190,29 +207,34 @@
                     continue
 
                 unignored_files.append(os.path.join(root, file_name))
 
         return unignored_files
 
     @staticmethod
-    def _matches_patterns(path, patterns):
+    def _matches_patterns(path: str, patterns: List[str]) -> bool:
         """Given a list of patterns, returns a if a path matches any pattern."""
         for glob in patterns:
             try:
                 if PurePath(path).match(glob):
                     return True
             except TypeError:
                 pass
         return False
 
     @classmethod
-    def _ignore_path(cls, path, ignore_list=None, allowed_list=None):
+    def _ignore_path(
+        cls,
+        path: str,
+        ignore_list: Optional[List[str]] = None,
+        allowed_list: Optional[List[str]] = None,
+    ) -> bool:
         """Returns a whether a path should be ignored or not."""
         ignore_list = ignore_list or []
         allowed_list = allowed_list or []
         return cls._matches_patterns(path, ignore_list) and not cls._matches_patterns(
             path, allowed_list
         )
 
     @classmethod
-    def get_value(cls, key):
+    def get_value(cls, key: str):
         pass
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/project.py` & `polyaxon-2.0.0rc0/polyaxon/managers/project.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,33 +12,35 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import sys
 
-from polyaxon_sdk import V1Project
+from typing import Type
 
-from polyaxon.managers.base import BaseConfigManager
+from clipped.formatting import Printer
+
+from polyaxon.managers.base import BaseConfigManager, ManagerVisibility
+from polyaxon.schemas.responses.v1_project import V1Project
 from polyaxon.utils import cli_constants
-from polyaxon.utils.formatting import Printer
 
 
 class ProjectConfigManager(BaseConfigManager):
     """Manages project configuration .project file."""
 
-    VISIBILITY = BaseConfigManager.VISIBILITY_ALL
-    IS_POLYAXON_DIR = True
+    VISIBILITY = ManagerVisibility.ALL
+    IN_POLYAXON_DIR = True
     CONFIG_FILE_NAME = ".project"
-    CONFIG = V1Project
+    CONFIG: Type[V1Project] = V1Project
 
     @classmethod
-    def get_config_or_raise(cls):
+    def get_config_or_raise(cls) -> V1Project:
         project = cls.get_config()
         if not project:
-            Printer.print_error(
+            Printer.error(
                 "No project was found, please initialize a project."
                 " {}".format(cli_constants.INIT_COMMAND)
             )
             sys.exit(1)
 
         return project
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/run.py` & `polyaxon-2.0.0rc0/polyaxon/managers/run.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,40 +1,38 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Type
 
-import sys
+from clipped.formatting import Printer
 
-from polyaxon_sdk import V1Run
-
-from polyaxon.managers.base import BaseConfigManager
-from polyaxon.utils.formatting import Printer
+from polyaxon.managers.base import BaseConfigManager, ManagerVisibility
+from polyaxon.schemas.responses.v1_run import V1Run
 
 
 class RunConfigManager(BaseConfigManager):
     """Manages run configuration .run file."""
 
-    VISIBILITY = BaseConfigManager.VISIBILITY_ALL
-    IS_POLYAXON_DIR = True
+    VISIBILITY = ManagerVisibility.ALL
+    IN_POLYAXON_DIR = True
     CONFIG_FILE_NAME = ".run"
-    CONFIG = V1Run
+    CONFIG: Type[V1Run] = V1Run
 
     @classmethod
-    def get_config_or_raise(cls):
+    def get_config_or_raise(cls) -> V1Run:
         run = cls.get_config()
         if not run:
-            Printer.print_error("No run was provided.")
-            sys.exit(1)
+            Printer.error("No run was provided.", sys_exit=True)
 
         return run
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/managers/user.py` & `polyaxon-2.0.0rc0/polyaxon/managers/compose.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,44 +1,32 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import sys
+from polyaxon.managers.base import BaseConfigManager, ManagerVisibility
 
-from polyaxon_sdk import V1User
 
-from polyaxon.managers.base import BaseConfigManager
-from polyaxon.utils.formatting import Printer
+class ComposeConfigManager(BaseConfigManager):
+    """Manages access cli configuration .compose file."""
 
-
-class UserConfigManager(BaseConfigManager):
-    """Manages user configuration .user file."""
-
-    VISIBILITY = BaseConfigManager.VISIBILITY_GLOBAL
-    IS_POLYAXON_DIR = True
-    CONFIG_FILE_NAME = ".user"
-    CONFIG = V1User
-
-    @classmethod
-    def get_config_or_raise(cls):
-        user = cls.get_config()
-        if not user:
-            Printer.print_error("User configuration was not found.")
-            sys.exit(1)
-
-        return user
+    VISIBILITY = ManagerVisibility.GLOBAL
+    CONFIG_FILE_NAME = ".compose/.env"
+    FREQUENCY = 3
 
     @classmethod
-    def get_config_from_env(cls):
-        pass
+    def get_config_filepath(cls, create: bool = True) -> str:
+        path = super().get_config_filepath(create=create)
+        values = path.split("/")[:-1]
+        cls._create_dir("/".join(values))
+        return path
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/notifiers/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/notifiers/__init__.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/notifiers/base.py` & `polyaxon-2.0.0rc0/polyaxon/notifiers/base.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,21 +13,22 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import os
 
 from typing import Any, Dict, List, Optional, Union
 
+from clipped.http_utils import add_notification_referrer_param, clean_host
+from clipped.list_utils import to_list
+
 from polyaxon import settings
 from polyaxon.exceptions import PolyaxonNotificationException
 from polyaxon.logger import logger
 from polyaxon.notifiers.spec import NotificationSpec
 from polyaxon.parser import parser
-from polyaxon.utils.http_utils import add_notification_referrer_param, clean_host
-from polyaxon.utils.list_utils import to_list
 from polyaxon.utils.urls_utils import validate_url
 
 ConfigType = Union[Dict, List[Dict]]
 
 
 class BaseNotifier:
     notification_key = None
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/notifiers/discord_webhook.py` & `polyaxon-2.0.0rc0/polyaxon/notifiers/discord_webhook.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/notifiers/hipchat_webhook.py` & `polyaxon-2.0.0rc0/polyaxon/notifiers/hipchat_webhook.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/notifiers/keys.py` & `polyaxon-2.0.0rc0/polyaxon/notifiers/keys.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/notifiers/mattermost_webhook.py` & `polyaxon-2.0.0rc0/polyaxon/notifiers/mattermost_webhook.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/notifiers/pagerduty_webhook.py` & `polyaxon-2.0.0rc0/polyaxon/notifiers/pagerduty_webhook.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/notifiers/slack_webhook.py` & `polyaxon-2.0.0rc0/polyaxon/notifiers/slack_webhook.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,19 +12,20 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Dict
 
+from clipped.date_utils import to_timestamp
+
 from polyaxon.connections.kinds import V1ConnectionKind
 from polyaxon.notifiers.keys import INTEGRATIONS_WEBHOOKS_SLACK
 from polyaxon.notifiers.spec import NotificationSpec
 from polyaxon.notifiers.webhook import WebHookNotifier
-from polyaxon.utils.date_utils import to_timestamp
 
 
 class SlackWebHookNotifier(WebHookNotifier):
     notification_key = V1ConnectionKind.SLACK
     name = "Slack WebHook"
     description = "Slack webhooks to send payload to Slack Incoming Webhooks."
     raise_empty_context = True
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/notifiers/spec.py` & `polyaxon-2.0.0rc0/polyaxon/notifiers/spec.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,29 +13,31 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License
 
 from collections import namedtuple
 from typing import Optional
 
+from clipped.enums_utils import get_enum_value
+
 from polyaxon.lifecycle import StatusColor
 from polyaxon.utils.urls_utils import get_run_url
 
 
 class NotificationSpec(
     namedtuple(
         "Notification",
         "kind owner project uuid name status wait_time duration condition inputs outputs",
     )
 ):
     def get_details(self) -> str:
         details = "{} ({})".format(self.name, self.uuid) if self.name else self.uuid
         details = "Run: {}\n".format(details)
         if self.kind:
-            details = "Kind: `{}`\n".format(self.kind)
+            details = "Kind: `{}`\n".format(get_enum_value(self.kind))
         details += "Status: `{}`\n".format(self.status)
         if self.condition.reason:
             details += "Reason: `{}`\n".format(self.condition.reason)
         if self.condition.message:
             details += "Message: `{}`\n".format(self.condition.message)
         details += "Transition time: `{}`\n".format(self.condition.last_transition_time)
         if self.wait_time:
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/notifiers/webhook.py` & `polyaxon-2.0.0rc0/polyaxon/notifiers/webhook.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,20 +13,21 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from requests import RequestException
 from typing import Dict, List
 
+from clipped.requests_utils import safe_request
+
 from polyaxon.connections.kinds import V1ConnectionKind
 from polyaxon.logger import logger
 from polyaxon.notifiers.base import BaseNotifier
 from polyaxon.notifiers.keys import INTEGRATIONS_WEBHOOKS_GENERIC
 from polyaxon.notifiers.spec import NotificationSpec
-from polyaxon.utils.requests_utils import safe_request
 
 
 class WebHookNotifier(BaseNotifier):
     notification_key = V1ConnectionKind.WEBHOOK
     name = "WebHook"
     description = (
         "Webhooks send an HTTP payload to the webhook's configured URL."
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/operations/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/operations/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/operations/notifier.py` & `polyaxon-2.0.0rc0/polyaxon/operations/notifier.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -35,41 +35,41 @@
     project: str,
     run_uuid: str,
     run_name: str,
     condition: Union[str, Dict],
 ) -> V1Operation:
     return V1Operation(
         params={
-            "backend": V1Param(value=backend),
-            "owner": V1Param(value=owner),
-            "project": V1Param(value=project),
-            "uuid": V1Param(value=run_uuid),
-            "name": V1Param(value=run_name),
-            "condition": V1Param(value=condition),
+            "backend": V1Param.construct(value=backend),
+            "owner": V1Param.construct(value=owner),
+            "project": V1Param.construct(value=project),
+            "uuid": V1Param.construct(value=run_uuid),
+            "name": V1Param.construct(value=run_name),
+            "condition": V1Param.construct(value=condition),
         },
-        termination=V1Termination(max_retries=3),
-        component=V1Component(
+        termination=V1Termination.construct(max_retries=3),
+        component=V1Component.construct(
             name="notifier",
-            plugins=V1Plugins(
+            plugins=V1Plugins.construct(
                 auth=False,
                 collect_logs=False,
                 collect_artifacts=False,
                 collect_resources=False,
                 auto_resume=False,
                 sync_statuses=False,
                 external_host=True,
             ),
             inputs=[
-                V1IO(name="backend", type=types.STR, is_optional=False),
-                V1IO(name="owner", type=types.STR, is_optional=False),
-                V1IO(name="project", type=types.STR, is_optional=False),
-                V1IO(name="uuid", type=types.STR, is_optional=False),
-                V1IO(name="name", type=types.STR, is_optional=True),
-                V1IO(name="condition", type=types.DICT, is_optional=True),
-                V1IO(name="connection", type=types.STR, is_optional=True),
+                V1IO.construct(name="backend", type=types.STR, is_optional=False),
+                V1IO.construct(name="owner", type=types.STR, is_optional=False),
+                V1IO.construct(name="project", type=types.STR, is_optional=False),
+                V1IO.construct(name="uuid", type=types.STR, is_optional=False),
+                V1IO.construct(name="name", type=types.STR, is_optional=True),
+                V1IO.construct(name="condition", type=types.DICT, is_optional=True),
+                V1IO.construct(name="connection", type=types.STR, is_optional=True),
             ],
-            run=V1NotifierJob(
+            run=V1NotifierJob.construct(
                 connections=[connection],
                 container=get_default_notification_container(),
             ),
         ),
     )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/operations/tuner.py` & `polyaxon-2.0.0rc0/polyaxon/operations/tuner.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,22 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
 from polyaxon.polyflow import (
     V1Bayes,
     V1Hyperband,
     V1Hyperopt,
     V1Join,
     V1Matrix,
@@ -27,15 +28,15 @@
 
 
 def get_tuner(
     tuner: V1Tuner,
     matrix: V1Matrix,
     join: V1Join,
     iteration: int,
-    bracket_iteration: int = None,
+    bracket_iteration: Optional[int] = None,
 ) -> V1Operation:
     params = {
         "matrix": V1Param(value=matrix.to_light_dict()),
         "iteration": V1Param(value=iteration),
     }
     if bracket_iteration is not None:
         params["bracket_iteration"] = V1Param(value=bracket_iteration)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/parser/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/managers/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/parser/constants.py` & `polyaxon-2.0.0rc0/polyaxon/parser/constants.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/parser/parser.py` & `polyaxon-2.0.0rc0/polyaxon/parser/parser.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -20,33 +20,39 @@
 
 from collections.abc import Mapping
 from datetime import date, datetime
 from json import JSONDecodeError
 from typing import Dict, Union
 from urllib.parse import urlparse
 
-from marshmallow import ValidationError, fields
+from clipped.bool_utils import strtobool
+from clipped.serialization import (
+    date_deserialize,
+    datetime_deserialize,
+    uuid_deserialize,
+)
+from pydantic import PydanticTypeError, PydanticValueError, ValidationError
 
 from polyaxon import types
 from polyaxon.exceptions import PolyaxonSchemaError
 from polyaxon.logger import logger
 from polyaxon.parser.constants import NO_VALUE_FOUND
 from polyaxon.schemas.types import (
     V1ArtifactsType,
     V1AuthType,
     V1DockerfileType,
     V1EventType,
     V1FileType,
     V1GcsType,
     V1GitType,
     V1S3Type,
+    V1TensorboardType,
     V1UriType,
     V1WasbType,
 )
-from polyaxon.utils.bool_utils import strtobool
 
 
 def get_int(key, value, is_list=False, is_optional=False, default=None, options=None):
     """
     Get the value corresponding to the key and converts it to `int`/`list(int)`.
 
     Args:
@@ -169,25 +175,25 @@
         `bool`: value corresponding to the key.
     """
     if is_list:
         return _get_typed_list_value(
             key=key,
             value=value,
             target_type=bool,
-            type_convert=lambda x: bool(strtobool(x)),
+            type_convert=lambda x: strtobool(x),
             is_optional=is_optional,
             default=default,
             options=options,
         )
 
     return _get_typed_value(
         key=key,
         value=value,
         target_type=bool,
-        type_convert=lambda x: bool(strtobool(x)),
+        type_convert=lambda x: strtobool(x),
         is_optional=is_optional,
         default=default,
         options=options,
     )
 
 
 def parse_string(v):
@@ -595,25 +601,25 @@
         `date`: value corresponding to the key.
     """
     if is_list:
         return _get_typed_list_value(
             key=key,
             value=value,
             target_type=date,
-            type_convert=fields.Date().deserialize,
+            type_convert=date_deserialize,
             is_optional=is_optional,
             default=default,
             options=options,
         )
 
     return _get_typed_value(
         key=key,
         value=value,
         target_type=date,
-        type_convert=fields.Date().deserialize,
+        type_convert=date_deserialize,
         is_optional=is_optional,
         default=default,
         options=options,
     )
 
 
 def get_uuid(key, value, is_list=False, is_optional=False, default=None, options=None):
@@ -632,27 +638,27 @@
         `date`: value corresponding to the key.
     """
     if is_list:
         value = _get_typed_list_value(
             key=key,
             value=value,
             target_type=uuid.UUID,
-            type_convert=fields.UUID(format="hex").deserialize,
+            type_convert=uuid_deserialize,
             is_optional=is_optional,
             default=default,
             options=options,
         )
         if value:
             return [u.hex for u in value]
 
     value = _get_typed_value(
         key=key,
         value=value,
         target_type=uuid.UUID,
-        type_convert=fields.UUID(format="hex").deserialize,
+        type_convert=uuid_deserialize,
         is_optional=is_optional,
         default=default,
         options=options,
     )
     if value:
         return value.hex
 
@@ -675,25 +681,25 @@
         `date`: value corresponding to the key.
     """
     if is_list:
         return _get_typed_list_value(
             key=key,
             value=value,
             target_type=datetime,
-            type_convert=fields.DateTime().deserialize,
+            type_convert=datetime_deserialize,
             is_optional=is_optional,
             default=default,
             options=options,
         )
 
     return _get_typed_value(
         key=key,
         value=value,
         target_type=datetime,
-        type_convert=fields.DateTime().deserialize,
+        type_convert=datetime_deserialize,
         is_optional=is_optional,
         default=default,
         options=options,
     )
 
 
 def get_dockerfile_init(
@@ -788,14 +794,62 @@
         is_optional=is_optional,
         default=default,
         options=options,
         base_types=(str, Mapping),
     )
 
 
+def get_tensorboard_init(
+    key, value, is_list=False, is_optional=False, default=None, options=None
+):
+    """
+    Get the value corresponding to the key and converts
+    it to `V1TensorboardType`/`list(V1TensorboardType)`.
+
+    Args:
+        key: the dict key.
+        value: the value to parse.
+        is_list: If this is one element or a list of elements.
+        is_optional: To raise an error if key was not found.
+        default: default value if is_optional is True.
+        options: list/tuple if provided, the value must be one of these values.
+
+    Returns:
+        `date`: value corresponding to the key.
+    """
+
+    def convert_to_file_init(x):
+        if not isinstance(x, Mapping):
+            x = convert_to_dict(x, key)
+        return V1TensorboardType.from_dict(x)
+
+    if is_list:
+        return _get_typed_list_value(
+            key=key,
+            value=value,
+            target_type=V1TensorboardType,
+            type_convert=convert_to_file_init,
+            is_optional=is_optional,
+            default=default,
+            options=options,
+            base_types=(str, Mapping),
+        )
+
+    return _get_typed_value(
+        key=key,
+        value=value,
+        target_type=V1TensorboardType,
+        type_convert=convert_to_file_init,
+        is_optional=is_optional,
+        default=default,
+        options=options,
+        base_types=(str, Mapping),
+    )
+
+
 def get_image_init(
     key, value, is_list=False, is_optional=False, default=None, options=None
 ):
     """
     Get the value corresponding to the key and converts
     it to `str`/`list(str)`.
 
@@ -1049,15 +1103,21 @@
     base_types = base_types or str
     if isinstance(value, base_types):
         try:
             # _add_key(key, is_secret=is_secret, is_local=is_local)
             new_value = type_convert(value)
             _check_options(key=key, value=new_value, options=options)
             return new_value
-        except (ValueError, ValidationError):
+        except (
+            TypeError,
+            ValueError,
+            ValidationError,
+            PydanticTypeError,
+            PydanticValueError,
+        ):
             raise PolyaxonSchemaError(
                 "Cannot convert value `{}` (key: `{}`) "
                 "to `{}`".format(value, key, target_type)
             )
 
     if isinstance(value, target_type):
         # _add_key(key, is_secret=is_secret, is_local=is_local)
@@ -1108,15 +1168,15 @@
         value = get_list(
             key=key,
             value=value,
             is_optional=is_optional,
             default=default,
             options=options,
         )
-        if len(value) <= 1:
+        if len(value) < 1:
             raise e
 
     if not value:
         return default
 
     raise_type = "dict" if target_type == Mapping else target_type
     base_types = base_types or str
@@ -1128,15 +1188,21 @@
         )
     # If we are here the value must be a list
     result = []
     for v in value:
         if isinstance(v, base_types):
             try:
                 result.append(type_convert(v))
-            except (ValueError, ValidationError):
+            except (
+                TypeError,
+                ValueError,
+                ValidationError,
+                PydanticTypeError,
+                PydanticValueError,
+            ) as e:
                 raise PolyaxonSchemaError(
                     "Cannot convert value `{}` (found in list key: `{}`) "
                     "to `{}`".format(v, key, raise_type)
                 )
         elif isinstance(v, target_type):
             result.append(v)
 
@@ -1206,28 +1272,50 @@
     if isinstance(wasbs_path, V1WasbType):
         return wasbs_path
 
     if isinstance(wasbs_path, Mapping):
         return V1WasbType.from_dict(wasbs_path)
 
     parsed_url = urlparse(wasbs_path)
-    if parsed_url.scheme != "wasbs":
+    if parsed_url.scheme not in {"wasb", "wasbs", "https", "az", "abfs"}:
         raise PolyaxonSchemaError("Received an invalid url `{}`".format(wasbs_path))
-    match = re.match("([^@]+)@([^.]+)\\.blob\\.core\\.windows\\.net", parsed_url.netloc)
-    if match is None:
-        raise PolyaxonSchemaError(
-            "wasbs url must be of the form <container>@<account>.blob.core.windows.net"
+    if parsed_url.scheme in {"wasb", "wasbs"}:
+        match = re.match(
+            "([^@]+)@([^.]+)\\.blob\\.core\\.windows\\.net", parsed_url.netloc
         )
-
-    container = match.group(1)
-    storage_account = match.group(2)
-    path = parsed_url.path
-    if path.startswith("/"):
-        path = path[1:]
-    return V1WasbType(container, storage_account, path)
+        if match is None:
+            raise PolyaxonSchemaError(
+                "wasbs url must be of the form <container>@<account>.blob.core.windows.net"
+            )
+        container = match.group(1)
+        storage_account = match.group(2)
+        path = parsed_url.path
+        path = path.strip("/")
+    elif parsed_url.scheme == "https":
+        match = re.match("([^@]+)\\.blob\\.core\\.windows\\.net", parsed_url.netloc)
+        if match is None:
+            raise PolyaxonSchemaError(
+                "wasbs url must be of the form <container>.blob.core.windows.net"
+            )
+        storage_account = match.group(1)
+        path = parsed_url.path
+        path = path.strip("/")
+        if "/" not in path:
+            # this means path is the container_name
+            container, path = path, ""
+        else:
+            container, path = path.split("/", 1)
+    else:
+        storage_account = None
+        container = parsed_url.netloc
+        path = parsed_url.path or ""
+        path = path.strip("/")
+    return V1WasbType(
+        container=container, storage_account=storage_account, path=path.strip("/")
+    )
 
 
 def parse_gcs_path(gcs_path):
     """
     Parses and validates a google cloud storage url.
 
     Returns:
@@ -1241,15 +1329,15 @@
 
     parsed_url = urlparse(gcs_path)
     if not parsed_url.netloc:
         raise PolyaxonSchemaError("Received an invalid GCS url `{}`".format(gcs_path))
     if parsed_url.scheme != "gs":
         raise PolyaxonSchemaError("Received an invalid url GCS `{}`".format(gcs_path))
     blob = parsed_url.path.lstrip("/")
-    return V1GcsType(parsed_url.netloc, blob)
+    return V1GcsType(bucket=parsed_url.netloc, blob=blob)
 
 
 def parse_s3_path(s3_path):
     """
     Parses and validates an S3 url.
 
     Returns:
@@ -1263,15 +1351,15 @@
 
     parsed_url = urlparse(s3_path)
     if not parsed_url.netloc:
         raise PolyaxonSchemaError("Received an invalid S3 url `{}`".format(s3_path))
     else:
         bucket_name = parsed_url.netloc
         key = parsed_url.path.strip("/")
-        return V1S3Type(bucket_name, key)
+        return V1S3Type(bucket=bucket_name, key=key)
 
 
 TYPE_MAPPING = {
     types.ANY: lambda key, value, **kwargs: value,
     types.INT: get_int,
     types.FLOAT: get_float,
     types.BOOL: get_boolean,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/pkg.py` & `polyaxon-2.0.0rc0/polyaxon/pkg.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,24 +1,24 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 NAME = "polyaxon"
-VERSION = "1.9.6-rc5"
+VERSION = "2.0.0-rc0"
 SCHEMA_VERSION = 1.1
 DESC = "Command Line Interface (CLI) and client to interact with Polyaxon API."
 URL = "https://github.com/polyaxon/polyaxon"
 AUTHOR = "Polyaxon, Inc."
 EMAIL = "contact@polyaxon.com"
 LICENSE = "Apache 2.0"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/plugins/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/parser/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/plugins/sentry.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/common/stores.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,39 +1,32 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import logging
-import os
+from typing import Dict, List
 
-logger = logging.getLogger("polyaxon.cli")
+from polyaxon.polyflow import V1ArtifactsMount
+from polyaxon.schemas.types import V1ConnectionType
 
 
-def set_raven_client() -> bool:
-    from polyaxon import pkg, settings
-    from polyaxon.env_vars.keys import POLYAXON_KEYS_SERVICE
-
-    cli_config = settings.CLI_CONFIG
-    if cli_config and cli_config.log_handler and cli_config.log_handler.dsn:
-        import sentry_sdk
-
-        sentry_sdk.init(
-            dsn=cli_config.log_handler.decoded_dsn,
-            release=pkg.VERSION,
-            environment=cli_config.log_handler.environment,
-            server_name=os.environ.get(POLYAXON_KEYS_SERVICE, None),
-        )
-        return True
-
-    return False
+def override_stores(
+    stores: List[V1ConnectionType], store_refs_by_name: Dict[str, V1ArtifactsMount]
+) -> List[V1ConnectionType]:
+    results = []
+    if not stores or not store_refs_by_name:
+        return results
+    for store in stores:
+        if store.name in store_refs_by_name:
+            results.append(store.override(store_refs_by_name.get(store.name)))
+    return results
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/check.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/check.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,31 +13,32 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import os
 
 from collections import OrderedDict
-from typing import Dict, List
+from typing import Dict, List, Optional, Union
+
+from clipped.formatting import Printer
+from clipped.list_utils import to_list
 
 from polyaxon.cli.errors import handle_cli_error
 from polyaxon.config_reader.spec import ConfigSpec
 from polyaxon.exceptions import PolyaxonfileError, PolyaxonSchemaError
 from polyaxon.polyaxonfile.manager import (
     get_op_specification,
     is_supported_in_eager_mode,
 )
-from polyaxon.polyaxonfile.params import parse_params
+from polyaxon.polyaxonfile.params import parse_hparams, parse_params
 from polyaxon.polyaxonfile.specs import get_specification, kinds
-from polyaxon.polyflow import V1Dag, V1Init, V1Operation
-from polyaxon.utils.formatting import Printer, dict_tabulate
-from polyaxon.utils.list_utils import to_list
+from polyaxon.polyflow import V1Dag, V1Init, V1Matrix, V1Operation
 
 
-def collect_dag_components(dag: V1Dag, path_context: str = None):
+def collect_dag_components(dag: V1Dag, path_context: Optional[str] = None):
     """Collect components that cannot be resolved by the scheduler"""
     for op in dag.operations:
         op_name = op.name
         if op.has_url_reference or op.has_path_reference or op.has_hub_reference:
             try:
                 op = collect_references(op, path_context)
             except Exception as e:
@@ -45,15 +46,15 @@
                     "Pipeline op with name `{}` requires a component with ref `{}`, "
                     "the reference could not be resolved. Error: {}".format(
                         op_name, op.hub_ref or op.url_ref or op.path_ref, e
                     )
                 )
 
 
-def collect_references(config: V1Operation, path_context: str = None):
+def collect_references(config: V1Operation, path_context: Optional[str] = None):
     if config.has_component_reference:
         return config
     elif config.has_hub_reference:
         component = ConfigSpec.get_from(config.hub_ref, "hub").read()
     elif config.has_url_reference:
         component = ConfigSpec.get_from(config.url_ref, "url").read()
     elif config.has_path_reference:
@@ -62,15 +63,14 @@
             path_ref = os.path.join(
                 os.path.dirname(os.path.abspath(path_context)), path_ref
             )
         component = ConfigSpec.get_from(path_ref).read()
         path_context = path_ref
     else:
         raise PolyaxonfileError("Operation found without component")
-
     component = get_specification(data=component)
     if component.kind != kinds.COMPONENT:
         if config.has_url_reference:
             ref_type = "Url ref"
             ref = config.url_ref
         else:
             ref_type = "Path ref"
@@ -83,72 +83,81 @@
     config.component = component
     if component.is_dag_run:
         collect_dag_components(component.run, path_context)
     return config
 
 
 def check_polyaxonfile(
-    polyaxonfile: str = None,
-    python_module: str = None,
-    url: str = None,
-    hub: str = None,
-    params: Dict = None,
-    presets: List[str] = None,
-    queue: str = None,
-    nocache: bool = None,
-    cache: bool = None,
+    polyaxonfile: Optional[str] = None,
+    python_module: Optional[str] = None,
+    url: Optional[str] = None,
+    hub: Optional[str] = None,
+    params: Optional[Union[List[str], Dict]] = None,
+    hparams: Optional[Union[List[str], Dict]] = None,
+    matrix_kind: Optional[str] = None,
+    matrix_concurrency: Optional[int] = None,
+    matrix_num_runs: Optional[int] = None,
+    matrix: Optional[Union[Dict, V1Matrix]] = None,
+    presets: Optional[List[str]] = None,
+    queue: Optional[str] = None,
+    nocache: Optional[bool] = None,
+    cache: Optional[Union[int, str, bool]] = None,
     verbose: bool = True,
     is_cli: bool = True,
     to_op: bool = True,
     validate_params: bool = True,
+    approved: Optional[Union[int, str, bool]] = None,
     eager: bool = False,
-    git_init: V1Init = None,
+    git_init: Optional[V1Init] = None,
     ignore_template: bool = False,
 ):
     if sum([1 for i in [python_module, url, hub] if i]) > 1:
         message = (
             "You can only use one and only one option: "
             "hub, url, or a python module.".format(hub)
         )
         if is_cli:
-            Printer.print_error(message, sys_exit=True)
+            Printer.error(message, sys_exit=True)
         else:
             raise PolyaxonfileError(message)
     if not any([polyaxonfile, python_module, url, hub]):
         polyaxonfile = check_default_path(path=".")
     if not any([polyaxonfile, python_module, url, hub]):
         message = (
             "Something went wrong, `check_polyaxonfile` was called without a polyaxonfile, "
             "a hub component reference, a url or a python module."
         )
         if is_cli:
-            Printer.print_error(message, sys_exit=True)
+            Printer.error(message, sys_exit=True)
         else:
             raise PolyaxonfileError(message)
     if hub and not to_op:
         message = "Something went wrong, calling hub component `{}` without operation.".format(
             hub
         )
         if is_cli:
-            Printer.print_error(message, sys_exit=True)
+            Printer.error(message, sys_exit=True)
         else:
             raise PolyaxonfileError(message)
 
     polyaxonfile = to_list(polyaxonfile, check_none=True)
 
     parsed_params = None
     if params:
         parsed_params = parse_params(params, is_cli=is_cli)
+    parsed_hparams = None
+    if hparams:
+        parsed_hparams = parse_hparams(hparams, is_cli=is_cli)
 
     if not any([os.path.isfile(f) for f in polyaxonfile]) and not any(
         [python_module, url, hub]
     ):
         message = "Please pass a valid polyaxonfile, a python module, a url, or a component name"
         if is_cli:
-            Printer.print_error(message, sys_exit=True)
+            Printer.error(message, sys_exit=True)
         else:
             raise PolyaxonfileError(message)
 
     try:
         path_context = None
 
         if python_module:
@@ -177,51 +186,57 @@
             collect_dag_components(plx_component.run, path_context)
 
         if to_op or hub:
             plx_file = get_op_specification(
                 hub=hub,
                 config=plx_file,
                 params=parsed_params,
+                hparams=parsed_hparams,
+                matrix_kind=matrix_kind,
+                matrix_concurrency=matrix_concurrency,
+                matrix_num_runs=matrix_num_runs,
+                matrix=matrix,
                 presets=presets,
                 queue=queue,
                 nocache=nocache,
                 cache=cache,
+                approved=approved,
                 validate_params=validate_params,
                 preset_files=polyaxonfile,
                 git_init=git_init,
             )
         if verbose and is_cli:
-            Printer.print_success("Polyaxonfile valid")
+            Printer.success("Polyaxonfile valid")
         if ignore_template:
             plx_file.disable_template()
         if plx_file.is_template():
             template_message = "This polyaxonfile was marked as template by the owner:"
             if plx_file.template.description:
                 template_message += "\ntemplate description: {}".format(
                     plx_file.template.description
                 )
             if plx_file.template.fields:
                 template_message += "\ntemplate fields that need changes: {}".format(
                     plx_file.template.fields
                 )
-            Printer.print_warning(template_message)
+            Printer.warning(template_message)
         if eager:
             is_supported_in_eager_mode(spec=plx_file)
         return plx_file
     except Exception as e:
         message = "Polyaxonfile is not valid."
         if is_cli:
             handle_cli_error(e, message=message, sys_exit=True)
         else:
             raise PolyaxonfileError(message) from e
 
 
 def check_polyaxonfile_kind(specification, kind):
     if specification.kind != kind:
-        Printer.print_error(
+        Printer.error(
             "Your polyaxonfile must be of kind: `{}`, "
             "received: `{}`.".format(kind, specification.kind),
             sys_exit=True,
         )
 
 
 def get_matrix_info(kind, concurrency, early_stopping=False, **kwargs):
@@ -232,15 +247,15 @@
         if concurrency == 1
         else "{} concurrent runs".format(concurrency)
     )
     info["Early stopping"] = "activated" if early_stopping else "deactivated"
     if "num_runs" in kwargs:
         info["Num of runs to create"] = kwargs["num_runs"]
 
-    dict_tabulate(info)
+    Printer.dict_tabulate(info)
 
 
 DEFAULT_POLYAXON_FILE_NAME = [
     "polyaxon",
     "polyaxonci",
     "polyaxon-ci",
     "polyaxon.ci",
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/manager/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/manager/__init__.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/manager/operations.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converter.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,101 +1,89 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-import copy
 
-from collections.abc import Mapping
-from typing import Dict, List, Union
+from typing import Dict, Iterable, Optional, Type
 
-from polyaxon import pkg
-from polyaxon.env_vars.getters.queue import get_queue_info
-from polyaxon.exceptions import PolyaxonfileError
-from polyaxon.polyaxonfile.specs import (
-    CompiledOperationSpecification,
-    OperationSpecification,
-    get_specification,
-    kinds,
-)
-from polyaxon.polyflow import V1Component, V1Init, V1Operation
-from polyaxon.schemas import V1PatchStrategy
-
-
-def get_op_specification(
-    config: Union[V1Component, V1Operation] = None,
-    hub: str = None,
-    params: Dict = None,
-    presets: List[str] = None,
-    queue: str = None,
-    nocache: bool = None,
-    cache: bool = None,
-    validate_params: bool = True,
-    preset_files: List[str] = None,
-    git_init: V1Init = None,
-) -> V1Operation:
-    if cache and nocache:
-        raise PolyaxonfileError("Received both cache and nocache")
-    job_data = {
-        "version": config.version if config else pkg.SCHEMA_VERSION,
-        "kind": kinds.OPERATION,
-    }
-    if params:
-        if not isinstance(params, Mapping):
-            raise PolyaxonfileError(
-                "Params: `{}` must be a valid mapping".format(params)
+from kubernetes import client as k8s_client
+
+from polyaxon.auxiliaries import V1PolyaxonInitContainer, V1PolyaxonSidecarContainer
+from polyaxon.exceptions import PolyaxonCompilerError
+from polyaxon.polyflow import V1CompiledOperation, V1RunKind
+from polyaxon.polypod.compiler.converters import CORE_CONVERTERS, BaseConverter
+from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
+
+
+def convert(
+    namespace: Optional[str],
+    owner_name: str,
+    project_name: str,
+    run_name: str,
+    run_uuid: str,
+    run_path: str,
+    compiled_operation: V1CompiledOperation,
+    artifacts_store: Optional[V1ConnectionType],
+    connection_by_names: Optional[Dict[str, V1ConnectionType]],
+    secrets: Optional[Iterable[V1K8sResourceType]],
+    config_maps: Optional[Iterable[V1K8sResourceType]],
+    polyaxon_sidecar: Optional[V1PolyaxonSidecarContainer] = None,
+    polyaxon_init: Optional[V1PolyaxonInitContainer] = None,
+    default_sa: Optional[str] = None,
+    converters: Dict[V1RunKind, Type[BaseConverter]] = CORE_CONVERTERS,
+    internal_auth: bool = False,
+    default_auth: bool = False,
+) -> Dict:
+    if not namespace:
+        raise PolyaxonCompilerError(
+            "Converter Error. "
+            "Namespace is required to create a k8s resource specification."
+        )
+    if compiled_operation.has_pipeline:
+        raise PolyaxonCompilerError(
+            "Converter Error. "
+            "Specification with matrix/dag/schedule section is not supported in this function."
+        )
+
+    run_kind = compiled_operation.get_run_kind()
+    if run_kind not in converters:
+        raise PolyaxonCompilerError(
+            "Converter Error. "
+            "Specification with run kind: {} is not supported in this deployment version.".format(
+                run_kind
             )
-        job_data["params"] = params
-    if presets:
-        job_data["presets"] = presets
-    if queue:
-        # Check only
-        get_queue_info(queue)
-        job_data["queue"] = queue
-    if cache:
-        job_data["cache"] = {"disable": False}
-    if nocache:
-        job_data["cache"] = {"disable": True}
-
-    if config and config.kind == kinds.COMPONENT:
-        job_data["component"] = config.to_dict()
-        config = get_specification(data=[job_data])
-    elif config and config.kind == kinds.OPERATION:
-        config = get_specification(data=[config.to_dict(), job_data])
-    elif hub:
-        job_data["hubRef"] = hub
-        config = get_specification(data=[job_data])
-
-    if hub and config.hub_ref is None:
-        config.hub_ref = hub
-
-    # Check if there's presets
-    for preset_plx_file in preset_files:
-        preset_plx_file = OperationSpecification.read(preset_plx_file, is_preset=True)
-        config = config.patch(preset_plx_file, strategy=preset_plx_file.patch_strategy)
-    # Turn git_init to a pre_merge preset
-    if git_init:
-        git_preset = V1Operation(
-            run_patch={"init": [git_init.to_dict()]}, is_preset=True
         )
-        config = config.patch(git_preset, strategy=V1PatchStrategy.PRE_MERGE)
 
-    # Sanity check if params were passed and we are not dealing with a hub component
-    params = copy.deepcopy(config.params)
-    if validate_params:
-        # Avoid in-place patch
-        run_config = get_specification(config.to_dict())
-        run_config = OperationSpecification.compile_operation(run_config)
-        run_config.validate_params(params=params, is_template=False)
-        if run_config.is_dag_run:
-            CompiledOperationSpecification.apply_operation_contexts(run_config)
-    return config
+    converter = converters[run_kind](
+        owner_name=owner_name,
+        project_name=project_name,
+        run_name=run_name,
+        run_uuid=run_uuid,
+        namespace=namespace,
+        polyaxon_init=polyaxon_init,
+        polyaxon_sidecar=polyaxon_sidecar,
+        internal_auth=internal_auth,
+        run_path=run_path,
+    )
+    if converter:
+        resource = converter.get_resource(
+            compiled_operation=compiled_operation,
+            artifacts_store=artifacts_store,
+            connection_by_names=connection_by_names,
+            secrets=secrets,
+            config_maps=config_maps,
+            default_sa=default_sa,
+            default_auth=default_auth,
+        )
+        api = k8s_client.ApiClient()
+        return api.sanitize_for_serialization(resource)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/manager/workflows.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/manager/workflows.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,18 +13,19 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import copy
 
 from typing import Dict, List, Union
 
+from clipped.formatting import Printer
+
 from polyaxon.exceptions import PolyaxonSchemaError
 from polyaxon.polyaxonfile.specs.libs.parser import Parser
 from polyaxon.polyflow import V1CompiledOperation, V1MatrixKind, V1Operation, V1Param
-from polyaxon.utils.formatting import Printer
 
 
 def get_op_from_schedule(
     content: str,
     compiled_operation: V1CompiledOperation,
 ) -> V1Operation:
     op_spec = V1Operation.read(content)
@@ -35,50 +36,51 @@
     op_spec.trigger = None
     op_spec.build = None
     op_spec.skip_on_upstream_skip = None
     op_spec.cache = compiled_operation.cache
     op_spec.queue = compiled_operation.queue
     op_spec.component.inputs = compiled_operation.inputs
     op_spec.component.outputs = compiled_operation.outputs
-    op_spec.component.contexts = compiled_operation.contexts
     op_spec.component.run = compiled_operation.run
     return op_spec
 
 
 def get_ops_from_suggestions(
     content: str,
     compiled_operation: V1CompiledOperation,
     suggestions: List[Dict],
 ) -> List[V1Operation]:
+    io_keys = compiled_operation.get_io_names()
+
     def has_param(k: str):
         if not compiled_operation.matrix:
             return None
-        return not compiled_operation.matrix.has_param(k)
+        return k not in io_keys
 
-    op_content = V1Operation.read(content)
+    op_content = V1Operation.read(content)  # TODO: Use construct
     for suggestion in suggestions:
         params = {
             k: V1Param(value=Parser.parse_expression(v, {}), context_only=has_param(k))
             for (k, v) in suggestion.items()
         }
         op_spec = copy.deepcopy(op_content)
         op_spec.matrix = None
         op_spec.conditions = None
         op_spec.schedule = None
         op_spec.events = None
         op_spec.dependencies = None
         op_spec.trigger = None
         op_spec.build = None
+        op_spec.is_approved = None
         op_spec.skip_on_upstream_skip = None
         op_spec.cache = compiled_operation.cache
         op_spec.queue = compiled_operation.queue
         op_spec.params = params
         op_spec.component.inputs = compiled_operation.inputs
         op_spec.component.outputs = compiled_operation.outputs
-        op_spec.component.contexts = compiled_operation.contexts
         op_spec.component.run = compiled_operation.run
         yield op_spec
 
 
 def get_eager_matrix_operations(
     content: str,
     compiled_operation: V1CompiledOperation,
@@ -86,40 +88,37 @@
 ) -> List[V1Operation]:
     is_supported_in_eager_mode(compiled_operation)
 
     try:
         import numpy as np
     except ImportError as e:
         if is_cli:
-            Printer.print_error(
-                "numpy is required for the eager mode, "
-                "please run 'pip install polyaxon[numpy]'",
+            Printer.error(
+                "numpy is required for the eager mode!",
                 sys_exit=True,
             )
         raise e
 
-    from polyaxon.polytune.search_managers.grid_search.manager import GridSearchManager
-    from polyaxon.polytune.search_managers.mapping.manager import MappingManager
-    from polyaxon.polytune.search_managers.random_search.manager import (
-        RandomSearchManager,
-    )
+    from hypertune.search_managers.grid_search.manager import GridSearchManager
+    from hypertune.search_managers.mapping.manager import MappingManager
+    from hypertune.search_managers.random_search.manager import RandomSearchManager
 
     if compiled_operation.has_random_search_matrix:
         suggestions = RandomSearchManager(compiled_operation.matrix).get_suggestions()
     elif compiled_operation.has_grid_search_matrix:
         suggestions = GridSearchManager(compiled_operation.matrix).get_suggestions()
     elif compiled_operation.has_mapping_matrix:
         suggestions = MappingManager(compiled_operation.matrix).get_suggestions()
     else:
         raise PolyaxonSchemaError(
             "Received a bad configuration, eager mode not supported, "
             "I should not be here!"
         )
     if is_cli:
-        Printer.print_header("Creating {} operations".format(len(suggestions)))
+        Printer.heading("Creating {} operations".format(len(suggestions)))
     return get_ops_from_suggestions(
         content=content, compiled_operation=compiled_operation, suggestions=suggestions
     )
 
 
 def is_supported_in_eager_mode(spec: Union[V1Operation, V1CompiledOperation]):
     if not spec.matrix:
@@ -129,12 +128,12 @@
                 "is not supported in eager mode".format(spec.component.run.kind)
             )
         else:
             raise PolyaxonSchemaError(
                 "Received a bad configuration, eager mode not supported"
             )
 
-    if spec.get_matrix_kind() not in V1MatrixKind.eager_values:
+    if spec.get_matrix_kind() not in V1MatrixKind.eager_values():
         raise PolyaxonSchemaError(
             "This operation is defining a matrix kind `{}` "
             "which is not supported in eager mode".format(spec.get_matrix_kind())
         )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/params.py` & `polyaxon-2.0.0rc0/polyaxon/cli/errors.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,49 +1,42 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, Optional
 
-from collections.abc import Mapping
+from clipped.formatting import Printer
 
-from polyaxon.exceptions import PolyaxonfileError
-from polyaxon.polyaxonfile.specs.libs.parser import Parser
-from polyaxon.utils.formatting import Printer
-
-
-def parse_params(params, is_cli: bool = True):
-    if isinstance(params, Mapping):
-        return {k: {"value": Parser.parse_expression(v, {})} for k, v in params.items()}
-
-    parsed_params = {}
-    for param in params:
-        index = param.find("=")
-        if index == -1:
-            message = (
-                "Invalid format for -P parameter: '%s'. Use -P name=value." % param
-            )
-            if is_cli:
-                Printer.print_error(message, sys_exit=True)
-            else:
-                raise PolyaxonfileError(message)
-        name = param[:index]
-        value = param[index + 1 :]
-        if name in parsed_params:
-            message = "Repeated parameter: '%s'" % name
-            if is_cli:
-                Printer.print_error(message, sys_exit=True)
-            else:
-                raise PolyaxonfileError(message)
-        parsed_params[name] = {"value": value}
+from polyaxon.exceptions import handle_api_error
 
-    return parsed_params
+
+def handle_cli_error(
+    e,
+    message: Optional[str] = None,
+    http_messages_mapping: Optional[Dict] = None,
+    sys_exit: bool = False,
+):
+    handle_api_error(
+        logger=Printer,
+        e=e,
+        message=message,
+        http_messages_mapping=http_messages_mapping,
+        sys_exit=sys_exit,
+    )
+
+
+def handle_command_not_in_ce():
+    Printer.error(
+        "You are running Polyaxon CE which does not support this command!",
+        sys_exit=True,
+    )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/__init__.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/base.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/base.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,22 +14,21 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import copy
 
 from collections.abc import Mapping
 
-from marshmallow import ValidationError
+from clipped.list_utils import to_list
 
 from polyaxon.config_reader.spec import ConfigSpec
-from polyaxon.exceptions import PolyaxonfileError
+from polyaxon.exceptions import PolyaxonfileError, PolyaxonValidationError
 from polyaxon.pkg import SCHEMA_VERSION
 from polyaxon.polyaxonfile.specs import kinds
 from polyaxon.polyaxonfile.specs.sections import Sections
-from polyaxon.utils.list_utils import to_list
 
 
 class BaseSpecification(Sections):
     """Base abstract specification for plyaxonfiles and configurations."""
 
     _SPEC_KIND = None
 
@@ -37,14 +36,15 @@
         SCHEMA_VERSION  # Max Polyaxonfile specification version this CLI supports
     )
     MIN_VERSION = (
         SCHEMA_VERSION  # Min Polyaxonfile specification version this CLI supports
     )
 
     CONFIG = None
+    PARTIAL_CONFIG = None
 
     @classmethod
     def check_version(cls, data):
         if data.get(cls.IS_PRESET):
             return
         if cls.VERSION not in data:
             raise PolyaxonfileError("The Polyaxonfile `version` must be specified.")
@@ -114,13 +114,18 @@
             return values
 
         if not isinstance(values, Mapping) or Sections.KIND not in values:
             values = to_list(values)
             values = ConfigSpec.read_from([{Sections.KIND: cls._SPEC_KIND}] + values)
         cls.check_data(values)
         try:
-            config = cls.CONFIG.from_dict(copy.deepcopy(values), partial=partial)
+            if partial and cls.PARTIAL_CONFIG:
+                config = cls.PARTIAL_CONFIG.from_dict(
+                    copy.deepcopy(values), partial=partial
+                )
+            else:
+                config = cls.CONFIG.from_dict(copy.deepcopy(values), partial=partial)
         except TypeError as e:
-            raise ValidationError(
+            raise PolyaxonValidationError(
                 "Received a non valid config `{}`: `{}`".format(cls._SPEC_KIND, e)
             )
         return config
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/component.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/component.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,27 +1,28 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Type
 
 from polyaxon.polyaxonfile.specs import kinds
 from polyaxon.polyaxonfile.specs.base import BaseSpecification
 from polyaxon.polyflow import V1Component
 
 
 class ComponentSpecification(BaseSpecification):
     """The polyaxonfile specification for component."""
 
     _SPEC_KIND = kinds.COMPONENT
 
-    CONFIG = V1Component
+    CONFIG: Type[V1Component] = V1Component
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/kinds.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/kinds.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/libs/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/plugins/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/libs/engine.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/libs/engine.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,29 +1,30 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-
 import jinja2
 
+from typing import Optional
+
 from markupsafe import soft_str
 
 
-def map_format(value, pattern, variable_name: str = None):
+def map_format(value, pattern, variable_name: Optional[str] = None):
     if variable_name:
         return soft_str(pattern) % {variable_name: value}
     return soft_str(pattern) % value
 
 
 def get_engine():
     env = jinja2.Environment()
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/libs/parser.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/libs/parser.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,15 +14,25 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import ast
 import jinja2
 
 from collections.abc import Mapping
+from datetime import date, datetime, timedelta
+from enum import Enum
 from typing import Dict
+from uuid import UUID
+
+from clipped.serialization import (
+    date_serialize,
+    datetime_serialize,
+    timedelta_serialize,
+    uuid_serialize,
+)
 
 from polyaxon.exceptions import PolyaxonSchemaError
 from polyaxon.polyaxonfile.specs.libs.engine import get_engine
 from polyaxon.polyaxonfile.specs.sections import Sections
 from polyaxon.polyflow import ParamSpec
 
 try:
@@ -213,14 +223,24 @@
 
     @classmethod
     def _parse_expression(  # pylint:disable=too-many-branches
         cls, expression, params: Dict, check_operators: bool = False
     ):
         if isinstance(expression, (int, float, complex, type(None))):
             return expression
+        if isinstance(expression, Enum):
+            return expression.value
+        if isinstance(expression, datetime):
+            return datetime_serialize(expression)
+        if isinstance(expression, date):
+            return date_serialize(expression)
+        if isinstance(expression, timedelta):
+            return timedelta_serialize(expression)
+        if isinstance(expression, UUID):
+            return uuid_serialize(expression)
         if np and isinstance(expression, np.integer):
             return int(expression)
         if np and isinstance(expression, np.floating):
             return float(expression)
         if isinstance(expression, Mapping):
             if len(expression) == 1:
                 old_key, value = list(expression.items())[0]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/libs/validator.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/libs/validator.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -23,15 +23,15 @@
 def validate(spec, data):
     """Validates the data and creates the config objects"""
     data = copy.deepcopy(data)
     validated_data = {}
 
     def validate_keys(section, config, section_data):
         extra_args = [
-            key for key in section_data.keys() if key not in config.SCHEMA().fields
+            key for key in section_data.keys() if key not in config.__fields__.keys()
         ]
         if extra_args:
             raise PolyaxonfileError(
                 "Extra arguments passed for `{}`: {}".format(section, extra_args)
             )
 
     def add_validated_section(section, config):
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyaxonfile/specs/sections.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/sections.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,30 +1,29 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.polyflow import ForConfig, IfConfig
-
 
 class Sections:
     VERSION = "version"
     KIND = "kind"
     NAME = "name"
+    COST = "cost"
     DESCRIPTION = "description"
     TAGS = "tags"
     IS_APPROVED = "isApproved"
     IS_PRESET = "isPreset"
     PRESETS = "presets"
     PATCH_STRATEGY = "patchStrategy"
     TEMPLATE = "template"
@@ -57,14 +56,15 @@
     URL_REF = "urlRef"
     COMPONENT = "component"
 
     SECTIONS = (
         VERSION,
         KIND,
         NAME,
+        COST,
         DESCRIPTION,
         TAGS,
         IS_APPROVED,
         PARAMS,
         IS_PRESET,
         PRESETS,
         PATCH_STRATEGY,
@@ -97,23 +97,25 @@
         RUN_PATCH,
     )
 
     PARSING_SECTIONS = (
         IS_APPROVED,
         MATRIX,
         PRESETS,
+        COST,
         QUEUE,
         CACHE,
         CONNECTIONS,
         PLUGINS,
         TERMINATION,
         SCHEDULE,
         DEPENDENCIES,
         TRIGGER,
         CONDITIONS,
         SKIP_ON_UPSTREAM_SKIP,
         PATCH_STRATEGY,
     )
 
     REQUIRED_SECTIONS = (VERSION, KIND)
+    OPERATORS = set([])
 
-    OPERATORS = {ForConfig.IDENTIFIER: ForConfig, IfConfig.IDENTIFIER: IfConfig}
+    # OPERATORS = {ForConfig.IDENTIFIER: ForConfig, IfConfig.IDENTIFIER: IfConfig}
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyboard/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyaxonfile/specs/libs/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyboard/artifacts/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyboard/artifacts.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,18 +1,20 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.polyboard.artifacts.kinds import V1ArtifactKind
-from polyaxon.polyboard.artifacts.schemas import RunArtifactSchema, V1RunArtifact
+# To keep backwards compatibility
+
+from traceml.artifacts.kinds import V1ArtifactKind
+from traceml.artifacts.schemas import V1RunArtifact
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyboard/artifacts/kinds.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/containers/__init__.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,21 +1,17 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import polyaxon_sdk
-
-
-class V1ArtifactKind(polyaxon_sdk.V1ArtifactKind):
-    pass
+from polyaxon.polyflow.containers.container import get_container_command_args
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyboard/logging/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/params/__init__.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,17 +1,17 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.polyboard.logging.schemas import V1Log, V1Logs
+from polyaxon.polyflow.params.params import ParamSpec, V1Param
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyboard/processors/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyboard/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyboard/utils.py` & `polyaxon-2.0.0rc0/polyaxon/containers/pull_policy.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,26 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import os
+from enum import Enum
 
-from io import StringIO
 
-
-def validate_csv(csv: str):
-    if csv and not os.path.exists(csv):
-        csv = StringIO(csv)
-
-    return csv
+class PullPolicy(str, Enum):
+    ALWAYS = "Always"
+    IF_NOT_PRESENT = "IfNotPresent"
+    NEVER = "Never"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/__init__.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,64 +1,51 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.polyflow.builds import BuildSchema, V1Build
-from polyaxon.polyflow.cache import CacheSchema, V1Cache
-from polyaxon.polyflow.component import ComponentSchema, V1Component
+from polyaxon.polyflow.builds import V1Build
+from polyaxon.polyflow.cache import V1Cache
+from polyaxon.polyflow.component import V1Component
 from polyaxon.polyflow.dags import DagOpSpec
 from polyaxon.polyflow.early_stopping import (
-    DiffStoppingPolicySchema,
-    EarlyStoppingSchema,
-    FailureEarlyStoppingSchema,
-    MedianStoppingPolicySchema,
-    MetricEarlyStoppingSchema,
-    StoppingPolicySchema,
-    TruncationStoppingPolicySchema,
     V1DiffStoppingPolicy,
     V1FailureEarlyStopping,
     V1MedianStoppingPolicy,
     V1MetricEarlyStopping,
     V1TruncationStoppingPolicy,
 )
-from polyaxon.polyflow.environment import EnvironmentSchema, V1Environment
-from polyaxon.polyflow.events import EventTriggerSchema, V1EventKind, V1EventTrigger
-from polyaxon.polyflow.hooks import HookSchema, V1Hook
-from polyaxon.polyflow.init import InitSchema, V1Init
-from polyaxon.polyflow.io import V1IO, IOSchema
-from polyaxon.polyflow.joins import JoinParamSchema, JoinSchema, V1Join, V1JoinParam
+from polyaxon.polyflow.environment import V1Environment
+from polyaxon.polyflow.events import V1EventKind, V1EventTrigger
+from polyaxon.polyflow.hooks import V1Hook
+from polyaxon.polyflow.init import V1Init
+from polyaxon.polyflow.io import V1IO
+from polyaxon.polyflow.joins import V1Join, V1JoinParam
 from polyaxon.polyflow.matrix import (
     AcquisitionFunctions,
-    BayesSchema,
     GaussianProcessConfig,
     GaussianProcessesKernels,
-    GridSearchSchema,
-    HyperbandSchema,
-    HyperoptSchema,
-    IterativeSchema,
-    MappingSchema,
     MatrixMixin,
-    MatrixSchema,
-    RandomSearchSchema,
     UtilityFunctionConfig,
     V1Bayes,
     V1GridSearch,
     V1HpChoice,
+    V1HpDateRange,
+    V1HpDateTimeRange,
     V1HpGeomSpace,
     V1HpLinSpace,
     V1HpLogNormal,
     V1HpLogSpace,
     V1HpLogUniform,
     V1HpNormal,
     V1HpPChoice,
@@ -73,92 +60,71 @@
     V1Iterative,
     V1Mapping,
     V1Matrix,
     V1MatrixKind,
     V1RandomSearch,
     V1Tuner,
 )
-from polyaxon.polyflow.mounts import ArtifactsMountSchema, V1ArtifactsMount
-from polyaxon.polyflow.notifications import NotificationSchema, V1Notification
-from polyaxon.polyflow.operations import (
-    CompiledOperationSchema,
-    OperationSchema,
-    V1CompiledOperation,
-    V1Operation,
-)
-from polyaxon.polyflow.operators import ForConfig, IfConfig
+from polyaxon.polyflow.mounts import V1ArtifactsMount
+from polyaxon.polyflow.notifications import V1Notification
+from polyaxon.polyflow.operations import V1CompiledOperation, V1Operation
 from polyaxon.polyflow.optimization import (
-    OptimizationMetricSchema,
-    OptimizationResourceSchema,
-    ResourceType,
     V1Optimization,
     V1OptimizationMetric,
     V1OptimizationResource,
+    V1ResourceType,
 )
 from polyaxon.polyflow.params import ParamSpec, V1Param, ops_params
-from polyaxon.polyflow.plugins import PluginsSchema, V1Plugins
+from polyaxon.polyflow.plugins import V1Plugins
 from polyaxon.polyflow.references import (
-    DagRefSchema,
-    HubRefSchema,
-    PathRefSchema,
     RefMixin,
-    UrlRefSchema,
     V1DagRef,
     V1HubRef,
     V1PathRef,
     V1UrlRef,
 )
 from polyaxon.polyflow.run import (
-    CleanerJobSchema,
-    DagSchema,
-    DaskSchema,
-    FlinkSchema,
-    JobSchema,
-    KFReplicaSchema,
-    MPIJobSchema,
-    NotifierJobSchema,
-    PytorchJobSchema,
+    MXJobMode,
     RunMixin,
-    RunSchema,
-    ServiceSchema,
-    SparkReplicaSchema,
-    SparkSchema,
-    TFJobSchema,
-    TunerJobSchema,
     V1CleanerJob,
     V1CleanPodPolicy,
     V1CloningKind,
     V1Dag,
     V1Dask,
     V1Flink,
     V1Job,
     V1KFReplica,
     V1MPIJob,
+    V1MXJob,
     V1NotifierJob,
+    V1PaddleJob,
     V1PipelineKind,
     V1PytorchJob,
     V1RunEdgeKind,
     V1RunKind,
     V1RunResources,
+    V1Runtime,
+    V1SchedulingPolicy,
     V1Service,
     V1Spark,
     V1SparkDeploy,
     V1SparkReplica,
     V1SparkType,
     V1TFJob,
     V1TunerJob,
+    V1XGBoostJob,
     validate_run_patch,
 )
 from polyaxon.polyflow.schedules import (
-    CronScheduleSchema,
-    DateTimeScheduleSchema,
-    IntervalScheduleSchema,
     ScheduleMixin,
-    ScheduleSchema,
     V1CronSchedule,
     V1DateTimeSchedule,
     V1IntervalSchedule,
     V1ScheduleKind,
 )
-from polyaxon.polyflow.templates import TemplateSchema, V1Template
-from polyaxon.polyflow.termination import TerminationSchema, V1Termination
+from polyaxon.polyflow.templates import V1Template
+from polyaxon.polyflow.termination import V1Termination
 from polyaxon.polyflow.trigger_policies import V1TriggerPolicy
+
+# Forward references for operations and components
+V1Dag.update_forward_refs(V1Operation=V1Operation)
+V1Dag.update_forward_refs(V1Component=V1Component)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/builds/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/builds/__init__.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,54 +1,34 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Any, Dict, List, Optional, Union
 
-import polyaxon_sdk
+from pydantic import Field, StrictStr
 
-from marshmallow import fields, validate
-
-from polyaxon.polyflow.cache import CacheSchema
-from polyaxon.polyflow.params import ParamSchema
+from polyaxon.polyflow.cache import V1Cache
+from polyaxon.polyflow.params import V1Param
 from polyaxon.schemas import V1PatchStrategy
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields.ref_or_obj import RefField
 
-class BuildSchema(BaseCamelSchema):
-    hub_ref = fields.Str(required=True)
-    connection = fields.Str(allow_none=True)
-    queue = RefOrObject(fields.Str(allow_none=True))
-    presets = RefOrObject(fields.List(fields.Str(allow_none=True)))
-    cache = fields.Nested(CacheSchema, allow_none=True)
-    params = fields.Dict(
-        keys=fields.Str(), values=fields.Nested(ParamSchema), allow_none=True
-    )
-    run_patch = fields.Dict(keys=fields.Str(), values=fields.Raw(), allow_none=True)
-    patch_strategy = fields.Str(
-        allow_none=True, validate=validate.OneOf(V1PatchStrategy.allowable_values)
-    )
 
-    @staticmethod
-    def schema_config():
-        return V1Build
-
-
-class V1Build(BaseConfig, polyaxon_sdk.V1Build):
+class V1Build(BaseSchemaModel):
     """You can configure Polyaxon to automatically trigger a build process anytime
     the component or operation is instantiated.
 
     the build section allows to dynamically recreate a new docker image
     that will be used to run the main logic.
     The new image is generated automatically and automatically set on the main container,
     the name is based on the project name and the run's uuid, i.e. `project:build-uuid`.
@@ -240,19 +220,18 @@
     There are four strategies:
      * `replace`: replaces all keys with new values if provided.
      * `isnull`: only applies new values if the keys have empty/None values.
      * `post_merge`: applies deep merge where newer values are applied last.
      * `pre_merge`: applies deep merge where newer values are applied first.
     """
 
-    IDENTIFIER = "build"
-    SCHEMA = BuildSchema
-    REDUCED_ATTRIBUTES = [
-        "hubRef",
-        "connection",
-        "queue",
-        "presets",
-        "cache",
-        "params",
-        "runPatch",
-        "patchStrategy",
-    ]
+    _IDENTIFIER = "build"
+    hub_ref: StrictStr = Field(alias="hubRef")
+    connection: Optional[StrictStr]
+    queue: Optional[StrictStr]
+    presets: Optional[Union[List[StrictStr], RefField]]
+    cache: Optional[Union[V1Cache, RefField]]
+    params: Optional[Dict[str, Union[V1Param, RefField]]]
+    run_patch: Optional[Dict[str, Any]] = Field(alias="runPatch")
+    patch_strategy: Optional[Union[V1PatchStrategy, RefField]] = Field(
+        alias="patchStrategy"
+    )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/cache/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/cache/__init__.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,70 +1,64 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional, Union
 
-import polyaxon_sdk
+from clipped.enums_utils import PEnum
+from pydantic import StrictStr
 
-from marshmallow import fields
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields.ref_or_obj import BoolOrRef, IntOrRef, RefField
 
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
 
-
-class CacheSchema(BaseCamelSchema):
-    disable = fields.Bool(allow_none=True)
-    ttl = fields.Int(allow_none=True)
-    io = fields.List(fields.Str(), allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1Cache
-
-
-class V1Cache(BaseConfig, polyaxon_sdk.V1Cache):
+class V1Cache(BaseSchemaModel):
     """Polyaxon provides a caching layer for operation executions,
     this behavior is enabled by default for all runs executed in the context of a DAG,
     a hyperparameter tuning, or a mapping.
 
     When runs are cached their outputs will be reused for future
     runs with similar inputs and component version.
 
     Args:
         disable: bool, optional, default: False
         ttl: int, optional
         io: List[str], optional
+        sections: List[str], optional
 
     ## YAML usage
 
     ```yaml
     >>> cache:
     >>>   disable:
     >>>   ttl:
     >>>   inputs:
+    >>>   sections:
     ```
 
     ## Python usage
 
     ```python
     >>> from polyaxon.polyflow import V1Cache
     >>> cache = V1Cache(
     >>>   disable=False,
     >>>   ttl=3600,
     >>>   io=['param1', 'param4']
+    >>>   sections=['init']
     >>> )
     ```
 
     ## Fields
 
     ### disable
 
@@ -97,12 +91,35 @@
 
     This field gives you full control to define how you want to calculate the cache state.
 
     ```yaml
     >>> cache:
     >>>   io: ['param1', 'param4']
     ```
+
+    ### sections
+
+    By default the cache manager will consider the state of the `init`, `connections`,
+    and `containers` (command and args) to trigger the cache hit logic.
+    You may want to discard a section from being considered for
+    the cache state calculation.
+
+    This field gives you allows to define the sections that should be used
+    to calculate the cache state.
+
+    ```yaml
+    >>> cache:
+    >>>   sections: ['containers']
+    ```
     """
 
-    SCHEMA = CacheSchema
-    IDENTIFIER = "cache"
-    REDUCED_ATTRIBUTES = ["disable", "ttl", "io"]
+    _IDENTIFIER = "cache"
+
+    class CacheSections(str, PEnum):
+        CONTAINERS = "containers"
+        INIT = "init"
+        CONNECTIONS = "connections"
+
+    disable: Optional[BoolOrRef]
+    ttl: Optional[IntOrRef]
+    io: Optional[Union[List[StrictStr], RefField]]
+    sections: Optional[Union[List[CacheSections], RefField]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/component/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/component/__init__.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,18 +1,18 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.polyflow.component.component import ComponentSchema, V1Component
-from polyaxon.polyflow.component.component_reference import ComponentReferenceSchema
+from polyaxon.polyflow.component.component import V1Component
+from polyaxon.polyflow.component.component_reference import V1ComponentReference
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/component/component.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/component/component.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,49 +1,37 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
-
-from polyaxon.polyflow import BuildSchema
-from polyaxon.polyflow.component.base import BaseComponent, BaseComponentSchema
-from polyaxon.polyflow.io import IOSchema
+from polyaxon.polyflow.component.base import BaseComponent
+from polyaxon.polyflow.io import V1IO
 from polyaxon.polyflow.references import RefMixin
-from polyaxon.polyflow.run import RunMixin, RunSchema
-from polyaxon.polyflow.templates import TemplateMixinConfig, TemplateMixinSchema
-
-
-class ComponentSchema(BaseComponentSchema, TemplateMixinSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("component"))
-    inputs = fields.List(fields.Nested(IOSchema), allow_none=True)
-    outputs = fields.List(fields.Nested(IOSchema), allow_none=True)
-    build = fields.Nested(BuildSchema, allow_none=True)
-    run = fields.Nested(RunSchema, required=True)
-
-    @staticmethod
-    def schema_config():
-        return V1Component
+from polyaxon.polyflow.run import RunMixin, V1Runtime
+from polyaxon.polyflow.templates import TemplateMixinConfig, V1Template
 
 
 class V1Component(
-    BaseComponent, TemplateMixinConfig, RunMixin, RefMixin, polyaxon_sdk.V1Component
+    BaseComponent,
+    TemplateMixinConfig,
+    RunMixin,
+    RefMixin,
 ):
     """Component is a discrete, repeatable, and self-contained action that defines
     an environment and a runtime.
 
     A component is made of code that performs an action,
     such as container building, data preprocessing, data transformation, model training, and so on.
 
@@ -69,15 +57,15 @@
         cache: [V1Cache](/docs/automation/helpers/cache/), optional
         termination: [V1Termination](/docs/core/specification/termination/), optional
         plugins: [V1Plugins](/docs/core/specification/plugins/), optional
         build: [V1Build](/docs/automation/builds/), optional
         hooks: List[[V1Hook](/docs/automation/hooks/)], optional
         inputs: [V1IO](/docs/core/specification/io/), optional
         outputs: [V1IO](/docs/core/specification/io/), optional
-        run: Union[[V1Job](/docs/experimentation/jobs/), [V1Service](/docs/experimentation/services/), [V1TFJob](/docs/experimentation/distributed/tf-jobs/), [V1PytorchJob](/docs/experimentation/distributed/pytorch-jobs/), [V1MPIJob](/docs/experimentation/distributed/mpi-jobs/), [V1Spark](/docs/experimentation/distributed/spark-jobs/), [V1Dask](/docs/experimentation/distributed/dask-jobs/), [V1Dag](/docs/automation/flow-engine/specification/)]  # noqa
+        run: Union[[V1Job](/docs/experimentation/jobs/), [V1Service](/docs/experimentation/services/), [V1TFJob](/docs/experimentation/distributed/tf-jobs/), [V1PytorchJob](/docs/experimentation/distributed/pytorch-jobs/), [V1MPIJob](/docs/experimentation/distributed/mpi-jobs/), [V1PaddleJob](/docs/experimentation/distributed/paddle-jobs/), [V1Spark](/docs/experimentation/distributed/spark-jobs/), [V1Dask](/docs/experimentation/distributed/dask-jobs/), [V1Dag](/docs/automation/flow-engine/specification/)]  # noqa
         template: [V1Template](/docs/core/specification/template/), optional
 
     ## YAML usage
 
     ```yaml
     >>> component:
     >>>   version: 1.1
@@ -355,14 +343,16 @@
      * [V1Service](/docs/experimentation/services/): for running tensorboards, notebooks,
        streamlit, custom services or an API.
      * [V1TFJob](/docs/experimentation/distributed/tf-jobs/): for running distributed
        Tensorflow training job.
      * [V1PytorchJob](/docs/experimentation/distributed/pytorch-jobs/): for running distributed
        Pytorch training job.
      * [V1MPIJob](/docs/experimentation/distributed/mpi-jobs/): for running distributed MPI job.
+     * [V1PaddleJob](/docs/experimentation/distributed/paddle-jobs/): for running distributed
+       PaddlePaddle training job.
      * [V1Spark](/docs/experimentation/distributed/spark-jobs/): for running a spark Application.
      * [V1Dask](/docs/experimentation/distributed/dask-jobs/): for running a Dask job.
      * [V1Dag](/docs/automation/flow-engine/specification/): for running a DAG/workflow.
 
     ### isApproved
 
     This is a flag to trigger human validation before queuing and scheduling this component.
@@ -381,21 +371,21 @@
     it can map directly to the cost of using the environment where the operation is running.
 
     ```yaml
     >>> cost: 2.2
     ```
     """
 
-    SCHEMA = ComponentSchema
-    IDENTIFIER = "component"
-    REDUCED_ATTRIBUTES = (
-        BaseComponent.REDUCED_ATTRIBUTES
-        + TemplateMixinConfig.REDUCED_ATTRIBUTES
-        + ["inputs", "outputs", "run"]
-    )
+    _IDENTIFIER = "component"
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    inputs: Optional[List[V1IO]]
+    outputs: Optional[List[V1IO]]
+    run: Union[V1Runtime]
+    template: Optional[V1Template]
 
     def get_run_kind(self):
         return self.run.kind if self.run else None
 
     def get_kind_value(self):
         return self.name
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/containers/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polytune/__init__.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,17 +1,17 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.polyflow.containers.container import get_container_command_args
+# To keep backwards compatibility
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/containers/container.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/containers/container.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,25 +1,25 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.utils.list_utils import to_list
-from polyaxon.utils.string_utils import strip_spaces
+from clipped.list_utils import to_list
+from clipped.string_utils import strip_spaces
 
 
 def get_container_command_args(config):
     def sanitize_str(value):
         if not value:
             return
         value = strip_spaces(value=value, join=False)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/dags/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/dags/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/early_stopping/policies.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/early_stopping/policies.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,110 +1,69 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional, Union
+from typing_extensions import Annotated, Literal
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
+from pydantic import Field, StrictFloat, StrictStr
 
 from polyaxon.polyflow.optimization import V1Optimization
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig, BaseOneOfSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-
-
-class MedianStoppingPolicySchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("median"))
-    evaluation_interval = RefOrObject(fields.Int(), required=True)
-    min_interval = RefOrObject(fields.Int(allow_none=True))
-    min_samples = RefOrObject(fields.Int(allow_none=True))
-
-    @staticmethod
-    def schema_config():
-        return V1MedianStoppingPolicy
-
-
-class V1MedianStoppingPolicy(BaseConfig, polyaxon_sdk.V1MedianStoppingPolicy):
-    IDENTIFIER = "median"
-    SCHEMA = MedianStoppingPolicySchema
-    REDUCED_ATTRIBUTES = ["minInterval", "minSamples"]
-
+from polyaxon.schemas.base import BaseDiscriminatedModel
+from polyaxon.schemas.fields.ref_or_obj import BoolOrRef, FloatOrRef, IntOrRef
 
-class TruncationStoppingPolicySchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("truncation"))
-    percent = RefOrObject(fields.Float(), required=True)
-    evaluation_interval = RefOrObject(fields.Int(), required=True)
-    min_interval = RefOrObject(fields.Int(allow_none=True))
-    min_samples = RefOrObject(fields.Int(allow_none=True))
 
-    @staticmethod
-    def schema_config():
-        return V1TruncationStoppingPolicy
+class V1MedianStoppingPolicy(BaseDiscriminatedModel):
+    _IDENTIFIER = "median"
 
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    evaluation_interval: IntOrRef = Field(alias="evaluationInterval")
+    min_interval: Optional[IntOrRef] = Field(alias="minInterval")
+    min_samples: Optional[IntOrRef] = Field(alias="minSamples")
 
-class V1TruncationStoppingPolicy(BaseConfig, polyaxon_sdk.V1TruncationStoppingPolicy):
-    IDENTIFIER = "truncation"
-    SCHEMA = TruncationStoppingPolicySchema
-    REDUCED_ATTRIBUTES = ["minInterval", "minSamples"]
 
+class V1TruncationStoppingPolicy(BaseDiscriminatedModel):
+    _IDENTIFIER = "truncation"
 
-class DiffStoppingPolicySchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("diff"))
-    percent = RefOrObject(fields.Float(), required=True)
-    evaluation_interval = RefOrObject(fields.Int(), required=True)
-    min_interval = RefOrObject(fields.Int(allow_none=True))
-    min_samples = RefOrObject(fields.Int(allow_none=True))
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    percent: FloatOrRef
+    evaluation_interval: IntOrRef = Field(alias="evaluationInterval")
+    min_interval: Optional[IntOrRef] = Field(alias="minInterval")
+    min_samples: Optional[IntOrRef] = Field(alias="minSamples")
+    include_succeeded: Optional[BoolOrRef] = Field(alias="includeSucceeded")
 
-    @staticmethod
-    def schema_config():
-        return V1DiffStoppingPolicy
 
+class V1DiffStoppingPolicy(BaseDiscriminatedModel):
+    _IDENTIFIER = "diff"
 
-class V1DiffStoppingPolicy(BaseConfig, polyaxon_sdk.V1DiffStoppingPolicy):
-    IDENTIFIER = "diff"
-    SCHEMA = DiffStoppingPolicySchema
-    REDUCED_ATTRIBUTES = ["minInterval", "minSamples"]
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    percent: FloatOrRef
+    evaluation_interval: IntOrRef = Field(alias="evaluationInterval")
+    min_interval: Optional[IntOrRef] = Field(alias="minInterval")
+    min_samples: Optional[IntOrRef] = Field(alias="minSamples")
 
 
-class StoppingPolicySchema(BaseOneOfSchema):
-    TYPE_FIELD = "kind"
-    TYPE_FIELD_REMOVE = False
-    SCHEMAS = {
-        V1MedianStoppingPolicy.IDENTIFIER: MedianStoppingPolicySchema,
-        V1TruncationStoppingPolicy.IDENTIFIER: TruncationStoppingPolicySchema,
-        V1DiffStoppingPolicy.IDENTIFIER: DiffStoppingPolicySchema,
-    }
+V1EarlyStoppingPolicy = Annotated[
+    Union[V1MedianStoppingPolicy, V1TruncationStoppingPolicy, V1DiffStoppingPolicy],
+    Field(discriminator="kind", alias="earlyStopping"),
+]
 
 
-class MetricEarlyStoppingSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("metric_early_stopping"))
-    metric = RefOrObject(fields.Str(), required=True)
-    value = RefOrObject(fields.Float(), required=True)
-    optimization = RefOrObject(
-        fields.Str(validate=validate.OneOf(V1Optimization.VALUES)), required=True
-    )
-    policy = fields.Nested(StoppingPolicySchema, allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1MetricEarlyStopping
-
-
-class V1MetricEarlyStopping(BaseConfig, polyaxon_sdk.V1MetricEarlyStopping):
+class V1MetricEarlyStopping(BaseDiscriminatedModel):
     """Metric early stopping is an early stopping strategy based on metrics of runs,
     it allows to terminate a dag, a mapping, or hyperparameter tuning when a run's metric(s)
     meet(s) one or multiple conditions.
 
     If no policy is set and a metric early stopping condition is met the pipeline will be marked
     as succeeded and all pending or running operations will be stopped.
 
@@ -195,30 +154,24 @@
      * DiffStopping: Early stopping with diff factor stopping,
          this policy computes checked runs against the best run and
          stops those whose performance is worse than the best by the factor defined by the user.
      * TruncationStopping: Early stopping with truncation stopping,
          this policy stops a percentage of all running runs at every evaluation.
     """
 
-    SCHEMA = MetricEarlyStoppingSchema
-    IDENTIFIER = "metric_early_stopping"
+    _IDENTIFIER = "metric_early_stopping"
 
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    metric: StrictStr
+    value: FloatOrRef
+    optimization: Union[StrictFloat, V1Optimization]
+    policy: Optional[V1EarlyStoppingPolicy]
 
-class FailureEarlyStoppingSchema(BaseCamelSchema):
-    kind = fields.Str(
-        allow_none=True, validate=validate.Equal("failure_early_stopping")
-    )
-    percent = RefOrObject(fields.Float(), required=True)
 
-    @staticmethod
-    def schema_config():
-        return V1FailureEarlyStopping
-
-
-class V1FailureEarlyStopping(BaseConfig, polyaxon_sdk.V1FailureEarlyStopping):
+class V1FailureEarlyStopping(BaseDiscriminatedModel):
     """Failure early stopping is an early stopping strategy based on statuses of runs that allows
     to terminate a dag, a mapping, or hyperparameter tuning group
     when they reach a certain level of failures.
 
     If a percentage of the runs in the pipeline fail,
     the pipeline will be marked as failed as well,
     and all pending or running operations will be stopped.
@@ -266,9 +219,11 @@
     ```yaml
     >>> earlyStopping:
     >>>   - kind: failure_early_stopping
     >>>     percent: 30
     ```
     """
 
-    IDENTIFIER = "failure_early_stopping"
-    SCHEMA = FailureEarlyStoppingSchema
+    _IDENTIFIER = "failure_early_stopping"
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    percent: FloatOrRef
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/environment/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/environment/__init__.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,93 +1,44 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, List, Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from pydantic import Field, StrictStr, validator
 
-from marshmallow import fields, validate, validates_schema
-
-from polyaxon.k8s import k8s_schemas
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.swagger import SwaggerField
-from polyaxon.utils.sanitizers import sanitize_string_dict
-from polyaxon.utils.signal_decorators import check_partial
-
-
-class EnvironmentSchema(BaseCamelSchema):
-    labels = fields.Dict(allow_none=True)
-    annotations = fields.Dict(allow_none=True)
-    node_selector = fields.Dict(allow_none=True)
-    affinity = SwaggerField(cls=k8s_schemas.V1Affinity, allow_none=True)
-    tolerations = fields.List(
-        SwaggerField(cls=k8s_schemas.V1Toleration), allow_none=True
-    )
-    node_name = fields.Str(allow_none=True)
-    service_account_name = fields.Str(allow_none=True)
-    host_aliases = fields.List(
-        SwaggerField(cls=k8s_schemas.V1HostAlias), allow_none=True
-    )
-    security_context = SwaggerField(cls=k8s_schemas.V1SecurityContext, allow_none=True)
-    image_pull_secrets = fields.List(fields.Str(), allow_none=True)
-    host_network = fields.Bool(allow_none=True)
-    host_pid = fields.Bool(allow_none=True, data_key="hostPID")
-    dns_policy = fields.Str(allow_none=True)
-    dns_config = SwaggerField(cls=k8s_schemas.V1PodDNSConfig, allow_none=True)
-    scheduler_name = fields.Str(allow_none=True)
-    priority_class_name = fields.Str(allow_none=True)
-    priority = fields.Int(allow_none=True)
-    restart_policy = fields.Str(
-        allow_none=True, validate=validate.OneOf(["Always", "OnFailure", "Never"])
-    )
-
-    @staticmethod
-    def schema_config():
-        return V1Environment
-
-    @validates_schema
-    @check_partial
-    def validate_param(self, values, **kwargs):
-        labels = values.get("labels")
-        if labels:
-            values["labels"] = sanitize_string_dict(labels)
-        annotations = values.get("annotations")
-        if annotations:
-            values["annotations"] = sanitize_string_dict(annotations)
-        node_selector = sanitize_string_dict(values.get("nodeSelector"))
-        if node_selector:
-            values["nodeSelector"] = sanitize_string_dict(node_selector)
-
-        return values
+from polyaxon.k8s import k8s_schemas, k8s_validation
+from polyaxon.schemas.base import BaseSchemaModel
 
 
-class V1Environment(BaseConfig, polyaxon_sdk.V1Environment):
+class V1Environment(BaseSchemaModel):
     """The environment section allows to alter the
     configuration of the runtime of your jobs, experiments, and services.
 
     Based on this section you can define several information
     that will be injected into the pod running on Kubernetes, e.g. the node selector.
 
     Args:
         labels: Dict, optional
         annotations: Dict, optional
         node_selector: Dict, optional
         affinity: V1Affinity, optional
-        tolerations: V1Affinity, optional
+        tolerations: List[V1Toleration], optional
         node_name: str, optional
         service_account_name: str, optional
         host_aliases: V1HostAlias, optional
         security_context: V1SecurityContext, optional
         image_pull_secrets: List[str], optional
         host_network: bool, optional
         host_pid: bool, optional
@@ -440,29 +391,66 @@
 
     ```yaml
     >>> environment:
     >>>   restartPolicy: Never
     ```
     """
 
-    IDENTIFIER = "environment"
-    SCHEMA = EnvironmentSchema
-    REDUCED_ATTRIBUTES = [
-        "labels",
-        "annotations",
-        "nodeSelector",
+    _IDENTIFIER = "environment"
+    _SWAGGER_FIELDS = [
         "affinity",
         "tolerations",
-        "nodeName",
-        "serviceAccountName",
-        "hostAliases",
         "securityContext",
-        "imagePullSecrets",
-        "hostNetwork",
-        "hostPID",
-        "dnsPolicy",
+        "hostAliases",
         "dnsConfig",
-        "schedulerName",
-        "priorityClassName",
-        "priority",
-        "restartPolicy",
     ]
+
+    labels: Optional[Dict[StrictStr, StrictStr]]
+    annotations: Optional[Dict[StrictStr, StrictStr]]
+    node_selector: Optional[Dict[StrictStr, StrictStr]] = Field(alias="nodeSelector")
+    affinity: Optional[Union[k8s_schemas.V1Affinity, Dict]]
+    tolerations: Optional[List[Union[k8s_schemas.V1Toleration, Dict]]]
+    node_name: Optional[StrictStr] = Field(alias="nodeName")
+    service_account_name: Optional[StrictStr] = Field(alias="serviceAccountName")
+    host_aliases: Optional[List[k8s_schemas.V1HostAlias]] = Field(alias="hostAliases")
+    security_context: Optional[Union[k8s_schemas.V1SecurityContext, Dict]] = Field(
+        alias="securityContext"
+    )
+    image_pull_secrets: Optional[List[StrictStr]] = Field(alias="imagePullSecrets")
+    host_network: Optional[bool] = Field(alias="hostNetwork")
+    host_pid: Optional[bool] = Field(alias="hostPID")
+    dns_policy: Optional[StrictStr] = Field(alias="dnsPolicy")
+    dns_config: Optional[k8s_schemas.V1PodDNSConfig] = Field(alias="dnsConfig")
+    scheduler_name: Optional[StrictStr] = Field(alias="schedulerName")
+    priority_class_name: Optional[StrictStr] = Field(alias="priorityClassName")
+    priority: Optional[int]
+    restart_policy: Optional[Literal["Always", "OnFailure", "Never"]] = Field(
+        alias="restartPolicy"
+    )
+
+    @validator("affinity", always=True, pre=True)
+    def validate_affinity(cls, v):
+        return k8s_validation.validate_k8s_affinity(v)
+
+    @validator("tolerations", always=True, pre=True)
+    def validate_tolerations(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_toleration(vi) for vi in v]
+
+    @validator("host_aliases", always=True, pre=True)
+    def validate_host_aliases(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_host_alias(vi) for vi in v]
+
+    @validator("security_context", always=True, pre=True)
+    def validate_security_context(cls, v):
+        if not v:
+            return v
+        return k8s_validation.validate_k8s_security_context(v)
+
+    @validator("dns_config", always=True, pre=True)
+    def validate_dns_config(cls, v):
+        if not v:
+            return v
+        return k8s_validation.validate_k8s_pod_dns_config(v)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/hooks/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/hooks/__init__.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,53 +1,33 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, List, Optional, Union
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
+from pydantic import Field, StrictStr, validator
 
 from polyaxon.lifecycle import V1Statuses
-from polyaxon.polyflow.params import ParamSchema
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-
-
-class HookSchema(BaseCamelSchema):
-    connection = fields.Str(allow_none=True)
-    trigger = fields.Str(
-        allow_none=True, validate=validate.OneOf(V1Statuses.allowable_hook_values)
-    )
-    hub_ref = fields.Str(required=True)
-    conditions = fields.Str(allow_none=True)
-    queue = RefOrObject(fields.Str(allow_none=True))
-    presets = RefOrObject(fields.List(fields.Str(allow_none=True)))
-    params = fields.Dict(
-        keys=fields.Str(), values=fields.Nested(ParamSchema), allow_none=True
-    )
-    disable_defaults = fields.Bool(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1Hook
+from polyaxon.polyflow.params import V1Param
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields.ref_or_obj import BoolOrRef, RefField
 
 
-class V1Hook(BaseConfig, polyaxon_sdk.V1Hook):
+class V1Hook(BaseSchemaModel):
     """You can configure Polyaxon to send notifications and webhooks to users and systems
     when operations reaches a final state,
     or trigger any logic that is tightly coupled with a class of operations.
 
     Hooks allow you to build or set up integrations and dependencies
     based on final events generated by Polyaxon.
     External systems can subscribe or provide handling for certain events.
@@ -225,19 +205,27 @@
     >>>   params:
     >>>     param1: {value: 1.1}
     >>>     param2: {value: test}
     >>>   ...
     ```
     """
 
-    IDENTIFIER = "hook"
-    SCHEMA = HookSchema
-    REDUCED_ATTRIBUTES = [
-        "connection",
-        "trigger",
-        "hubRef",
-        "params",
-        "conditions",
-        "queue",
-        "presets",
-        "disableDefaults",
-    ]
+    _IDENTIFIER = "hook"
+
+    hub_ref: StrictStr = Field(alias="hubRef")
+    connection: Optional[StrictStr]
+    trigger: Optional[V1Statuses]
+    conditions: Optional[StrictStr]
+    queue: Optional[StrictStr]
+    presets: Optional[List[StrictStr]]
+    params: Optional[Union[Dict[str, V1Param], RefField]]
+    disable_defaults: Optional[BoolOrRef] = Field(alias="disableDefaults")
+
+    @validator("trigger")
+    def validate_trigger(cls, v):
+        if v and v not in V1Statuses.get_allowable_hook_values():
+            raise ValueError(
+                "Trigger must be one of {}".format(
+                    V1Statuses.get_allowable_hook_values()
+                )
+            )
+        return v
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/io/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/mounts/__init__.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,17 +1,17 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.polyflow.io.io import V1IO, IOSchema
+from polyaxon.polyflow.mounts.artifacts_mounts import V1ArtifactsMount
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/io/io.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/io/io.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,33 +1,30 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from typing import Any, List
+from typing import Any, List, Optional
 
-import polyaxon_sdk
-
-from marshmallow import ValidationError, fields, validate, validates_schema
+from pydantic import Field, StrictStr, root_validator, validator
 
 from polyaxon import types
-from polyaxon.exceptions import PolyaxonSchemaError
+from polyaxon.exceptions import PolyaxonSchemaError, PolyaxonValidationError
 from polyaxon.parser import parser
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.utils.signal_decorators import check_partial
+from polyaxon.schemas.base import BaseSchemaModel, skip_partial
 
 IO_NAME_BLACK_LIST = ["globals", "params", "connections"]
 IO_NAME_ERROR = (
     "Received an input/output with a name in {}, "
     "please use a different name that does "
     "not already taken by the context".format(IO_NAME_BLACK_LIST)
 )
@@ -55,82 +52,53 @@
         if parse:
             return parsed_value
         # Return the original value, the parser will return specs sometimes
         if value is not None:
             return value
         return default
     except PolyaxonSchemaError as e:
-        raise ValidationError(
+        raise PolyaxonValidationError(
             "Could not parse value `%s`, an error was encountered: %s" % (value, e)
         )
 
 
 def validate_io(name, type, value, is_optional, is_list, is_flag, options):
     if type and value:
-        validate_io_value(
-            name=name,
-            type=type,
-            value=value,
-            default=None,
-            is_list=is_list,
-            is_optional=is_optional,
-            options=options,
-        )
+        try:
+            value = validate_io_value(
+                name=name,
+                type=type,
+                value=value,
+                default=None,
+                is_list=is_list,
+                is_optional=is_optional,
+                options=options,
+            )
+        except PolyaxonValidationError as e:
+            raise ValueError(e)
 
     if not is_optional and value:
-        raise ValidationError(
+        raise ValueError(
             "IO `{}` is not optional and has default value `{}`. "
             "Please either make it optional or remove the default value.".format(
                 name, value
             )
         )
 
     if is_flag and type != types.BOOL:
-        raise ValidationError(
+        raise TypeError(
             "IO type `{}` cannot be a flag, it must be of type `{}`".format(
                 type, types.BOOL
             )
         )
 
+    return value
 
-class IOSchema(BaseCamelSchema):
-    name = fields.Str(
-        required=True, validate=validate.NoneOf(IO_NAME_BLACK_LIST, error=IO_NAME_ERROR)
-    )
-    description = fields.Str(allow_none=True)
-    type = fields.Str(allow_none=True, validate=validate.OneOf(types.VALUES))
-    value = fields.Raw(allow_none=True)
-    is_optional = fields.Bool(allow_none=True)
-    is_list = fields.Bool(allow_none=True)
-    is_flag = fields.Bool(allow_none=True)
-    arg_format = fields.Str(allow_none=True)
-    delay_validation = fields.Bool(allow_none=True)
-    options = fields.List(fields.Raw(), allow_none=True)
-    connection = fields.Str(allow_none=True)
-    to_init = fields.Bool(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1IO
-
-    @validates_schema
-    @check_partial
-    def validate_io(self, values, **kwargs):
-        validate_io(
-            name=values.get("name"),
-            type=values.get("type"),
-            value=values.get("value"),
-            is_list=values.get("is_list"),
-            is_optional=values.get("is_optional"),
-            is_flag=values.get("is_flag"),
-            options=values.get("options"),
-        )
 
-
-class V1IO(BaseConfig, polyaxon_sdk.V1IO):
+class V1IO(BaseSchemaModel):
     """Each Component may have its own inputs and outputs.
     The inputs and outputs describe the expected parameters to pass to the component
     and their types. In the context of a DAG,
     inputs and outputs types are used to validate the flow of information
     going from one operation to another.
 
     The final value of an input/output can be resolved
@@ -165,14 +133,15 @@
         is_list: bool, optional
         is_flag: bool, optional
         arg_format: str, optional
         delay_validation: bool, optional
         options: List[any], optional
         connection: str, optional
         to_init: bool, optional
+        to_env: str, optional
 
     ## YAML usage
 
     ```yaml
     >>> inputs:
     >>>   - name: loss
     >>>     type: str
@@ -410,15 +379,29 @@
 
     ### connection
 
     A connection to use with the input/outputs.
 
     ### toInit
 
-    if True, it will be converted to an init container.
+    If True, it will be converted to an init container.
+
+    ### toEnv
+
+    > **N.B**: Requires Polyaxon CLI and Polyaxon Agent/CE version `>= 1.12`
+
+    If passed, it will be converted automatically to an environment variable.
+
+    ```yaml
+    >>> inputs:
+    >>>   - name: learning_rate
+    >>>     type: float
+    >>>     value: 1.1
+    >>>     toEnv: MY_LEARNING_RATE
+    ```
 
     ### options
 
     Options allow to pass a list of values that will be used to validate any passed params.
 
     ```yaml
     >>> inputs:
@@ -507,69 +490,58 @@
 
 
     ```bash
     polyaxon run -f polyaxonfile.yaml -P activation=sigmoid
     ```
     """
 
-    SCHEMA = IOSchema
-    IDENTIFIER = "io"
-    REDUCED_ATTRIBUTES = [
-        "description",
-        "type",
-        "value",
-        "isOptional",
-        "isFlag",
-        "isList",
-        "argFormat",
-        "delayValidation",
-        "options",
-        "connection",
-        "toInit",
-    ]
-
-    def __init__(
-        self,
-        name=None,
-        description=None,
-        type=None,
-        value=None,
-        is_optional=None,
-        is_list=None,
-        is_flag=None,
-        arg_format=None,
-        delay_validation=None,
-        options=None,
-        connection=None,
-        to_init=None,
-        iotype=None,
-        local_vars_configuration=None,
-    ):
-        # Backward compatibility
-        if iotype:
-            print(
-                "`iotype` was deprecated in favor of `type`, "
-                "and will be removed in future releases."
+    _IDENTIFIER = "io"
+
+    name: StrictStr
+    description: Optional[StrictStr]
+    type: Optional[StrictStr]
+    is_optional: Optional[bool] = Field(alias="isOptional")
+    is_list: Optional[bool] = Field(alias="isList")
+    is_flag: Optional[bool] = Field(alias="isFlag")
+    arg_format: Optional[StrictStr] = Field(alias="argFormat")
+    delay_validation: Optional[bool] = Field(alias="delayValidation")
+    options: Optional[Any]
+    connection: Optional[StrictStr]
+    to_init: Optional[bool] = Field(alias="toInit")
+    to_env: Optional[StrictStr] = Field(alias="toEnv")
+    value: Optional[Any]
+
+    @validator("name", always=True)
+    def validate_name(cls, v):
+        if v in IO_NAME_BLACK_LIST:
+            raise ValueError(IO_NAME_ERROR)
+        return v
+
+    @validator("type", always=True)
+    def validate_type(cls, v):
+        if v and v not in types.VALUES:
+            raise ValueError(
+                "Received an input/output with an invalid type `{}`, "
+                "please use one of the following types: {}".format(v, types.VALUES)
             )
-        type = type or iotype
-        super().__init__(
-            name=name,
-            description=description,
-            type=type,
-            value=value,
-            is_optional=is_optional,
-            is_list=is_list,
-            is_flag=is_flag,
-            arg_format=arg_format,
-            delay_validation=delay_validation,
-            options=options,
-            connection=connection,
-            to_init=to_init,
-            local_vars_configuration=local_vars_configuration,
+        return v
+
+    @root_validator
+    @skip_partial
+    def validate_io(cls, values):
+        validate_io(
+            name=values.get("name"),
+            type=values.get("type"),
+            value=values.get("value"),
+            is_list=values.get("is_list"),
+            is_optional=values.get("is_optional"),
+            is_flag=values.get("is_flag"),
+            options=values.get("options"),
         )
+        return values
 
     def validate_value(self, value: Any, parse: bool = True):
         if self.type is None:
             return value
 
         return validate_io_value(
             name=self.name,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/joins/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/joins/__init__.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,58 +1,47 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, Optional, Union
 
-import polyaxon_sdk
+from pydantic import StrictStr
 
-from marshmallow import fields
+from polyaxon.polyflow.params.params import ParamValueMixin, V1Param
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields.ref_or_obj import IntOrRef, RefField
 
-from polyaxon.polyflow.params.params import ParamSchema, ParamValueMixin
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
 
-
-class JoinParamSchema(ParamSchema):
-    ref = None
-
-    @staticmethod
-    def schema_config():
-        return V1JoinParam
-
-
-class V1JoinParam(BaseConfig, ParamValueMixin, polyaxon_sdk.V1JoinParam):
-    SCHEMA = JoinParamSchema
-    IDENTIFIER = "join_param"
-    REDUCED_ATTRIBUTES = [
-        "contextOnly",
-        "connection",
-        "toInit",
-    ]
+class V1JoinParam(V1Param, ParamValueMixin):
+    _IDENTIFIER = "join_param"
 
     @property
     def is_literal(self):
         return False
 
     @property
     def is_ref(self):
         return True
 
     @property
+    def is_template_ref(self):
+        return False
+
+    @property
     def is_join_ref(self):
         return True
 
     @property
     def is_runs_ref(self):
         return False
 
@@ -61,29 +50,15 @@
         return False
 
     @property
     def is_dag_ref(self):
         return False
 
 
-class JoinSchema(BaseCamelSchema):
-    query = fields.Str(required=True)
-    sort = fields.Str(allow_none=True)
-    limit = RefOrObject(fields.Int(allow_none=True))
-    offset = RefOrObject(fields.Int(allow_none=True))
-    params = fields.Dict(
-        keys=fields.Str(), values=fields.Nested(JoinParamSchema), allow_none=True
-    )
-
-    @staticmethod
-    def schema_config():
-        return V1Join
-
-
-class V1Join(BaseConfig, polyaxon_sdk.V1Join):
+class V1Join(BaseSchemaModel):
     """Joins allow to query several runs based on a search specification.
 
     The result of the join will be a list of values based on the results from executing the search.
 
     A Join corresponds to a valid [query specification](/docs/core/query-language/),
     the result of the search will be used to resolve
     the params defined in the join.
@@ -239,14 +214,15 @@
     Similar to the default [params specification](/docs/core/specification/params/)
     with the exception that it does not accept the `ref` key.
     The reference is generated automatically based on the search performed by Polyaxon.
 
     The fields supported: `value`, `context_only`, `connection`, `to_init`
     """
 
-    SCHEMA = JoinSchema
-    IDENTIFIER = "join"
-    REDUCED_ATTRIBUTES = [
-        "sort",
-        "limit",
-        "offset",
-    ]
+    _IDENTIFIER = "join"
+
+    ref: Optional[StrictStr]
+    query: StrictStr
+    sort: Optional[StrictStr]
+    limit: Optional[IntOrRef]
+    offset: Optional[IntOrRef]
+    params: Optional[Union[Dict[str, V1JoinParam], RefField]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/base.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/base.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,28 +1,22 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.schemas.base import BaseConfig
+from polyaxon.schemas.base import BaseSchemaModel
 
 
-class BaseSearchConfig(BaseConfig):
-    def create_iteration(self, **kwargs) -> int:
-        return 0
-
-    def should_reschedule(self, **kwargs) -> bool:
-        return False
-
-    def has_param(self, param: str):
-        return param in self.params
+class BaseTypeConfig(BaseSchemaModel):
+    def to_param(self):
+        return self.to_dict()
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/bayes.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/bayes.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,232 +1,157 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, List, Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from clipped.enums_utils import PEnum
+from pydantic import Field, PositiveInt, StrictInt, root_validator, validator
 
-from marshmallow import ValidationError, fields, validate, validates_schema
-
-from polyaxon.polyflow.early_stopping import EarlyStoppingSchema
+from polyaxon.polyflow.early_stopping import V1EarlyStopping
 from polyaxon.polyflow.matrix.base import BaseSearchConfig
 from polyaxon.polyflow.matrix.kinds import V1MatrixKind
-from polyaxon.polyflow.matrix.params import HpParamSchema
-from polyaxon.polyflow.matrix.tuner import TunerSchema
-from polyaxon.polyflow.optimization import OptimizationMetricSchema
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-from polyaxon.utils.signal_decorators import check_partial
+from polyaxon.polyflow.matrix.params import V1HpParam
+from polyaxon.polyflow.matrix.tuner import V1Tuner
+from polyaxon.polyflow.optimization import V1OptimizationMetric
+from polyaxon.schemas.base import BaseSchemaModel, skip_partial
+from polyaxon.schemas.fields import RefField
 
 
-class AcquisitionFunctions:
+class AcquisitionFunctions(str, PEnum):
     UCB = "ucb"
     EI = "ei"
     POI = "poi"
 
-    UCB_VALUES = [UCB, UCB.upper(), UCB.capitalize()]
-    EI_VALUES = [EI, EI.upper(), EI.capitalize()]
-    POI_VALUES = [POI, POI.upper(), POI.capitalize()]
+    @classmethod
+    def ucb_values(cls):
+        return {cls.UCB, cls.UCB.upper(), cls.UCB.capitalize()}
+
+    @classmethod
+    def ei_values(cls):
+        return {cls.EI, cls.EI.upper(), cls.EI.capitalize()}
 
-    VALUES = UCB_VALUES + EI_VALUES + POI_VALUES
+    @classmethod
+    def poi_values(cls):
+        return {cls.POI, cls.POI.upper(), cls.POI.capitalize()}
 
     @classmethod
     def is_ucb(cls, value):
-        return value in cls.UCB_VALUES
+        return value in cls.ucb_values()
 
     @classmethod
     def is_ei(cls, value):
-        return value in cls.EI_VALUES
+        return value in cls.ei_values()
 
     @classmethod
     def is_poi(cls, value):
-        return value in cls.POI_VALUES
+        return value in cls.poi_values()
 
 
-class GaussianProcessesKernels:
+class GaussianProcessesKernels(str, PEnum):
     RBF = "rbf"
     MATERN = "matern"
 
-    RBF_VALUES = [RBF, RBF.upper(), RBF.capitalize()]
-    MATERN_VALUES = [MATERN, MATERN.upper(), MATERN.capitalize()]
+    @classmethod
+    def rbf_value(cls):
+        return {cls.RBF, cls.RBF.upper(), cls.RBF.capitalize()}
 
-    VALUES = RBF_VALUES + MATERN_VALUES
+    @classmethod
+    def matern_value(cls):
+        return {cls.MATERN, cls.MATERN.upper(), cls.MATERN.capitalize()}
 
     @classmethod
     def is_rbf(cls, value):
-        return value in cls.RBF_VALUES
+        return value in cls.rbf_value()
 
     @classmethod
     def is_mattern(cls, value):
-        return value in cls.MATERN_VALUES
+        return value in cls.matern_value()
+
 
+class GaussianProcessConfig(BaseSchemaModel):
+    _IDENTIFIER = "gaussian_process"
 
-class GaussianProcessSchema(BaseCamelSchema):
-    kernel = fields.Str(
-        allow_none=True, validate=validate.OneOf(GaussianProcessesKernels.VALUES)
+    kernel: Optional[GaussianProcessesKernels] = Field(
+        default=GaussianProcessesKernels.MATERN
+    )
+    length_scale: Optional[float] = Field(default=1.0, alias="lengthScale")
+    nu: Optional[float] = Field(default=1.5)
+    num_restarts_optimizer: Optional[int] = Field(
+        default=0, alias="numRestartsOptimizer"
     )
-    length_scale = fields.Float(allow_none=True)
-    nu = fields.Float(allow_none=True)
-    num_restarts_optimizer = fields.Int(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return GaussianProcessConfig
-
-
-class GaussianProcessConfig(BaseConfig):
-    SCHEMA = GaussianProcessSchema
-    IDENTIFIER = "gaussian_process"
-    REDUCED_ATTRIBUTES = [
-        "kernel",
-        "lengthScale",
-        "nu",
-        "numRestartsOptimizer",
-    ]
-
-    def __init__(
-        self,
-        kernel=GaussianProcessesKernels.MATERN,
-        length_scale=1.0,
-        nu=1.5,
-        num_restarts_optimizer=0,
-    ):
-        self.kernel = kernel
-        self.length_scale = length_scale
-        self.nu = nu
-        self.num_restarts_optimizer = num_restarts_optimizer
 
 
 def validate_utility_function(acquisition_function, kappa, eps):
     condition = AcquisitionFunctions.is_ucb(acquisition_function) and kappa is None
     if condition:
-        raise ValidationError(
-            "the acquisition function `ucb` requires a parameter `kappa`"
-        )
+        raise ValueError("the acquisition function `ucb` requires a parameter `kappa`")
 
     condition = (
         AcquisitionFunctions.is_ei(acquisition_function)
         or AcquisitionFunctions.is_poi(acquisition_function)
     ) and eps is None
     if condition:
-        raise ValidationError(
+        raise ValueError(
             "the acquisition function `{}` requires a parameter `eps`".format(
                 acquisition_function
             )
         )
 
 
-class UtilityFunctionSchema(BaseCamelSchema):
-    acquisition_function = fields.Str(
-        allow_none=True, validate=validate.OneOf(AcquisitionFunctions.VALUES)
-    )
-    gaussian_process = fields.Nested(GaussianProcessSchema, allow_none=True)
-    kappa = fields.Float(allow_none=True)
-    eps = fields.Float(allow_none=True)
-    num_warmup = fields.Int(allow_none=True)
-    num_iterations = fields.Int(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return UtilityFunctionConfig
-
-    @validates_schema
-    @check_partial
-    def validate_utility_function(self, data, **kwargs):
-        validate_utility_function(
-            acquisition_function=data.get("acquisition_function"),
-            kappa=data.get("kappa"),
-            eps=data.get("eps"),
-        )
-
+class UtilityFunctionConfig(BaseSchemaModel):  # TODO: Rename to V1UtilityFunction
+    _IDENTIFIER = "utility_function"
 
-class UtilityFunctionConfig(BaseConfig):
-    SCHEMA = UtilityFunctionSchema
-    IDENTIFIER = "utility_function"
-    REDUCED_ATTRIBUTES = [
-        "acquisitionFunction",
-        "eps",
-        "gaussianProcess",
-        "kappa",
-        "numWarmup",
-        "numIterations",
-    ]
-
-    def __init__(
-        self,
-        acquisition_function=AcquisitionFunctions.UCB,
-        gaussian_process=None,
-        kappa=None,
-        eps=None,
-        num_warmup=None,
-        num_iterations=None,
-    ):
+    acquisition_function: Optional[AcquisitionFunctions] = Field(
+        default=AcquisitionFunctions.UCB, alias="acquisitionFunction"
+    )
+    gaussian_process: Optional[GaussianProcessConfig] = Field(alias="gaussianProcess")
+    kappa: Optional[float]
+    eps: Optional[float]
+    num_warmup: Optional[int] = Field(alias="numWarmup")
+    num_iterations: Optional[int] = Field(alias="numIterations")
+
+    @root_validator
+    @skip_partial
+    def validate_utility_function(cls, values):
         validate_utility_function(
-            acquisition_function=acquisition_function, kappa=kappa, eps=eps
+            acquisition_function=values.get("acquisition_function"),
+            kappa=values.get("kappa"),
+            eps=values.get("eps"),
         )
-
-        self.acquisition_function = acquisition_function
-        self.gaussian_process = gaussian_process
-        self.kappa = kappa
-        self.eps = eps
-        self.num_warmup = num_warmup
-        self.num_iterations = num_iterations
+        return values
 
 
 def validate_matrix(matrix):
     if not matrix:
         return None
 
     for key, value in matrix.items():
         if value.is_distribution and not value.is_uniform:
-            raise ValidationError(
+            raise ValueError(
                 "`{}` defines a non uniform distribution, "
                 "and it cannot be used with bayesian optimization.".format(key)
             )
 
     return matrix
 
 
-class BayesSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1MatrixKind.BAYES))
-    utility_function = fields.Nested(UtilityFunctionSchema, allow_none=True)
-    num_initial_runs = RefOrObject(fields.Int(), required=True)
-    max_iterations = RefOrObject(fields.Int(validate=validate.Range(min=1)))
-    metric = fields.Nested(OptimizationMetricSchema, required=True)
-    params = fields.Dict(
-        keys=fields.Str(), values=fields.Nested(HpParamSchema), required=True
-    )
-    seed = RefOrObject(fields.Int(allow_none=True))
-    concurrency = RefOrObject(fields.Int(allow_none=True))
-    tuner = fields.Nested(TunerSchema, allow_none=True)
-    early_stopping = fields.List(fields.Nested(EarlyStoppingSchema), allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1Bayes
-
-    @validates_schema
-    @check_partial
-    def validate_matrix(self, data, **kwargs):
-        """Validates matrix data and creates the config objects"""
-        validate_matrix(data.get("params"))
-
-
-class V1Bayes(BaseSearchConfig, polyaxon_sdk.V1Bayes):
+class V1Bayes(BaseSearchConfig):
     """Bayesian optimization is an extremely powerful technique.
     The main idea behind it is to compute a posterior distribution
     over the objective function based on the data, and then select good points
     to try with respect to this distribution.
 
     The way Polyaxon performs bayesian optimization is by measuring
     the expected increase in the maximum objective value seen over all
@@ -517,25 +442,35 @@
     >>>         "--batch-size={{ batch_size }}",
     >>>         "--lr={{ lr }}",
     >>>         "--dropout={{ dropout }}",
     >>>         "--activation={{ activation }}"
     ```
     """
 
-    SCHEMA = BayesSchema
-    IDENTIFIER = V1MatrixKind.BAYES
-    REDUCED_ATTRIBUTES = [
-        "seed",
-        "concurrency",
-        "earlyStopping",
-        "tuner",
-        "utilityFunction",
-    ]
+    _IDENTIFIER = V1MatrixKind.BAYES
 
-    def create_iteration(self, iteration: int = None) -> int:
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    utility_function: Optional[UtilityFunctionConfig] = Field(alias="utilityFunction")
+    num_initial_runs: Union[PositiveInt, RefField] = Field(alias="numInitialRuns")
+    max_iterations: Union[PositiveInt, RefField] = Field(alias="maxIterations")
+    metric: V1OptimizationMetric
+    params: Union[Dict[str, V1HpParam], RefField]
+    seed: Optional[Union[StrictInt, RefField]]
+    concurrency: Optional[Union[PositiveInt, RefField]]
+    tuner: Optional[Union[V1Tuner, RefField]]
+    early_stopping: Optional[Union[List[V1EarlyStopping], RefField]] = Field(
+        alias="earlyStopping"
+    )
+
+    def create_iteration(self, iteration: Optional[int] = None) -> int:
         if iteration is None:
             return 0
         return iteration + 1
 
     def should_reschedule(self, iteration):
         """Return a boolean to indicate if we need to reschedule another iteration."""
         return iteration < self.max_iterations
+
+    @validator("params", always=True)
+    @skip_partial
+    def validate_matrix(cls, params):
+        return validate_matrix(params)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/grid_search.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/grid_search.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,71 +1,50 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, List, Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from pydantic import Field, PositiveInt, validator
 
-from marshmallow import ValidationError, fields, validate, validates_schema
-
-from polyaxon.polyflow.early_stopping import EarlyStoppingSchema
+from polyaxon.polyflow.early_stopping import V1EarlyStopping
 from polyaxon.polyflow.matrix.base import BaseSearchConfig
 from polyaxon.polyflow.matrix.kinds import V1MatrixKind
-from polyaxon.polyflow.matrix.params import HpParamSchema
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-from polyaxon.utils.signal_decorators import check_partial
+from polyaxon.polyflow.matrix.params import V1HpParam
+from polyaxon.schemas.base import skip_partial
+from polyaxon.schemas.fields.ref_or_obj import RefField
 
 
 def validate_matrix(matrix):
     if not matrix:
         return None
 
     for key, value in matrix.items():
         if value.is_distribution:
-            raise ValidationError(
+            raise ValueError(
                 "`{}` defines a distribution, "
                 "and it cannot be used with grid search.".format(key)
             )
 
     return matrix
 
 
-class GridSearchSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1MatrixKind.GRID))
-    params = fields.Dict(
-        keys=fields.Str(), values=fields.Nested(HpParamSchema), required=True
-    )
-    concurrency = RefOrObject(fields.Int(allow_none=True))
-    num_runs = RefOrObject(fields.Int(allow_none=True, validate=validate.Range(min=1)))
-    early_stopping = fields.List(fields.Nested(EarlyStoppingSchema), allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1GridSearch
-
-    @validates_schema
-    @check_partial
-    def validate_matrix(self, data, **kwargs):
-        """Validates matrix data and creates the config objects"""
-        validate_matrix(data.get("params"))
-
-
-class V1GridSearch(BaseSearchConfig, polyaxon_sdk.V1GridSearch):
+class V1GridSearch(BaseSearchConfig):
     """Grid search is essentially an exhaustive search through a manually
     specified set of hyperparameters.
 
     User can possibly limit the number of experiments and not traverse the whole
     search space created by providing `numRuns`.
 
     Grid search does not allow the use of distributions,
@@ -224,10 +203,27 @@
     >>>   container:
     >>>     image: image:latest
     >>>     command: [python3, train.py]
     >>>     args: ["--batch-size={{ batch_size }}", "--lr={{ lr }}", "--dropout={{ dropout }}"]
     ```
     """
 
-    SCHEMA = GridSearchSchema
-    IDENTIFIER = V1MatrixKind.GRID
-    REDUCED_ATTRIBUTES = ["numRuns", "concurrency", "earlyStopping"]
+    _IDENTIFIER = V1MatrixKind.GRID
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    params: Union[Dict[str, V1HpParam], RefField]
+    num_runs: Optional[Union[PositiveInt, RefField]] = Field(alias="numRuns")
+    concurrency: Optional[Union[PositiveInt, RefField]]
+    early_stopping: Optional[Union[List[V1EarlyStopping], RefField]] = Field(
+        alias="earlyStopping"
+    )
+
+    @validator("num_runs", "concurrency", pre=True)
+    def check_values(cls, v, field):
+        if v and v < 1:
+            raise ValueError(f"{field} must be greater than 1, received `{v}` instead.")
+        return v
+
+    @validator("params", always=True)
+    @skip_partial
+    def validate_matrix(cls, params):
+        return validate_matrix(params)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/hyperband.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/hyperband.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,64 +1,39 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import math
 
-from typing import Tuple
+from typing import Dict, List, Optional, Tuple, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from pydantic import Field, NonNegativeFloat, PositiveInt, PrivateAttr
 
-from marshmallow import fields, validate
-
-from polyaxon.polyflow.early_stopping import EarlyStoppingSchema
+from polyaxon.polyflow.early_stopping import V1EarlyStopping
 from polyaxon.polyflow.matrix.base import BaseSearchConfig
 from polyaxon.polyflow.matrix.kinds import V1MatrixKind
-from polyaxon.polyflow.matrix.params import HpParamSchema
-from polyaxon.polyflow.matrix.tuner import TunerSchema
-from polyaxon.polyflow.optimization import (
-    OptimizationMetricSchema,
-    OptimizationResourceSchema,
-)
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-
-
-class HyperbandSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1MatrixKind.HYPERBAND))
-    params = fields.Dict(
-        keys=fields.Str(), values=fields.Nested(HpParamSchema), allow_none=True
-    )
-    max_iterations = RefOrObject(fields.Int(validate=validate.Range(min=1)))
-    eta = RefOrObject(fields.Float(validate=validate.Range(min=0)))
-    resource = fields.Nested(OptimizationResourceSchema)
-    metric = fields.Nested(OptimizationMetricSchema)
-    resume = RefOrObject(fields.Boolean(allow_none=True))
-    seed = RefOrObject(fields.Int(allow_none=True))
-    concurrency = RefOrObject(fields.Int(allow_none=True))
-    tuner = fields.Nested(TunerSchema, allow_none=True)
-    early_stopping = fields.List(fields.Nested(EarlyStoppingSchema), allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1Hyperband
+from polyaxon.polyflow.matrix.params import V1HpParam
+from polyaxon.polyflow.matrix.tuner import V1Tuner
+from polyaxon.polyflow.optimization import V1OptimizationMetric, V1OptimizationResource
+from polyaxon.schemas.fields.ref_or_obj import BoolOrRef, IntOrRef, RefField
 
 
-class V1Hyperband(BaseSearchConfig, polyaxon_sdk.V1Hyperband):
+class V1Hyperband(BaseSearchConfig):
     """Hyperband is a relatively new method for tuning iterative algorithms.
     It performs random sampling and attempts to gain an edge
     by using time spent optimizing in the best way.
 
     The algorithm tries a large number of random configurations/experiments,
     then decides which configurations to keep based on their progress.
 
@@ -347,25 +322,48 @@
     |0             |81          |1               |27          |3                |9            |9               |6           |27               |5           |             81 | # noqa
     |1             |27          |3               |9           |9                |3            |27              |2           |81               |            |                | # noqa
     |2             |9           |9               |3           |27               |1            |81              |            |                 |            |                | # noqa
     |3             |3           |27              |1           |81               |             |                |            |                 |            |                | # noqa
     |4             |1           |81              |            |                 |             |                |            |                 |            |                | # noqa
     """
 
-    SCHEMA = HyperbandSchema
-    IDENTIFIER = V1MatrixKind.HYPERBAND
-    REDUCED_ATTRIBUTES = ["seed", "concurrency", "earlyStopping", "tuner", "resume"]
+    _IDENTIFIER = V1MatrixKind.HYPERBAND
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    params: Optional[Union[Dict[str, V1HpParam], RefField]]
+    max_iterations: Optional[PositiveInt] = Field(alias="maxIterations")
+    eta: Optional[Union[NonNegativeFloat, RefField]]
+    resource: Optional[V1OptimizationResource]
+    metric: Optional[V1OptimizationMetric]
+    resume: Optional[BoolOrRef]
+    seed: Optional[IntOrRef]
+    concurrency: Optional[Union[PositiveInt, RefField]]
+    tuner: Optional[V1Tuner]
+    early_stopping: Optional[Union[List[V1EarlyStopping], RefField]] = Field(
+        alias="earlyStopping"
+    )
+
+    _s_max: Optional[int] = PrivateAttr()
+    _B: Optional[int] = PrivateAttr()
+
+    @property
+    def s_max(self):
+        return self._s_max
+
+    @property
+    def B(self):
+        return self._B
 
     def set_tuning_params(self):
         # Maximum iterations per configuration: max_iterations
         # Defines configuration downsampling/elimination rate (default = 3): eta
         # number of times to run hyperband (brackets)
         # i.e.  # of times to repeat the outer loops over the tradeoffs `s`
-        self.s_max = int(math.log(self.max_iterations) / math.log(self.eta))
-        self.B = (
+        self._s_max = int(math.log(self.max_iterations) / math.log(self.eta))
+        self._B = (
             self.s_max + 1
         ) * self.max_iterations  # budget per bracket of successive halving
 
     def get_bracket(self, iteration):
         """This defines the bracket `s` in outerloop `for s in reversed(range(self.s_max))`."""
         return self.s_max - iteration
 
@@ -377,22 +375,22 @@
             return False
 
         # We can only reschedule if we can create a new bracket
         return self.get_bracket(iteration=iteration + 1) >= 0
 
     def get_num_runs_to_keep(self, num_runs, bracket_iteration):
         """Return the number of configs to keep and resume."""
-        num_runs = num_runs * (self.eta ** -bracket_iteration)
+        num_runs = num_runs * (self.eta**-bracket_iteration)
         return int(num_runs / self.eta)
 
     def get_num_runs(self, bracket):
         # n: initial number of configs
         return int(
             math.ceil(
-                (self.B / self.max_iterations) * (self.eta ** bracket) / (bracket + 1)
+                (self.B / self.max_iterations) * (self.eta**bracket) / (bracket + 1)
             )
         )
 
     def get_num_runs_to_keep_for_iteration(self, iteration, bracket_iteration):
         """Return the number of configs to keep for an iteration and iteration bracket.
 
         This is just util function around `get_num_runs_to_keep`
@@ -411,15 +409,15 @@
         """Return a boolean to indicate if we need to reschedule another bracket iteration."""
         num_runs_to_keep = self.get_num_runs_to_keep_for_iteration(
             iteration=iteration, bracket_iteration=bracket_iteration
         )
         return num_runs_to_keep > 0
 
     def create_iteration(
-        self, iteration: int = None, bracket_iteration: int = 0
+        self, iteration: Optional[int] = None, bracket_iteration: int = 0
     ) -> Tuple[int, int]:
         """Create an iteration for hyperband."""
         if iteration is None:
             return 0, 0
 
         should_create_iteration = self.should_create_iteration(
             iteration=iteration,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/hyperopt.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/random_search.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,144 +1,102 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, List, Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from pydantic import Field, PositiveInt, validator
 
-from marshmallow import fields, validate
-
-from polyaxon.polyflow.early_stopping import EarlyStoppingSchema
+from polyaxon.polyflow.early_stopping import V1EarlyStopping
 from polyaxon.polyflow.matrix.base import BaseSearchConfig
 from polyaxon.polyflow.matrix.kinds import V1MatrixKind
-from polyaxon.polyflow.matrix.params import HpParamSchema
-from polyaxon.polyflow.matrix.tuner import TunerSchema
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
+from polyaxon.polyflow.matrix.params import V1HpParam
+from polyaxon.schemas.fields.ref_or_obj import IntOrRef, RefField
 
 
-class HyperoptSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1MatrixKind.HYPEROPT))
-    max_iterations = RefOrObject(fields.Int(allow_none=True))
-    algorithm = fields.Str(
-        allow_none=True, validate=validate.OneOf(["tpe", "rand", "anneal"])
-    )
-    params = fields.Dict(
-        keys=fields.Str(), values=fields.Nested(HpParamSchema), required=True
-    )
-    num_runs = RefOrObject(
-        fields.Int(required=True, validate=validate.Range(min=1)), required=True
-    )
-    seed = RefOrObject(fields.Int(allow_none=True))
-    concurrency = RefOrObject(fields.Int(allow_none=True))
-    tuner = fields.Nested(TunerSchema, allow_none=True)
-    early_stopping = fields.List(fields.Nested(EarlyStoppingSchema), allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1Hyperopt
-
-
-class V1Hyperopt(BaseSearchConfig, polyaxon_sdk.V1Hyperopt):
-    """Hyperopt is a search algorithm that is backed by the
-    [Hyperopt](http://hyperopt.github.io/hyperopt/) library
-    to perform sequential model-based hyperparameter optimization.
+class V1RandomSearch(BaseSearchConfig):
+    """Random search creates a number of unique experiments by sampling randomly
+    from a search space.
+    Random search is a competitive method for black-box parameter tuning in machine learning.
 
-    the Hyperopt integration exposes 3 algorithms: `tpe`, `rand`, `anneal`.
+    Random search requires a parameter `numRuns`,
+    this is essential because Polyaxon needs to know how many experiments to sample.
 
     Args:
-        kind: hyperopt
-        algorithm: str, one of tpe, rand, anneal
-        params: List[Dict[str, [params](/docs/automation/optimization-engine/params/#discrete-values)]]  # noqa
-        maxIterations: int, optional
+        kind: str, should be equal `grid`
+        params: List[Dict[str, [params](/docs/automation/optimization-engine/params/)]]
         concurrency: int, optional
         num_runs: int, optional
         seed: int, optional
-        tuner: [V1Tuner](/docs/automation/optimization-engine/tuner/), optional
         early_stopping: List[[EarlyStopping](/docs/automation/helpers/early-stopping)], optional
 
-
     ## YAML usage
 
     ```yaml
     >>> matrix:
-    >>>   kind: hyperopt
-    >>>   algorithm:
-    >>>   maxIterations:
+    >>>   kind: random
     >>>   concurrency:
     >>>   params:
     >>>   numRuns:
     >>>   seed:
-    >>>   tuner:
     >>>   earlyStopping:
     ```
 
     ## Python usage
 
     ```python
     >>> from polyaxon.polyflow import (
-    >>>     V1Hyperopt, V1HpLogSpace, V1HpUniform, V1FailureEarlyStopping, V1MetricEarlyStopping
+    >>>     V1RandomSearch, V1HpLogSpace, V1HpUniform, V1FailureEarlyStopping, V1MetricEarlyStopping
     >>> )
-    >>> matrix = V1Hyperopt(
-    >>>   algorithm="tpe",
+    >>> matrix = V1RandomSearch(
     >>>   num_runs=20,
     >>>   concurrency=2,
     >>>   seed=23,
     >>>   params={"param1": V1HpLogSpace(...), "param2": V1HpUniform(...), ... },
     >>>   early_stopping=[V1FailureEarlyStopping(...), V1MetricEarlyStopping(...)]
     >>> )
     ```
 
     ## Fields
 
     ### kind
 
-    The kind signals to the CLI, client, and other tools that this matrix is hyperopt.
+    The kind signals to the CLI, client, and other tools that this matrix is a random search.
 
     If you are using the python client to create the mapping,
     this field is not required and is set by default.
 
     ```yaml
     >>> matrix:
-    >>>   kind: hyperopt
-    ```
-
-    ### algorithm
-
-    The algorithm to use from the hyperopt library, the supported
-    algorithms: `tpe`, `rand`, `anneal`.
-
-    ```yaml
-    >>> matrix:
-    >>>   kind: hyperopt
-    >>>   algorithm: anneal
+    >>>   kind: random
     ```
 
     ### concurrency
 
     An optional value to set the number of concurrent operations.
 
     <blockquote class="light">
     This value only makes sense if less or equal to the total number of possible runs.
     </blockquote>
 
     ```yaml
     >>> matrix:
-    >>>   kind: hyperopt
+    >>>   kind: random
     >>>   concurrency: 2
     ```
 
     For more details about concurrency management,
     please check the [concurrency section](/docs/automation/helpers/concurrency/).
 
     ### params
@@ -151,15 +109,15 @@
 
     > The parameters generated will be validated against
     > the component's inputs/outputs definition to check that the values
     > can be passed and have valid types.
 
     ```yaml
     >>> matrix:
-    >>>   kind: hyperopt
+    >>>   kind: random
     >>>   params:
     >>>     param1:
     >>>        kind: ...
     >>>        value: ...
     >>>     param2:
     >>>        kind: ...
     >>>        value: ...
@@ -167,81 +125,108 @@
 
     ### numRuns
 
     Maximum number of runs to start based on the search space defined.
 
     ```yaml
     >>> matrix:
-    >>>   kind: hyperopt
+    >>>   kind: random
     >>>   numRuns: 5
     ```
 
-    ### maxIterations
-
-    Maximum number of iterations to run the process of \\-> suggestions -> training ->\\
-
-    ```yaml
-    >>> matrix:
-    >>>   kind: hyperopt
-    >>>   maxIterations: 5
-    ```
-
     ### seed
 
     Since this algorithm uses random generators,
     if you want to control the seed for the random generator, you can pass a seed.
 
      ```yaml
     >>> matrix:
-    >>>   kind: hyperopt
+    >>>   kind: random
     >>>   seed: 523
     ```
 
     ### earlyStopping
 
     A list of early stopping conditions to check for terminating
     all operations managed by the pipeline.
     If one of the early stopping conditions is met,
     a signal will be sent to terminate all running and pending operations.
 
     ```yaml
     >>> matrix:
-    >>>   kind: hyperopt
+    >>>   kind: random
     >>>   earlyStopping: ...
     ```
 
-    ### tuner
+    For more details please check the
+    [early stopping section](/docs/automation/helpers/early-stopping/).
+
+    ## Example
+
+    In this example the random search algorithm will try 20 unique experiments based on the
+    search space defined in the params subsection.
 
-    The tuner reference (w/o component hub reference) to use.
-    The component contains the logic for creating new suggestions based on hyperopt library,
-    users can override this section to provide a different tuner component.
 
     ```yaml
+    >>> version: 1.1
+    >>> kind: operation
     >>> matrix:
-    >>>   kind: hyperopt
-    >>>   tuner:
-    >>>     hubRef: 'acme/my-hyperopt-tuner:version'
+    >>>   kind: random
+    >>>   concurrency: 10
+    >>>   numRuns: 20
+    >>>   params:
+    >>>     lr:
+    >>>       kind: logspace
+    >>>       value: 0.01:0.1:5
+    >>>     dropout:
+    >>>       kind: choice
+    >>>       value: [0.2, 0.5]
+    >>>    activation:
+    >>>       kind: pchoice
+    >>>       value: [[elu, 0.1], [relu, 0.2], [sigmoid, 0.7]]
+    >>>    early_stopping:
+    >>>      - metric: accuracy
+    >>>        value: 0.9
+    >>>        optimization: maximize
+    >>>      - metric: loss
+    >>>        value: 0.05
+    >>>        optimization: minimize
+    >>> component:
+    >>>   inputs:
+    >>>     - name: batch_size
+    >>>       type: int
+    >>>       isOptional: true
+    >>>       value: 128
+    >>>     - name: lr
+    >>>       type: float
+    >>>     - name: dropout
+    >>>       type: float
+    >>>     - name: activation
+    >>>       type: str
+    >>>   container:
+    >>>     image: image:latest
+    >>>     command: [python3, train.py]
+    >>>     args: [
+    >>>         "--batch-size={{ batch_size }}",
+    >>>         "--lr={{ lr }}",
+    >>>         "--dropout={{ dropout }}",
+    >>>         "--activation={{ activation }}"
+    >>>     ]
     ```
     """
 
-    SCHEMA = HyperoptSchema
-    IDENTIFIER = V1MatrixKind.HYPEROPT
-    REDUCED_ATTRIBUTES = [
-        "maxIterations",
-        "algorithm",
-        "numRuns",
-        "seed",
-        "concurrency",
-        "earlyStopping",
-        "tuner",
-    ]
-
-    def create_iteration(self, iteration: int = None) -> int:
-        if iteration is None:
-            return 0
-        return iteration + 1
-
-    def should_reschedule(self, iteration):
-        """Return a boolean to indicate if we need to reschedule another iteration."""
-        if not self.max_iterations:
-            return True
-        return iteration < self.max_iterations
+    _IDENTIFIER = V1MatrixKind.RANDOM
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    params: Union[Dict[str, V1HpParam], RefField]
+    num_runs: Union[PositiveInt, RefField] = Field(alias="numRuns")
+    seed: Optional[IntOrRef]
+    concurrency: Optional[Union[PositiveInt, RefField]]
+    early_stopping: Optional[Union[List[V1EarlyStopping], RefField]] = Field(
+        alias="earlyStopping"
+    )
+
+    @validator("num_runs", "concurrency", pre=True)
+    def check_values(cls, v, field):
+        if v and v < 1:
+            raise ValueError(f"{field} must be greater than 1, received `{v}` instead.")
+        return v
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/iterative.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/iterative.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,55 +1,36 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, List, Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from pydantic import Field, PositiveInt, validator
 
-from marshmallow import fields, validate
-
-from polyaxon.polyflow.early_stopping import EarlyStoppingSchema
+from polyaxon.polyflow.early_stopping import V1EarlyStopping
 from polyaxon.polyflow.matrix.base import BaseSearchConfig
 from polyaxon.polyflow.matrix.kinds import V1MatrixKind
-from polyaxon.polyflow.matrix.params import HpParamSchema
-from polyaxon.polyflow.matrix.tuner import TunerSchema
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-
-
-class IterativeSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1MatrixKind.ITERATIVE))
-    max_iterations = RefOrObject(
-        fields.Int(required=True, validate=validate.Range(min=1)), required=True
-    )
-    concurrency = RefOrObject(fields.Int(allow_none=True))
-    params = fields.Dict(
-        keys=fields.Str(), values=fields.Nested(HpParamSchema), allow_none=True
-    )
-    seed = RefOrObject(fields.Int(allow_none=True))
-    tuner = fields.Nested(TunerSchema, allow_none=True)
-    early_stopping = fields.List(fields.Nested(EarlyStoppingSchema), allow_none=True)
+from polyaxon.polyflow.matrix.params import V1HpParam
+from polyaxon.polyflow.matrix.tuner import V1Tuner
+from polyaxon.schemas.fields.ref_or_obj import IntOrRef, RefField
 
-    @staticmethod
-    def schema_config():
-        return V1Iterative
 
-
-class V1Iterative(BaseSearchConfig, polyaxon_sdk.V1Iterative):
+class V1Iterative(BaseSearchConfig):
     """To build a custom optimization algorithm, this interface lets you create an iterative
     process for creating suggestions and training your model based on those suggestions
 
     The iterative process expect a user defined a tuner that will generate the suggestions for
     running the component.
 
     Args:
@@ -252,26 +233,33 @@
     >>>         "--lr={{ lr }}",
     >>>         "--dropout={{ dropout }}",
     >>>         "--activation={{ activation }}"
     >>>     ]
     ```
     """
 
-    IDENTIFIER = V1MatrixKind.ITERATIVE
-    SCHEMA = IterativeSchema
-    REDUCED_ATTRIBUTES = [
-        "maxIterations",
-        "params",
-        "seed",
-        "tuner",
-        "earlyStopping",
-        "concurrency",
-    ]
+    _IDENTIFIER = V1MatrixKind.ITERATIVE
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    params: Optional[Union[Dict[str, V1HpParam], RefField]]
+    max_iterations: Union[PositiveInt, RefField] = Field(alias="maxIterations")
+    seed: Optional[IntOrRef]
+    concurrency: Optional[Union[PositiveInt, RefField]]
+    tuner: Optional[V1Tuner]
+    early_stopping: Optional[Union[List[V1EarlyStopping], RefField]] = Field(
+        alias="earlyStopping"
+    )
+
+    @validator("max_iterations", "concurrency", pre=True)
+    def check_values(cls, v, field):
+        if v and v < 1:
+            raise ValueError(f"{field} must be greater than 1, received `{v}` instead.")
+        return v
 
-    def create_iteration(self, iteration: int = None) -> int:
+    def create_iteration(self, iteration: Optional[int] = None) -> int:
         if iteration is None:
             return 0
         return iteration + 1
 
     def should_reschedule(self, iteration):
         """Return a boolean to indicate if we need to reschedule another iteration."""
         return iteration < self.max_iterations
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/mapping.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/mapping.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,46 +1,34 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, List, Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from pydantic import Field, PositiveInt, validator
 
-from marshmallow import fields, validate
-
-from polyaxon.polyflow.early_stopping import EarlyStoppingSchema
+from polyaxon.polyflow.early_stopping import V1EarlyStopping
 from polyaxon.polyflow.matrix.base import BaseSearchConfig
 from polyaxon.polyflow.matrix.kinds import V1MatrixKind
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-
-
-class MappingSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1MatrixKind.MAPPING))
-    values = RefOrObject(fields.List(fields.Dict(), required=True), required=True)
-    concurrency = RefOrObject(fields.Int(allow_none=True))
-    early_stopping = fields.List(fields.Nested(EarlyStoppingSchema), allow_none=True)
+from polyaxon.schemas.fields.ref_or_obj import RefField
 
-    @staticmethod
-    def schema_config():
-        return V1Mapping
 
-
-class V1Mapping(BaseSearchConfig, polyaxon_sdk.V1Mapping):
+class V1Mapping(BaseSearchConfig):
     """Mapping is a flexible way for dynamically executing a component sequentially or in parallel
     based on a list of parameter combinations.
 
     Args:
         kind: str, should be equal `mapping`
         values: List[Dict]
         concurrency: int, optional
@@ -125,16 +113,26 @@
     >>>   earlyStopping: ...
     ```
 
     For more details please check the
     [early stopping section](/docs/automation/helpers/early-stopping/).
     """
 
-    SCHEMA = MappingSchema
-    IDENTIFIER = V1MatrixKind.MAPPING
-    REDUCED_ATTRIBUTES = ["concurrency", "earlyStopping"]
+    _IDENTIFIER = V1MatrixKind.MAPPING
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    values: List[Union[Dict, RefField]]
+    concurrency: Optional[Union[PositiveInt, RefField]]
+    early_stopping: Optional[Union[List[V1EarlyStopping], RefField]] = Field(
+        alias="earlyStopping"
+    )
+
+    @validator("concurrency")
+    def check_concurrency(cls, v):
+        if v and v < 1:
+            raise ValueError(
+                f"concurrency must be greater than 1, received `{v} instead."
+            )
+        return v
 
     def has_key(self, key: str):
         return self.values and key in set(self.values[0].keys())
-
-    def has_param(self, param: str):
-        return True
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/params.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/params.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,253 +1,375 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import ast
+from datetime import date, datetime, timedelta
+from typing import Any, List, Optional, Union
+from typing_extensions import Annotated, Literal
 
-from collections.abc import Mapping
-from typing import Union
-
-import polyaxon_sdk
-
-from marshmallow import fields, validate, validates_schema
-from marshmallow.exceptions import ValidationError
+from pydantic import Field, StrictStr, root_validator, validator
 
 from polyaxon import types
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig, BaseOneOfSchema
-from polyaxon.utils.signal_decorators import check_partial
+from polyaxon.polyflow.matrix.kinds import V1HPKind
+from polyaxon.schemas.base import BaseDiscriminatedModel, BaseSchemaModel, skip_partial
+from polyaxon.schemas.fields import RefField, StrictIntOrFloat
 
 try:
     import numpy as np
 except (ImportError, ModuleNotFoundError):
     np = None
 
 
 # pylint:disable=redefined-outer-name
 
 
-class PChoice(fields.Field):
-    def _deserialize(self, value, attr, data, **kwargs):
+def validate_pchoice(values):
+    dists = [v for v in values if v]
+    if sum(dists) > 1:
+        raise ValueError("The distribution of different outcomes should sum to 1.")
+
+
+class PChoice(tuple):
+    @classmethod
+    def __get_validators__(cls) -> "CallableGenerator":
+        yield cls.validate
+
+    @classmethod
+    def validate(cls, value):
         if isinstance(value, (list, tuple)) and len(value) == 2:
             if isinstance(value[1], float) and 0 <= value[1] < 1:
                 return value
-        raise ValidationError("This field expects a list of [value<Any>, dist<float>].")
+        raise ValueError("This field expects a list of [value<Any>, dist<float>].")
 
 
-class Range(fields.Field):
-    REQUIRED_KEYS = ["start", "stop", "step"]
-    OPTIONAL_KEY = None
-    KEYS = REQUIRED_KEYS
-    CHECK_ORDER = True
-
-    def _deserialize(
-        self, value, attr, data, **kwargs
-    ):  # pylint:disable=too-many-branches
-        if isinstance(value, str):
-            value = value.split(":")
-        elif isinstance(value, Mapping):
-            if set(self.REQUIRED_KEYS) - set(value.keys()):
-                raise ValidationError(
-                    "{} dict must have {} keys {}.".format(
-                        self.__class__.__name__,
-                        len(self.REQUIRED_KEYS),
-                        self.REQUIRED_KEYS,
-                    )
-                )
-            if len(value) == len(self.REQUIRED_KEYS):
-                value = [value[k] for k in self.REQUIRED_KEYS]
-            elif len(value) == len(self.KEYS):
-                value = [value[k] for k in self.KEYS]
-        elif not isinstance(value, list):
-            raise ValidationError(
-                "{} accept values formatted as the following:\n"
-                " * str: {}\n"
-                " * dict: {}\n"
-                " * list: {}".format(
-                    self.__class__.__name__,
-                    ":".join(self.REQUIRED_KEYS),
-                    dict(
-                        zip(
-                            self.REQUIRED_KEYS,
-                            ["v{}".format(i) for i in range(len(self.REQUIRED_KEYS))],
-                        )
-                    ),
-                    self.REQUIRED_KEYS,
-                )
+def _validate_range(
+    value: List, required_keys: List, keys: List, check_order: bool = True
+):
+    # TODO: Fix error message
+    if len(value) < len(required_keys):
+        raise ValueError(
+            "This field expects a list of {} or {} elements, received {}.".format(
+                len(required_keys), len(keys), len(value)
+            )
+        )
+    # Check that lower value is smaller than higher value
+    if check_order and value[0] >= value[1]:
+        raise ValueError(
+            "{key2} value must be strictly higher that {key1} value, "
+            "received instead {key1}: {val1}, {key2}: {val2}".format(
+                key1=required_keys[0],
+                key2=required_keys[1],
+                val1=value[0],
+                val2=value[1],
             )
+        )
+    if len(required_keys) == 3 and not value[2]:
+        raise ValueError(
+            "{} must be > 0, received {}".format(required_keys[2], value[2])
+        )
 
-        if len(value) != len(self.REQUIRED_KEYS) and len(value) != len(self.KEYS):
-            raise ValidationError(
-                "{} requires {} or {} elements received {}".format(
-                    self.__class__.__name__,
-                    len(self.REQUIRED_KEYS),
-                    len(self.KEYS),
-                    len(value),
-                )
+
+class BaseRange(BaseSchemaModel):
+    _REQUIRED_KEYS = []
+    _OPTIONAL_KEYS = []
+    _CHECK_ORDER = True
+
+    @root_validator
+    def validate_range(cls, values):
+        value = list(values.values())
+        _validate_range(
+            value,
+            cls._REQUIRED_KEYS,
+            cls._REQUIRED_KEYS + cls._OPTIONAL_KEYS,
+            check_order=cls._CHECK_ORDER,
+        )
+        return values
+
+
+class Range(BaseRange):
+    start: Union[float]
+    stop: Union[float]
+    step: StrictIntOrFloat
+    _REQUIRED_KEYS = ["start", "stop", "step"]
+
+
+class RangeStr(StrictStr):
+    _CLASS = Range
+
+    @classmethod
+    def __get_validators__(cls) -> "CallableGenerator":
+        yield cls.validate
+
+    @classmethod
+    def validate(cls, value: str):
+        if not isinstance(value, str) or ":" not in value:
+            raise ValueError("This field expects a string of values separated by `:`.")
+        keys = cls._CLASS._REQUIRED_KEYS + cls._CLASS._OPTIONAL_KEYS
+        if value:
+            value = value.split(":")
+            return cls._CLASS(**dict(zip(keys, value)))
+        raise ValueError(
+            "`{}` requires `{}` or `{}` elements, received `{}`".format(
+                cls._CLASS.__name__,
+                len(cls._CLASS._REQUIRED_KEYS),
+                len(keys),
+                len(value),
             )
+        )
 
-        for i, v in enumerate(value):
-            try:
-                float(v)
-            except (ValueError, TypeError):
-                raise ValidationError(
-                    "{}: {} must of type int or float, received instead {}".format(
-                        self.__class__.__name__, self.REQUIRED_KEYS[i], v
-                    )
-                )
-            if not isinstance(v, (int, float)):
-                value[i] = ast.literal_eval(v)
 
-        # Check that lower value is smaller than higher value
-        if self.CHECK_ORDER and value[0] >= value[1]:
-            raise ValidationError(
-                "{key2} value must be strictly higher that {key1} value, "
-                "received instead {key1}: {val1}, {key2}: {val2}".format(
-                    key1=self.REQUIRED_KEYS[0],
-                    key2=self.REQUIRED_KEYS[1],
-                    val1=value[0],
-                    val2=value[1],
-                )
+class RangeList(list):
+    _CLASS = Range
+
+    @classmethod
+    def __get_validators__(cls) -> "CallableGenerator":
+        yield cls.validate
+
+    @classmethod
+    def validate(cls, value: List):
+        if not isinstance(value, list):
+            raise ValueError("This field expects a list of values.")
+        keys = cls._CLASS._REQUIRED_KEYS + cls._CLASS._OPTIONAL_KEYS
+        if value:
+            return cls._CLASS(**dict(zip(keys, value)))
+        raise ValueError(
+            "`{}` requires `{}` or `{}` elements, received `{}`".format(
+                cls._CLASS.__name__,
+                len(cls._CLASS._REQUIRED_KEYS),
+                len(keys),
+                len(value),
             )
-        if len(self.REQUIRED_KEYS) == 3 and value[2] == 0:
-            raise ValidationError("{} cannot be 0".format(self.REQUIRED_KEYS[2]))
+        )
 
-        value = dict(zip(self.KEYS, value))
-        return value
 
+class DateRange(Range):
+    start: date
+    stop: date
+    step: int
 
-class LinSpace(Range):
-    REQUIRED_KEYS = ["start", "stop", "num"]
-    KEYS = REQUIRED_KEYS
 
+class DateRangeList(RangeList):
+    _CLASS = DateRange
 
-class GeomSpace(Range):
-    REQUIRED_KEYS = ["start", "stop", "num"]
-    KEYS = REQUIRED_KEYS
 
+class DateTimeRange(Range):
+    start: datetime
+    stop: datetime
+    step: timedelta
 
-class LogSpace(Range):
-    REQUIRED_KEYS = ["start", "stop", "num"]
-    OPTIONAL_KEYS = ["base"]
-    KEYS = REQUIRED_KEYS + OPTIONAL_KEYS
 
+class DateTimeRangeList(RangeList):
+    _CLASS = DateTimeRange
+
+
+class Space(BaseRange):
+    start: Union[float]
+    stop: Union[float]
+    num: int
+    _REQUIRED_KEYS = ["start", "stop", "num"]
+
+
+class LinSpace(Space):
+    pass
+
+
+class LinSpaceList(RangeList):
+    _CLASS = LinSpace
+
+
+class LinSpaceStr(RangeStr):
+    _CLASS = LinSpace
+
+
+class GeomSpace(Space):
+    pass
+
+
+class GeomSpaceList(RangeList):
+    _CLASS = GeomSpace
+
+
+class GeomSpaceStr(RangeStr):
+    _CLASS = GeomSpace
 
-def validate_pchoice(values):
-    dists = [v for v in values if v]
-    if sum(dists) > 1:
-        raise ValidationError("The distribution of different outcomes should sum to 1.")
 
+class LogSpace(Space):
+    base: Optional[int]
+    _OPTIONAL_KEYS = ["base"]
 
-def pchoice(values, size=None, rand_generator=None):
-    rand_generator = rand_generator or np.random
-    keys = [v[0] for v in values]
-    dists = [v[1] for v in values]
-    validate_pchoice(dists)
-    indices = rand_generator.multinomial(1, dists, size=size)
-    if size is None:
-        return keys[indices.argmax()]
-    return [keys[ind.argmax()] for ind in indices]
 
+class LogSpaceList(RangeList):
+    _CLASS = LogSpace
 
-class Dist(Range):
-    CHECK_ORDER = False
+
+class LogSpaceStr(RangeStr):
+    _CLASS = LogSpace
+
+
+class Dist(BaseRange):
+    low: Union[float]
+    high: Union[float]
+    size: Optional[int]
+    _REQUIRED_KEYS = ["low", "high"]
+    _OPTIONAL_KEYS = ["size"]
+    _CHECK_ORDER = False
+
+
+class QDist(BaseRange):
+    low: Union[float]
+    high: Union[float]
+    q: StrictIntOrFloat
+    size: Optional[int]
+    _REQUIRED_KEYS = ["low", "high", "q"]
+    _OPTIONAL_KEYS = ["size"]
+    _CHECK_ORDER = False
 
 
 class Uniform(Dist):
-    REQUIRED_KEYS = ["low", "high"]
-    OPTIONAL_KEYS = ["size"]
-    KEYS = REQUIRED_KEYS + OPTIONAL_KEYS
+    pass
+
+
+class UniformList(RangeList):
+    _CLASS = Uniform
+
 
+class UniformStr(RangeStr):
+    _CLASS = Uniform
 
-class QUniform(Dist):
-    REQUIRED_KEYS = ["low", "high", "q"]
-    OPTIONAL_KEYS = ["size"]
-    KEYS = REQUIRED_KEYS + OPTIONAL_KEYS
+
+class QUniform(QDist):
+    pass
+
+
+class QUniformList(RangeList):
+    _CLASS = QUniform
+
+
+class QUniformStr(RangeStr):
+    _CLASS = QUniform
 
 
 class LogUniform(Dist):
-    REQUIRED_KEYS = ["low", "high"]
-    OPTIONAL_KEYS = ["size"]
-    KEYS = REQUIRED_KEYS + OPTIONAL_KEYS
+    pass
+
+
+class LogUniformList(RangeList):
+    _CLASS = LogUniform
 
 
-class QLogUniform(Dist):
-    REQUIRED_KEYS = ["low", "high", "q"]
-    OPTIONAL_KEYS = ["size"]
-    KEYS = REQUIRED_KEYS + OPTIONAL_KEYS
+class LogUniformStr(RangeStr):
+    _CLASS = LogUniform
 
 
-class Normal(Dist):
-    REQUIRED_KEYS = ["loc", "scale"]
-    OPTIONAL_KEYS = ["size"]
-    KEYS = REQUIRED_KEYS + OPTIONAL_KEYS
+class QLogUniform(QDist):
+    pass
 
 
-class QNormal(Dist):
-    REQUIRED_KEYS = ["loc", "scale", "q"]
-    OPTIONAL_KEYS = ["size"]
-    KEYS = REQUIRED_KEYS + OPTIONAL_KEYS
+class QLogUniformList(RangeList):
+    _CLASS = QLogUniform
 
 
-class LogNormal(Dist):
-    REQUIRED_KEYS = ["loc", "scale"]
-    OPTIONAL_KEYS = ["size"]
-    KEYS = REQUIRED_KEYS + OPTIONAL_KEYS
+class QLogUniformStr(RangeStr):
+    _CLASS = QLogUniform
 
 
-class QLogNormal(Dist):
-    REQUIRED_KEYS = ["loc", "scale", "q"]
-    OPTIONAL_KEYS = ["size"]
-    KEYS = REQUIRED_KEYS + OPTIONAL_KEYS
+class Normal(BaseRange):
+    loc: Union[float]
+    scale: Union[float]
+    size: Optional[int]
+    _REQUIRED_KEYS = ["loc", "scale"]
+    _OPTIONAL_KEYS = ["size"]
+    _CHECK_ORDER = False
+
+
+class NormalList(RangeList):
+    _CLASS = Normal
+
+
+class NormalStr(RangeStr):
+    _CLASS = Normal
+
+
+class QNormal(BaseRange):
+    loc: Union[float]
+    scale: Union[float]
+    q: StrictIntOrFloat
+    size: Optional[int]
+    _REQUIRED_KEYS = ["loc", "scale", "q"]
+    _OPTIONAL_KEYS = ["size"]
+    _CHECK_ORDER = False
+
+
+class QNormalList(RangeList):
+    _CLASS = QNormal
+
+
+class QNormalStr(RangeStr):
+    _CLASS = QNormal
+
+
+class LogNormal(Normal):
+    pass
+
+
+class LogNormalList(RangeList):
+    _CLASS = LogNormal
+
+
+class LogNormalStr(RangeStr):
+    _CLASS = LogNormal
+
+
+class QLogNormal(QNormal):
+    pass
+
+
+class QLogNormalList(RangeList):
+    _CLASS = QLogNormal
+
+
+class QLogNormalStr(RangeStr):
+    _CLASS = QLogNormal
 
 
 def validate_matrix(values):
     v = sum(map(lambda x: 1 if x else 0, values))
     if v == 0 or v > 1:
-        raise ValidationError(
+        raise ValueError(
             "Matrix element is not valid, one and only one option is required."
         )
 
 
-class BaseHpParamConfig(BaseConfig):
+class BaseHpParamConfig(BaseDiscriminatedModel):
     @staticmethod
     def validate_io(io: "V1IO"):  # noqa
         if io.type not in [types.INT, types.FLOAT]:
-            raise ValidationError(
+            raise ValueError(
                 "Param `{}` has a an input type `{}` "
                 "and it does not correspond to hyper-param type `int or float`.".format(
                     io.name,
                     io.type,
                 )
             )
         return True
 
 
-class HpChoiceSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("choice"))
-    value = fields.List(fields.Raw(), allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpChoice
-
-
-class V1HpChoice(BaseHpParamConfig, polyaxon_sdk.V1HpChoice):
+class V1HpChoice(BaseHpParamConfig):
     """`Choice` picks a value from a of list values.
 
     ```yaml
     >>> params:
     >>>   paramTest:
     >>>     kind: choice
     >>>     value: [1, 2, 3, 4, 5]
@@ -255,16 +377,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpChoice
     >>> param_test = V1HpChoice(value=[1, 2, 3, 4, 5])
     ```
     """
 
-    SCHEMA = HpChoiceSchema
-    IDENTIFIER = "choice"
+    _IDENTIFIER = V1HPKind.CHOICE
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[List[Any], RefField]]
 
     @staticmethod
     def validate_io(io: "V1IO"):  # noqa
         return True
 
     @property
     def is_distribution(self):
@@ -293,30 +417,15 @@
         )
 
     @property
     def is_uniform(self):
         return False
 
 
-class HpPChoiceSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("pchoice"))
-    value = fields.List(PChoice(), allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpPChoice
-
-    @validates_schema
-    @check_partial
-    def validate_pchoice(self, data, **kwargs):
-        if data.get("value"):
-            validate_pchoice(values=[v[1] for v in data["value"] if v])
-
-
-class V1HpPChoice(BaseHpParamConfig, polyaxon_sdk.V1HpPChoice):
+class V1HpPChoice(BaseHpParamConfig):
     """`PChoice` picks a value with a probability from a list of
     [(value, probability), (value, probability), ...].
 
     ```yaml
     >>> params:
     >>>   paramTest:
     >>>     kind: pchoice
@@ -325,16 +434,26 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpPChoice
     >>> param_test = V1HpPChoice(value=[("A", 0.1), ("B", 0.1), ("C", 0.8)])
     ```
     """
 
-    SCHEMA = HpPChoiceSchema
-    IDENTIFIER = "pchoice"
+    _IDENTIFIER = V1HPKind.PCHOICE
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[List[PChoice], RefField]]
+
+    @validator("value")
+    @skip_partial
+    def validate_value(cls, value):
+        if value and isinstance(value, (list, tuple)):
+            validate_pchoice(values=[v[1] for v in value if v])
+
+        return value
 
     @staticmethod
     def validate_io(io: "V1IO"):  # noqa
         return True
 
     @property
     def is_distribution(self):
@@ -357,24 +476,15 @@
         return False
 
     @property
     def is_uniform(self):
         return False
 
 
-class HpRangeSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("range"))
-    value = Range(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpRange
-
-
-class V1HpRange(BaseHpParamConfig, polyaxon_sdk.V1HpRange):
+class V1HpRange(BaseHpParamConfig):
     """`Range` picks a value from a generated list of values using `[start, stop, step]`,
     you can pass values in these forms:
       * [1, 10, 2]
       * {start: 1, stop: 10, step: 2}
       * '1:10:2'
 
     ```yaml
@@ -386,16 +496,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpRange
     >>> param_test = V1HpRange(value=[1, 10, 2])
     ```
     """
 
-    SCHEMA = HpRangeSchema
-    IDENTIFIER = "range"
+    _IDENTIFIER = V1HPKind.RANGE
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[Range, RangeList, RangeStr, RefField]]
 
     @property
     def is_distribution(self):
         return False
 
     @property
     def is_continuous(self):
@@ -414,24 +526,141 @@
         return False
 
     @property
     def is_uniform(self):
         return False
 
 
-class HpLinSpaceSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("linspace"))
-    value = LinSpace(allow_none=True)
+class V1HpDateRange(BaseHpParamConfig):
+    """`DateRange` picks a value from a generated list of values using `[start, stop, step]`,
+    you can pass values in these forms:
+      * `["2019-06-24", "2019-06-25", 3600 * 24]`
+      * `{start: "2019-06-24 00:00", stop: "2019-06-28 00:00", step: 1}`
+
+    **Step (frequency)**: represents a timedelta in days.
+
+    ```yaml
+    >>> params:
+    >>>   paramTest:
+    >>>     kind: daterange
+    >>>     value: ["2019-06-22", "2019-07-25", 1]
+    ```
+
+    ```python
+    >>> from polyaxon.polyflow import V1HpDateRange
+    >>> param_test = V1HpDateRange(value=["2019-06-22", "2019-06-25", 2])
+    ```
+    """
+
+    _IDENTIFIER = V1HPKind.DATERANGE
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[DateRange, DateRangeList, RefField]]
 
     @staticmethod
-    def schema_config():
-        return V1HpLinSpace
+    def validate_io(io: "V1IO"):  # noqa
+        if io.type != types.DATE:
+            raise ValueError(
+                "Param `{}` has a an input type `{}` "
+                "and it does not correspond to hyper-param type `date`.".format(
+                    io.name,
+                    io.type,
+                )
+            )
+        return True
 
+    @property
+    def is_distribution(self):
+        return False
+
+    @property
+    def is_continuous(self):
+        return False
+
+    @property
+    def is_discrete(self):
+        return True
+
+    @property
+    def is_range(self):
+        return True
+
+    @property
+    def is_categorical(self):
+        return False
+
+    @property
+    def is_uniform(self):
+        return False
+
+
+class V1HpDateTimeRange(BaseHpParamConfig):
+    """`DateTimeRange` picks a value from a generated list of values using `[start, stop, step]`,
+    you can pass values in these forms:
+      * `["2019-06-24T21:20:07+02:00", "2019-06-25T21:20:07+02:00", 3600]`
+      * `{start: "2019-06-24 00:00", stop: "2019-06-28 00:00", step: 3600 * 4}`
+
+    **Step (frequency)**: represents a timedelta in seconds.
+
+    ```yaml
+    >>> params:
+    >>>   paramTest:
+    >>>     kind: datetimerange
+    >>>     value: ["2019-06-22 21:00", "2019-06-25 21:00", 3600]
+    ```
+
+    ```python
+    >>> from polyaxon.polyflow import V1HpDateTimeRange
+    >>> param_test = V1HpDateTimeRange(value=["2019-06-22 21:00", "2019-06-25 21:00", 3600])
+    ```
+    """
+
+    _IDENTIFIER = V1HPKind.DATETIMERANGE
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[DateTimeRange, DateTimeRangeList, RefField]]
+
+    @staticmethod
+    def validate_io(io: "V1IO"):  # noqa
+        if io.type != types.DATETIME:
+            raise ValueError(
+                "Param `{}` has a an input type `{}` "
+                "and it does not correspond to hyper-param type `datetime`.".format(
+                    io.name,
+                    io.type,
+                )
+            )
+        return True
+
+    @property
+    def is_distribution(self):
+        return False
+
+    @property
+    def is_continuous(self):
+        return False
+
+    @property
+    def is_discrete(self):
+        return True
+
+    @property
+    def is_range(self):
+        return True
 
-class V1HpLinSpace(BaseHpParamConfig, polyaxon_sdk.V1HpLinSpace):
+    @property
+    def is_categorical(self):
+        return False
+
+    @property
+    def is_uniform(self):
+        return False
+
+
+class V1HpLinSpace(BaseHpParamConfig):
     """`LinSpace` picks a value from a generated list of steps from start to stop spaced evenly
     on a linear scale `[start, stop, step]`, you can pass values in these forms:
       * [1, 10, 20]
       * {start: 1, stop: 10, num: 20}
       * '1:10:20'
 
     ```yaml
@@ -443,16 +672,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpLinSpace
     >>> param_test = V1HpLinSpace(value=[1, 10, 20])
     ```
     """
 
-    SCHEMA = HpLinSpaceSchema
-    IDENTIFIER = "linspace"
+    _IDENTIFIER = V1HPKind.LINSPACE
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[LinSpace, LinSpaceList, LinSpaceStr, RefField]]
 
     @property
     def is_distribution(self):
         return False
 
     @property
     def is_continuous(self):
@@ -471,45 +702,42 @@
         return False
 
     @property
     def is_uniform(self):
         return False
 
 
-class HpLogSpaceSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("logspace"))
-    value = LogSpace(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpLogSpace
-
-
-class V1HpLogSpace(BaseHpParamConfig, polyaxon_sdk.V1HpLogSpace):
+class V1HpLogSpace(BaseHpParamConfig):
     """`LogSpace` picks a value from a generated list of steps from start to stop spaced evenly
-    on a log scale `[start, stop, step]`, you can pass values in these forms:
+    on a log scale `[start, stop, step]` or `[start, stop, step, base]`,
+    where `base` is optional with 10 as default value,
+    you can pass values in these forms:
       * [1, 10, 20]
+      * [1, 10, 20, 2]
       * {start: 1, stop: 10, num: 20}
-      * '1:10:20'
+      * {start: 1, stop: 10, num: 20, base: 2}
+      * '1:10:20:2'
 
     ```yaml
     >>> params:
     >>>   paramTest:
     >>>     kind: logspace
     >>>     value: [1, 10, 20]
     ```
 
     ```python
     >>> from polyaxon.polyflow import V1HpLogSpace
     >>> param_test = V1HpLinSpace(value=[1, 10, 20])
     ```
     """
 
-    SCHEMA = HpLogSpaceSchema
-    IDENTIFIER = "logspace"
+    _IDENTIFIER = V1HPKind.LOGSPACE
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[LogSpace, LogSpaceList, LogSpaceStr, RefField]]
 
     @property
     def is_distribution(self):
         return False
 
     @property
     def is_continuous(self):
@@ -528,24 +756,15 @@
         return False
 
     @property
     def is_uniform(self):
         return False
 
 
-class HpGeomSpaceSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("geomspace"))
-    value = GeomSpace(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpGeomSpace
-
-
-class V1HpGeomSpace(BaseHpParamConfig, polyaxon_sdk.V1HpGeomSpace):
+class V1HpGeomSpace(BaseHpParamConfig):
     """`GeomSpace` picks a value from a generated list of steps from start to stop spaced evenly
     on a geometric progression `[start, stop, step]`, you can pass values in these forms:
       * [1, 10, 20]
       * {start: 1, stop: 10, num: 20}
       * '1:10:20'
 
     ```yaml
@@ -557,16 +776,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpGeomSpace
     >>> param_test = V1HpGeomSpace(value=[1, 10, 20])
     ```
     """
 
-    SCHEMA = HpGeomSpaceSchema
-    IDENTIFIER = "geomspace"
+    _IDENTIFIER = V1HPKind.GEOMSPACE
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[GeomSpace, GeomSpaceList, GeomSpaceStr, RefField]]
 
     @property
     def is_distribution(self):
         return False
 
     @property
     def is_continuous(self):
@@ -585,24 +806,15 @@
         return False
 
     @property
     def is_uniform(self):
         return False
 
 
-class HpUniformSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("uniform"))
-    value = Uniform(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpUniform
-
-
-class V1HpUniform(BaseHpParamConfig, polyaxon_sdk.V1HpUniform):
+class V1HpUniform(BaseHpParamConfig):
     """`Uniform` draws samples from a uniform distribution over the half-open
     interval `[low, high)`, you can pass values in these forms:
       * 0:1
       * [0, 1]
       * {'low': 0, 'high': 1}
 
     ```yaml
@@ -614,16 +826,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpUniform
     >>> param_test = V1HpUniform(value=[0, 1])
     ```
     """
 
-    SCHEMA = HpUniformSchema
-    IDENTIFIER = "uniform"
+    _IDENTIFIER = V1HPKind.UNIFORM
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[Uniform, UniformList, UniformStr, RefField]]
 
     @property
     def is_distribution(self):
         return True
 
     @property
     def is_uniform(self):
@@ -642,24 +856,15 @@
         return False
 
     @property
     def is_categorical(self):
         return False
 
 
-class HpQUniformSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("quniform"))
-    value = QUniform(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpQUniform
-
-
-class V1HpQUniform(BaseHpParamConfig, polyaxon_sdk.V1HpQUniform):
+class V1HpQUniform(BaseHpParamConfig):
     """`QUniform` samples from a quantized uniform distribution over `[low, high]`
     (`round(uniform(low, high) / q) * q`),
     you can pass values in these forms:
       * 0:1:0.1
       * [0, 1, 0.1]
       * {'low': 0, 'high': 1, 'q': 0.1}
 
@@ -673,16 +878,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpQUniform
     >>> param_test = V1HpQUniform(value=[0, 1, 0.1])
     ```
     """
 
-    SCHEMA = HpQUniformSchema
-    IDENTIFIER = "quniform"
+    _IDENTIFIER = "quniform"
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[QUniform, QUniformList, QUniformStr, RefField]]
 
     @property
     def is_distribution(self):
         return True
 
     @property
     def is_uniform(self):
@@ -701,24 +908,15 @@
         return False
 
     @property
     def is_categorical(self):
         return False
 
 
-class HpLogUniformSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("loguniform"))
-    value = LogUniform(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpLogUniform
-
-
-class V1HpLogUniform(BaseHpParamConfig, polyaxon_sdk.V1HpLogUniform):
+class V1HpLogUniform(BaseHpParamConfig):
     """`LogUniform` samples from a log uniform distribution over`[low, high]`,
     you can pass values in these forms:
       * 0:1
       * [0, 1]
       * {'low': 0, 'high': 1}
 
 
@@ -731,16 +929,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpLogUniform
     >>> param_test = V1HpLogUniform(value=[0, 1])
     ```
     """
 
-    SCHEMA = HpLogUniformSchema
-    IDENTIFIER = "loguniform"
+    _IDENTIFIER = V1HPKind.LOGUNIFORM
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[LogUniform, LogUniformList, LogUniformStr, RefField]]
 
     @property
     def is_distribution(self):
         return True
 
     @property
     def is_uniform(self):
@@ -759,24 +959,15 @@
         return False
 
     @property
     def is_categorical(self):
         return False
 
 
-class HpQLogUniformSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("qloguniform"))
-    value = QLogUniform(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpQLogUniform
-
-
-class V1HpQLogUniform(BaseHpParamConfig, polyaxon_sdk.V1HpQLogUniform):
+class V1HpQLogUniform(BaseHpParamConfig):
     """`LogUniform` samples from a log uniform distribution over`[low, high]`,
     you can pass values in these forms:
       * 0:1:0.1
       * [0, 1, 0.1]
       * {'low': 0, 'high': 1, 'q': 0.1}
 
 
@@ -789,16 +980,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpQLogUniform
     >>> param_test = V1HpQLogUniform(value=[0, 1, 0.1])
     ```
     """
 
-    SCHEMA = HpQLogUniformSchema
-    IDENTIFIER = "qloguniform"
+    _IDENTIFIER = V1HPKind.QLOGUNIFORM
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[QLogUniform, QLogUniformList, QLogUniformStr, RefField]]
 
     @property
     def is_distribution(self):
         return True
 
     @property
     def is_uniform(self):
@@ -821,24 +1014,15 @@
         return False
 
     @property
     def min(self):
         return None
 
 
-class HpNormalSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("normal"))
-    value = Normal(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpNormal
-
-
-class V1HpNormal(BaseHpParamConfig, polyaxon_sdk.V1HpNormal):
+class V1HpNormal(BaseHpParamConfig):
     """`Normal` draws random samples from a normal (Gaussian) distribution defined by
     `[loc, scale]`, you can pass values in these forms:
       * 0:1
       * [0, 1]
       * {'loc': 0, 'scale': 1}
 
 
@@ -851,16 +1035,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpNormal
     >>> param_test = V1HpNormal(value=[0, 1])
     ```
     """
 
-    SCHEMA = HpNormalSchema
-    IDENTIFIER = "normal"
+    _IDENTIFIER = V1HPKind.NORMAL
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[Normal, NormalList, NormalStr, RefField]]
 
     @property
     def is_distribution(self):
         return True
 
     @property
     def is_uniform(self):
@@ -879,24 +1065,15 @@
         return False
 
     @property
     def is_categorical(self):
         return False
 
 
-class HpQNormalSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("qnormal"))
-    value = QNormal(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpQNormal
-
-
-class V1HpQNormal(BaseHpParamConfig, polyaxon_sdk.V1HpQNormal):
+class V1HpQNormal(BaseHpParamConfig):
     """`QNormal` draws random samples from a quantized normal (Gaussian) distribution defined by
     `[loc, scale]`, you can pass values in these forms:
       * 0:1:0.1
       * [0, 1, 0.1]
       * {'loc': 0, 'scale': 1, 'q': 0.1}
 
 
@@ -909,16 +1086,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpQNormal
     >>> param_test = V1HpNormal(value=[0, 1, 0.1])
     ```
     """
 
-    SCHEMA = HpQNormalSchema
-    IDENTIFIER = "qnormal"
+    _IDENTIFIER = V1HPKind.QNORMAL
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[QNormal, QNormalList, QNormalStr, RefField]]
 
     @property
     def is_distribution(self):
         return True
 
     @property
     def is_uniform(self):
@@ -937,24 +1116,15 @@
         return False
 
     @property
     def is_categorical(self):
         return False
 
 
-class HpLogNormalSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("lognormal"))
-    value = LogNormal(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpLogNormal
-
-
-class V1HpLogNormal(BaseHpParamConfig, polyaxon_sdk.V1HpLogNormal):
+class V1HpLogNormal(BaseHpParamConfig):
     """`LogNormal` draws random samples from a log normal (Gaussian) distribution defined by
     `[loc, scale]`, you can pass values in these forms:
       * 0:1
       * [0, 1]
       * {'loc': 0, 'scale': 1}
 
 
@@ -967,16 +1137,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpLogNormal
     >>> param_test = V1HpLogNormal(value=[0, 1])
     ```
     """
 
-    SCHEMA = HpLogNormalSchema
-    IDENTIFIER = "lognormal"
+    _IDENTIFIER = V1HPKind.LOGNORMAL
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[LogNormal, LogNormalList, LogNormalStr, RefField]]
 
     @property
     def is_distribution(self):
         return True
 
     @property
     def is_uniform(self):
@@ -995,24 +1167,15 @@
         return False
 
     @property
     def is_categorical(self):
         return False
 
 
-class HpQLogNormalSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("qlognormal"))
-    value = QLogNormal(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1HpQLogNormal
-
-
-class V1HpQLogNormal(BaseHpParamConfig, polyaxon_sdk.V1HpQLogNormal):
+class V1HpQLogNormal(BaseHpParamConfig):
     """`QLogNormal` draws random samples from a log normal (Gaussian) distribution defined by
     `[loc, scale]`, you can pass values in these forms:
       * 0:1:0.1
       * [0, 1, 0.1]
       * {'loc': 0, 'scale': 1, 'q': 0.1}
 
 
@@ -1025,16 +1188,18 @@
 
     ```python
     >>> from polyaxon.polyflow import V1HpQLogNormal
     >>> param_test = V1HpQLogNormal(value=[0, 1])
     ```
     """
 
-    SCHEMA = HpQLogNormalSchema
-    IDENTIFIER = "qlognormal"
+    _IDENTIFIER = V1HPKind.QLOGNORMAL
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    value: Optional[Union[QLogNormal, QLogNormalList, QLogNormalStr, RefField]]
 
     @property
     def is_distribution(self):
         return True
 
     @property
     def is_uniform(self):
@@ -1053,44 +1218,28 @@
         return False
 
     @property
     def is_categorical(self):
         return False
 
 
-class HpParamSchema(BaseOneOfSchema):
-    TYPE_FIELD = "kind"
-    TYPE_FIELD_REMOVE = False
-    SCHEMAS = {
-        V1HpChoice.IDENTIFIER: HpChoiceSchema,
-        V1HpPChoice.IDENTIFIER: HpPChoiceSchema,
-        V1HpRange.IDENTIFIER: HpRangeSchema,
-        V1HpLinSpace.IDENTIFIER: HpLinSpaceSchema,
-        V1HpLogSpace.IDENTIFIER: HpLogSpaceSchema,
-        V1HpGeomSpace.IDENTIFIER: HpGeomSpaceSchema,
-        V1HpUniform.IDENTIFIER: HpUniformSchema,
-        V1HpQUniform.IDENTIFIER: HpQUniformSchema,
-        V1HpLogUniform.IDENTIFIER: HpLogUniformSchema,
-        V1HpQLogUniform.IDENTIFIER: HpQLogUniformSchema,
-        V1HpNormal.IDENTIFIER: HpNormalSchema,
-        V1HpQNormal.IDENTIFIER: HpQNormalSchema,
-        V1HpLogNormal.IDENTIFIER: HpLogNormalSchema,
-        V1HpQLogNormal.IDENTIFIER: HpQLogNormalSchema,
-    }
-
-
-V1HpParam = Union[
-    V1HpChoice,
-    V1HpPChoice,
-    V1HpRange,
-    V1HpLinSpace,
-    V1HpLogSpace,
-    V1HpGeomSpace,
-    V1HpUniform,
-    V1HpQUniform,
-    V1HpLogUniform,
-    V1HpQLogUniform,
-    V1HpNormal,
-    V1HpQNormal,
-    V1HpLogNormal,
-    V1HpQLogNormal,
+V1HpParam = Annotated[
+    Union[
+        V1HpChoice,
+        V1HpPChoice,
+        V1HpRange,
+        V1HpDateRange,
+        V1HpDateTimeRange,
+        V1HpLinSpace,
+        V1HpLogSpace,
+        V1HpGeomSpace,
+        V1HpUniform,
+        V1HpQUniform,
+        V1HpLogUniform,
+        V1HpQLogUniform,
+        V1HpNormal,
+        V1HpQNormal,
+        V1HpLogNormal,
+        V1HpQLogNormal,
+    ],
+    Field(discriminator="kind"),
 ]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/matrix/tuner.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/tuner.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,46 +1,32 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, List, Optional, Union
 
-import polyaxon_sdk
+from pydantic import Field, StrictStr
 
-from marshmallow import fields
+from polyaxon.polyflow.params import V1Param
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields.ref_or_obj import RefField
 
-from polyaxon.polyflow.params import ParamSchema
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
 
-
-class TunerSchema(BaseCamelSchema):
-    hub_ref = fields.Str(required=True)
-    queue = RefOrObject(fields.Str(allow_none=True))
-    presets = RefOrObject(fields.List(fields.Str(allow_none=True)))
-    params = fields.Dict(
-        keys=fields.Str(), values=fields.Nested(ParamSchema), allow_none=True
-    )
-
-    @staticmethod
-    def schema_config():
-        return V1Tuner
-
-
-class V1Tuner(BaseConfig, polyaxon_sdk.V1Tuner):
+class V1Tuner(BaseSchemaModel):
     """You can configure Polyaxon to use a custom tuner to customize the built-in optimizers.
 
     The tuner allows you to customize the behavior of the operations that
     generate new suggestions based on the previous observations.
 
     You can provide a queue or provide presets to override
     the default configuration of the component.
@@ -131,15 +117,13 @@
     >>>   params:
     >>>     param1: {value: 1.1}
     >>>     param2: {value: test}
     >>>   ...
     ```
     """
 
-    IDENTIFIER = "tuner"
-    SCHEMA = TunerSchema
-    REDUCED_ATTRIBUTES = [
-        "hubRef",
-        "params",
-        "queue",
-        "presets",
-    ]
+    _IDENTIFIER = "tuner"
+
+    hub_ref: StrictStr = Field(alias="hubRef")
+    queue: Optional[StrictStr]
+    presets: Optional[Union[List[StrictStr], RefField]]
+    params: Optional[Union[Dict[str, V1Param], RefField]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/mounts/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/constants/globals.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,20 +1,21 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.polyflow.mounts.artifacts_mounts import (
-    ArtifactsMountSchema,
-    V1ArtifactsMount,
-)
+UNKNOWN = "unknown"
+DEFAULT = "default"
+DEFAULT_HUB = "polyaxon"
+NO_AUTH = "no-auth"
+DEFAULT_UPLOADS_PATH = "uploads"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/mounts/artifacts_mounts.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/references/hub.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,36 +1,31 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from pydantic import StrictStr
 
-from marshmallow import fields
+from polyaxon.polyflow.references.mixin import RefMixin
+from polyaxon.schemas.base import BaseDiscriminatedModel
 
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
 
+class V1HubRef(BaseDiscriminatedModel, RefMixin):
+    _IDENTIFIER = "hub_ref"
 
-class ArtifactsMountSchema(BaseCamelSchema):
-    name = fields.Str(required=True)
-    paths = fields.List(fields.Str(), allow_none=True)
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    name: StrictStr
 
-    @staticmethod
-    def schema_config():
-        return V1ArtifactsMount
-
-
-class V1ArtifactsMount(BaseConfig, polyaxon_sdk.V1ArtifactsMount):
-    IDENTIFIER = "artifacts_mount"
-    SCHEMA = ArtifactsMountSchema
-    REDUCED_ATTRIBUTES = ["paths"]
+    def get_kind_value(self):
+        return self.name
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/notifications/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/notifications/__init__.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,43 +1,31 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
+from pydantic import StrictStr
 
 from polyaxon.lifecycle import V1Statuses
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-
-
-class NotificationSchema(BaseCamelSchema):
-    connections = fields.List(fields.Str(), required=True)
-    trigger = fields.Str(
-        allow_none=True, validate=validate.OneOf(V1Statuses.allowable_values)
-    )
+from polyaxon.schemas.base import BaseSchemaModel
 
-    @staticmethod
-    def schema_config():
-        return V1Notification
 
-
-class V1Notification(BaseConfig, polyaxon_sdk.V1Notification):
+class V1Notification(BaseSchemaModel):
     """You can configure Polyaxon to send notifications to users and systems
     about event changes in your runs.
 
     Notifications also allow you to build or set up integrations using webhooks.
     External systems can subscribe or provide handling for certain events.
     When one of those events is triggered, Polyaxon will send an HTTP request
     payload to the webhook's configured URL.
@@ -92,17 +80,16 @@
     >>> notification:
     >>>   trigger: succeeded
     ```
 
     In this example, the notification will be sent if the run succeeds.
     """
 
-    IDENTIFIER = "notification"
-    SCHEMA = NotificationSchema
-    REDUCED_ATTRIBUTES = [
-        "connections",
-        "trigger",
-    ]
+    _IDENTIFIER = "notification"
+
+    connections: List[StrictStr]
+    trigger: Optional[V1Statuses]
 
     def to_operator(self):
-        self.trigger = self.trigger.capitalize()
-        return super().to_dict()
+        data = super().to_dict()
+        data["trigger"] = self.trigger.capitalize()
+        return data
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/operations/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/operations/__init__.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,21 +1,18 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.polyflow.operations.compiled_operation import (
-    CompiledOperationSchema,
-    V1CompiledOperation,
-)
-from polyaxon.polyflow.operations.operation import OperationSchema, V1Operation
+from polyaxon.polyflow.operations.compiled_operation import V1CompiledOperation
+from polyaxon.polyflow.operations.operation import V1Operation
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/operations/base.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/operations/base.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,93 +1,74 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from typing import Dict, Set
+from typing import Dict, List, Optional, Set, Union
 
-from marshmallow import fields, validate
+from pydantic import Field, StrictStr
 
-from polyaxon.contexts import refs as contexts_refs
+from polyaxon.contexts import refs as ctx_refs
 from polyaxon.lifecycle import V1Statuses
-from polyaxon.polyflow.component.base import BaseComponent, BaseComponentSchema
-from polyaxon.polyflow.events import EventTriggerSchema, V1EventKind
-from polyaxon.polyflow.joins import JoinSchema
-from polyaxon.polyflow.matrix import MatrixMixin, MatrixSchema
-from polyaxon.polyflow.schedules import ScheduleMixin, ScheduleSchema
+from polyaxon.polyflow.component.base import BaseComponent
+from polyaxon.polyflow.events import V1EventKind, V1EventTrigger
+from polyaxon.polyflow.joins import V1Join
+from polyaxon.polyflow.matrix import MatrixMixin, V1Matrix
+from polyaxon.polyflow.schedules import ScheduleMixin, V1Schedule
 from polyaxon.polyflow.trigger_policies import V1TriggerPolicy
-
-
-class BaseOpSchema(BaseComponentSchema):
-    schedule = fields.Nested(ScheduleSchema, allow_none=True)
-    events = fields.List(fields.Nested(EventTriggerSchema), allow_none=True)
-    matrix = fields.Nested(MatrixSchema, allow_none=True)
-    joins = fields.List(fields.Nested(JoinSchema), allow_none=True)
-    dependencies = fields.List(fields.Str(), allow_none=True)
-    trigger = fields.Str(
-        allow_none=True, validate=validate.OneOf(V1TriggerPolicy.allowable_values)
-    )
-    conditions = fields.Str(allow_none=True)
-    skip_on_upstream_skip = fields.Bool(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return BaseOp
+from polyaxon.schemas.fields import RefField
 
 
 class BaseOp(BaseComponent, MatrixMixin, ScheduleMixin):
-    SCHEMA = BaseOpSchema
-    REDUCED_ATTRIBUTES = BaseComponent.REDUCED_ATTRIBUTES + [
-        "schedule",
-        "events",
-        "matrix",
-        "joins",
-        "dependencies",
-        "trigger",
-        "conditions",
-        "skipOnUpstreamSkip",
-    ]
+    _FIELDS_SAME_KIND_PATCH = ["schedule", "matrix"]
 
-    FIELDS_SAME_KIND_PATCH = ["schedule", "matrix"]
+    schedule: Optional[V1Schedule]
+    events: Optional[Union[List[V1EventTrigger], RefField]]
+    matrix: Optional[V1Matrix]
+    joins: Optional[Union[List[V1Join], RefField]]
+    dependencies: Optional[Union[List[StrictStr], RefField]]
+    trigger: Optional[Union[V1TriggerPolicy, RefField]]
+    conditions: Optional[StrictStr]
+    skip_on_upstream_skip: Optional[bool] = Field(alias="skipOnUpstreamSkip")
 
     def get_matrix_kind(self):
         return self.matrix.kind if self.matrix else None
 
     def get_schedule_kind(self):
         return self.schedule.kind if self.schedule else None
 
     def get_upstream_statuses_events(self, upstream: Set) -> Dict[str, V1Statuses]:
         statuses_by_refs = {u: [] for u in upstream}
         events = self.events or []  # type: List[V1EventTrigger]
         for e in events:
-            entity_ref = contexts_refs.get_entity_ref(e.ref)
+            entity_ref = ctx_refs.get_entity_ref(e.ref)
             if not entity_ref:
                 continue
             if entity_ref not in statuses_by_refs:
                 continue
             for kind in e.kinds:
-                status = V1EventKind.events_statuses_mapping.get(kind)
+                status = V1EventKind.get_events_statuses_mapping().get(kind)
                 if status:
                     statuses_by_refs[entity_ref].append(status)
 
         return statuses_by_refs
 
     def has_events_for_upstream(self, upstream: str) -> bool:
         events = self.events or []  # type: List[V1EventTrigger]
         for e in events:
-            entity_ref = contexts_refs.get_entity_ref(e.ref)
+            entity_ref = ctx_refs.get_entity_ref(e.ref)
             if not entity_ref:
                 continue
             if entity_ref == upstream:
                 return True
 
         return False
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/operations/operation.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/operations/operation.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,101 +1,41 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from typing import Dict
+from copy import copy
+from typing import Dict, Optional
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from pydantic import Field, StrictStr, root_validator, validator
 
-from marshmallow import ValidationError, fields, validate, validates_schema
-
-from polyaxon.polyflow.builds import BuildSchema, V1Build
-from polyaxon.polyflow.component.component import ComponentSchema
+from polyaxon.polyflow.builds import V1Build
+from polyaxon.polyflow.component.component import V1Component
 from polyaxon.polyflow.hooks import V1Hook
-from polyaxon.polyflow.operations.base import BaseOp, BaseOpSchema
-from polyaxon.polyflow.params import ParamSchema, V1Param
+from polyaxon.polyflow.operations.base import BaseOp
+from polyaxon.polyflow.params import V1Param
 from polyaxon.polyflow.references import V1DagRef, V1HubRef, V1PathRef, V1UrlRef
 from polyaxon.polyflow.run.patch import validate_run_patch
-from polyaxon.polyflow.templates import TemplateMixinConfig, TemplateMixinSchema
+from polyaxon.polyflow.templates import TemplateMixinConfig, V1Template
+from polyaxon.schemas.base import skip_partial, to_partial
 from polyaxon.schemas.patch_strategy import V1PatchStrategy
-from polyaxon.utils.signal_decorators import check_partial
-
-
-class OperationSchema(BaseOpSchema, TemplateMixinSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("operation"))
-    params = fields.Dict(
-        keys=fields.Str(), values=fields.Nested(ParamSchema), allow_none=True
-    )
-    build = fields.Nested(BuildSchema, allow_none=True)
-    run_patch = fields.Dict(keys=fields.Str(), values=fields.Raw(), allow_none=True)
-    hub_ref = fields.Str(allow_none=True)
-    dag_ref = fields.Str(allow_none=True)
-    url_ref = fields.Str(allow_none=True)
-    path_ref = fields.Str(allow_none=True)
-    component = fields.Nested(ComponentSchema, allow_none=True)
-    patch_strategy = fields.Str(
-        allow_none=True, validate=validate.OneOf(V1PatchStrategy.allowable_values)
-    )
-    is_preset = fields.Bool(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1Operation
-
-    @validates_schema
-    @check_partial
-    def validate_run_patch(self, data, **kwargs):
-        component = data.get("component")
-        run_patch = data.get("run_patch")
-        if not component or not run_patch:
-            return
-
-        validate_run_patch(run_patch=run_patch, kind=component.run.kind)
-
-    @validates_schema
-    @check_partial
-    def validate_reference(self, data, **kwargs):
-        if data.get("is_preset"):
-            return
-        count = 0
-        hub_ref = data.get("hub_ref")
-        if hub_ref:
-            count += 1
-        dag_ref = data.get("dag_ref")
-        if dag_ref:
-            count += 1
-        url_ref = data.get("url_ref")
-        if url_ref:
-            count += 1
-        path_ref = data.get("path_ref")
-        if path_ref:
-            count += 1
-        component = data.get("component")
-        if component and count == 0:
-            count += 1
-
-        if count != 1:
-            raise ValidationError(
-                "One and only one reference must be specified: "
-                "hub_ref, dag_ref, url_ref, path_ref, component."
-            )
 
 
-class V1Operation(BaseOp, TemplateMixinConfig, polyaxon_sdk.V1Operation):
+class V1Operation(BaseOp, TemplateMixinConfig):
     """An operation is how Polyaxon executes a component by passing parameters,
     connections, and a run environment.
 
     With an operation users can:
      * Pass the parameters for required inputs or override the default values of optional inputs.
      * Patch the definition of the component to set environments, initializers, and resources.
      * Set termination logic and retries.
@@ -391,27 +331,31 @@
 
     ```yaml
     >>> operation:
     >>>   ...
     >>>   build:
     >>>     hubRef: kaniko
     >>>   ...
+    ```
 
     ### runPatch
 
     The run patch provides a way to override information about the component's run section,
     for example the container's resources or the environment section.
 
     The run patch is a dictionary that can modify most of the runtime information and
     will be resolved against the corresponding run kind:
 
      * [V1Job](/docs/experimentation/jobs/): for running batch jobs, model training experiments, data processing jobs, ...  # noqa
      * [V1Service](/docs/experimentation/services/): for running tensorboards, notebooks, streamlit, custom services or an API.  # noqa
      * [V1TFJob](/docs/experimentation/distributed/tf-jobs/): for running distributed Tensorflow training job.  # noqa
-     * [V1PytorchJob](/docs/experimentation/distributed/pytorch-jobs/): for running distributed Pytorch training job.
+     * [V1PytorchJob](/docs/experimentation/distributed/pytorch-jobs/): for running distributed Pytorch training job.  # noqa
+     * [V1PaddleJob](/docs/experimentation/distributed/paddle-jobs/): for running distributed PaddlePaddle training job.  # noqa
+     * [V1MXJob](/docs/experimentation/distributed/mx-jobs/): for running distributed MXNet training job.  # noqa
+     * [V1XGBoostJob](/docs/experimentation/distributed/xgboost-jobs/): for running distributed XGBoost training job.  # noqa
      * [V1MPIJob](/docs/experimentation/distributed/mpi-jobs/): for running distributed MPI job.  # noqa
      * [V1Spark](/docs/experimentation/distributed/spark-jobs/): for running a spark Application.
      * [V1Dask](/docs/experimentation/distributed/dask-jobs/): for running a Dask job.
      * [V1Dag](/docs/automation/flow-engine/specification/): for running a DAG/workflow.
 
     For example, fi we define a generic component for running Jupyter Notebook:
 
@@ -546,43 +490,82 @@
     it can map directly to the cost of using the environment where the operation is running.
 
     ```yaml
     >>> cost: 2.2
     ```
     """
 
-    SCHEMA = OperationSchema
-    IDENTIFIER = "operation"
-    REDUCED_ATTRIBUTES = (
-        BaseOp.REDUCED_ATTRIBUTES
-        + TemplateMixinConfig.REDUCED_ATTRIBUTES
-        + [
-            "params",
-            "hubRef",
-            "dagRef",
-            "urlRef",
-            "pathRef",
-            "component",
-            "runPatch",
-            "isPreset",
-            "patchStrategy",
-        ]
-    )
-    FIELDS_MANUAL_PATCH = [
+    _IDENTIFIER = "operation"
+    _FIELDS_MANUAL_PATCH = [
         "version",
         "is_preset",
         "hub_ref",
         "dag_ref",
         "url_ref",
         "path_ref",
         "component",
         "run_patch",
         "patch_strategy",
     ]
 
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    params: Optional[Dict[StrictStr, V1Param]]
+    hub_ref: Optional[StrictStr] = Field(alias="hubRef")
+    dag_ref: Optional[StrictStr] = Field(alias="dagRef")
+    url_ref: Optional[StrictStr] = Field(alias="urlRef")
+    path_ref: Optional[StrictStr] = Field(alias="pathRef")
+    component: Optional[V1Component]
+    patch_strategy: Optional[V1PatchStrategy] = Field(alias="patchStrategy")
+    is_preset: Optional[bool] = Field(alias="isPreset")
+    run_patch: Optional[Dict] = Field(alias="runPatch")
+    template: Optional[V1Template]
+
+    @root_validator
+    @skip_partial
+    def validate_reference(cls, values):
+        if not values:
+            return values
+        if values.get("is_preset"):
+            return values
+        count = 0
+        hub_ref = values.get("hub_ref")
+        if hub_ref:
+            count += 1
+        dag_ref = values.get("dag_ref")
+        if dag_ref:
+            count += 1
+        url_ref = values.get("url_ref")
+        if url_ref:
+            count += 1
+        path_ref = values.get("path_ref")
+        if path_ref:
+            count += 1
+        component = values.get("component")
+        if component and count == 0:
+            count += 1
+
+        if count != 1:
+            raise ValueError(
+                "One and only one reference must be specified: "
+                "hub_ref, dag_ref, url_ref, path_ref, component."
+            )
+        return values
+
+    @validator("run_patch")
+    @skip_partial
+    def validate_run_patch(cls, run_patch, values):
+        component = values.get("component")
+        if values.get("is_preset"):
+            return run_patch
+        if not component or not run_patch:
+            return run_patch
+
+        validate_run_patch(run_patch=run_patch, kind=component.run.kind)
+        return run_patch
+
     @property
     def has_component_reference(self) -> bool:
         return self.component is not None
 
     @property
     def has_dag_reference(self) -> bool:
         return bool(self.dag_ref)
@@ -644,17 +627,17 @@
 
         if (
             not config.component
             or not config.component.run
             or not config.component.run.kind
         ):
             # We don't have a kind, we don't do anything
-            if strategy == V1PatchStrategy.ISNULL:
+            if V1PatchStrategy.is_null(strategy):
                 return result
-            if strategy == V1PatchStrategy.REPLACE:
+            if V1PatchStrategy.is_replace(strategy):
                 setattr(result, "run_patch", value)
                 return result
             return result
 
         kind = config.component.run.kind
         value = validate_run_patch(value, kind)
         current_value = validate_run_patch(current_value, kind)
@@ -673,39 +656,42 @@
         # Extend params with
         if not hook.disable_defaults:
             contexts = contexts or {}
             params = params or {}
             for k, v in contexts.items():
                 params[k] = V1Param(value=v, context_only=True)
 
-        return cls(
+        return cls.construct(
             run_patch=run_patch,
             hub_ref=hook.hub_ref,
             presets=hook.presets,
             queue=hook.queue,
             params=params,
         )
 
     @classmethod
-    def from_build(cls, build: V1Build, contexts: Dict = None):
+    def from_build(cls, build: V1Build, contexts: Optional[Dict] = None):
         # Extend params with
         contexts = contexts or {}
-        params = build.params or {}
+        params = copy(build.params or {})
         for k, v in contexts.items():
             params[k] = V1Param(value=v, context_only=True)
 
-        destination = params.get("destination") or V1Param()
+        destination = params.get("destination") or V1Param(value=None)
         if not destination.value:
             destination.value = "{{ globals.project_name }}:{{ globals.uuid }}"
         if not destination.connection or build.connection:
             destination.connection = build.connection
         params["destination"] = destination
 
-        return cls(
+        return cls.construct(
             run_patch=build.run_patch,
             patch_strategy=build.patch_strategy,
             hub_ref=build.hub_ref,
             presets=build.presets,
             queue=build.queue,
             cache=build.cache,
             params=params,
         )
+
+
+PartialV1Operation = to_partial(V1Operation)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/operators.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/operators.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,88 +1,86 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import itertools
-
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-
-
-class ForSchema(BaseCamelSchema):
-    class Meta:
-        ordered = True
-        fields = ("len", "do", "index")
-
-    @staticmethod
-    def schema_config():
-        return ForConfig
-
-
-class ForConfig(BaseConfig):
-    SCHEMA = ForSchema
-    IDENTIFIER = "for"
-
-    def __init__(self, len, do, index="index"):  # noqa, redefined-builtin `len`
-        self.len = len
-        self.do = do
-        self.index = index
-
-    def parse(self, parser, params):
-        parsed_data = []
-        length = parser.parse_expression(self.len, params, check_operators=True)
-        length = int(length)
-        for i in range(length):
-            i_params = {self.index: i}
-            i_params.update(params)
-            parsed_data.append(
-                parser.parse_expression(self.do, i_params, check_operators=True)
-            )
-        if parsed_data and isinstance(parsed_data[0], (list, tuple)):
-            return list(itertools.chain.from_iterable(parsed_data))
-        return parsed_data
-
-
-class IfSchema(BaseCamelSchema):
-    class Meta:
-        ordered = True
-        fields = ("cond", "do", "else_do")
-
-    @staticmethod
-    def schema_config():
-        return IfConfig
-
-
-class IfConfig(BaseConfig):
-    SCHEMA = IfSchema
-    IDENTIFIER = "if"
-
-    def __init__(self, cond, do, else_do=None):
-        self.cond = cond
-        self.do = do
-        self.else_do = else_do
-
-    @staticmethod
-    def _check_cond(parser, cond):
-        cond_template = "{{% if {} %}}1{{% else %}}0{{% endif %}}"
-        cond_result = parser.parse_expression(cond_template.format(cond), {})
-        if int(cond_result) == 1:
-            return True
-        return False
-
-    def parse(self, parser, params):
-        cond = parser.parse_expression(self.cond, params, check_operators=False)
-        if self._check_cond(parser, cond):
-            return parser.parse_expression(self.do, params, check_operators=True)
-        if self.else_do:
-            return parser.parse_expression(self.else_do, params, check_operators=True)
+# import itertools
+#
+#
+# class ForSchema(BaseCamelSchema):
+#     class Meta:
+#         ordered = True
+#         fields = ("len", "do", "index")
+#
+#     @staticmethod
+#     def schema_config():
+#         return ForConfig
+#
+#
+# class ForConfig(BaseConfig):
+#     SCHEMA = ForSchema
+#     IDENTIFIER = "for"
+#
+#     def __init__(self, len, do, index="index"):  # noqa, redefined-builtin `len`
+#         self.len = len
+#         self.do = do
+#         self.index = index
+#
+#     def parse(self, parser, params):
+#         parsed_data = []
+#         length = parser.parse_expression(self.len, params, check_operators=True)
+#         length = int(length)
+#         for i in range(length):
+#             i_params = {self.index: i}
+#             i_params.update(params)
+#             parsed_data.append(
+#                 parser.parse_expression(self.do, i_params, check_operators=True)
+#             )
+#         if parsed_data and isinstance(parsed_data[0], (list, tuple)):
+#             return list(itertools.chain.from_iterable(parsed_data))
+#         return parsed_data
+#
+#
+# class IfSchema(BaseCamelSchema):
+#     class Meta:
+#         ordered = True
+#         fields = ("cond", "do", "else_do")
+#
+#     @staticmethod
+#     def schema_config():
+#         return IfConfig
+#
+#
+# class IfConfig(BaseConfig):
+#     SCHEMA = IfSchema
+#     IDENTIFIER = "if"
+#
+#     def __init__(self, cond, do, else_do=None):
+#         self.cond = cond
+#         self.do = do
+#         self.else_do = else_do
+#
+#     @staticmethod
+#     def _check_cond(parser, cond):
+#         cond_template = "{{% if {} %}}1{{% else %}}0{{% endif %}}"
+#         cond_result = parser.parse_expression(cond_template.format(cond), {})
+#         if int(cond_result) == 1:
+#             return True
+#         return False
+#
+#     def parse(self, parser, params):
+#         cond = parser.parse_expression(self.cond, params, check_operators=False)
+#         if self._check_cond(parser, cond):
+#             return parser.parse_expression(self.do, params, check_operators=True)
+#         if self.else_do:
+#             return parser.parse_expression(self.else_do, params, check_operators=True)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/optimization/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/optimization/__init__.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,99 +1,93 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-import polyaxon_sdk
+from clipped.enums_utils import PEnum
+from pydantic import StrictStr
 
-from marshmallow import fields, validate
+from polyaxon.schemas.base import BaseSchemaModel
 
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
 
+class V1ResourceType(str, PEnum):
+    INT = "int"
+    FLOAT = "float"
 
-class ResourceType(polyaxon_sdk.V1ResourceType):
-    INT = polyaxon_sdk.V1ResourceType.INT
-    FLOAT = polyaxon_sdk.V1ResourceType.FLOAT
+    @classmethod
+    def init_values(cls):
+        return {cls.INT, cls.INT.upper(), cls.INT.capitalize()}
 
-    INT_VALUES = {INT, INT.upper(), INT.capitalize()}
-    FLOAT_VALUES = {FLOAT, FLOAT.upper(), FLOAT.capitalize()}
+    @classmethod
+    def float_values(cls):
+        return {cls.FLOAT, cls.FLOAT.upper(), cls.FLOAT.capitalize()}
 
-    VALUES = INT_VALUES | FLOAT_VALUES
+    @classmethod
+    def values(cls):
+        return cls.init_values() | cls.float_values()
 
     @classmethod
     def is_int(cls, value):
-        return value in cls.INT_VALUES
+        return value in cls.init_values()
 
     @classmethod
     def is_float(cls, value):
-        return value in cls.FLOAT_VALUES
+        return value in cls.float_values()
 
 
-class V1Optimization(polyaxon_sdk.V1Optimization):
-    MAXIMIZE = polyaxon_sdk.V1Optimization.MAXIMIZE
-    MINIMIZE = polyaxon_sdk.V1Optimization.MINIMIZE
+class V1Optimization(str, PEnum):
+    MAXIMIZE = "maximize"
+    MINIMIZE = "minimize"
 
-    MAXIMIZE_VALUES = [MAXIMIZE, MAXIMIZE.upper(), MAXIMIZE.capitalize()]
-    MINIMIZE_VALUES = [MINIMIZE, MINIMIZE.upper(), MINIMIZE.capitalize()]
+    @classmethod
+    def maximize_values(cls):
+        return [cls.MAXIMIZE, cls.MAXIMIZE.upper(), cls.MAXIMIZE.capitalize()]
 
-    VALUES = MAXIMIZE_VALUES + MINIMIZE_VALUES
+    @classmethod
+    def minimize_values(cls):
+        return [cls.MINIMIZE, cls.MINIMIZE.upper(), cls.MINIMIZE.capitalize()]
 
     @classmethod
     def maximize(cls, value):
-        return value in cls.MAXIMIZE_VALUES
+        return value in cls.maximize_values()
 
     @classmethod
     def minimize(cls, value):
-        return value in cls.MINIMIZE_VALUES
-
+        return value in cls.minimize_values()
 
-class OptimizationMetricSchema(BaseCamelSchema):
-    name = fields.Str()
-    optimization = fields.Str(
-        allow_none=True, validate=validate.OneOf(V1Optimization.VALUES)
-    )
 
-    @staticmethod
-    def schema_config():
-        return V1OptimizationMetric
+class V1OptimizationMetric(BaseSchemaModel):
+    _IDENTIFIER = "optimization_metric"
 
-
-class V1OptimizationMetric(BaseConfig, polyaxon_sdk.V1OptimizationMetric):
-    SCHEMA = OptimizationMetricSchema
-    IDENTIFIER = "optimization_metric"
+    name: StrictStr
+    optimization: Optional[V1Optimization]
 
     def get_for_sort(self):
         if self.optimization == V1Optimization.MINIMIZE:
             return self.name
         return "-{}".format(self.name)
 
 
-class OptimizationResourceSchema(BaseCamelSchema):
-    name = fields.Str()
-    type = fields.Str(allow_none=True, validate=validate.OneOf(ResourceType.VALUES))
-
-    @staticmethod
-    def schema_config():
-        return V1OptimizationResource
-
+class V1OptimizationResource(BaseSchemaModel):
+    _IDENTIFIER = "optimization_resource"
 
-class V1OptimizationResource(BaseConfig, polyaxon_sdk.V1OptimizationResource):
-    SCHEMA = OptimizationResourceSchema
-    IDENTIFIER = "optimization_resource"
+    name: StrictStr
+    type: Optional[V1ResourceType]
 
     def cast_value(self, value):
-        if ResourceType.is_int(self.type):
+        if V1ResourceType.is_int(self.type):
             return int(value)
-        if ResourceType.is_float(self.type):
+        if V1ResourceType.is_float(self.type):
             return float(value)
         return value
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/params/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/__init__.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,17 +1,17 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.polyflow.params.params import ParamSchema, ParamSpec, V1Param
+# To keep backwards compatibility
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/params/ops_params.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/params/ops_params.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,44 +1,43 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from typing import Dict, List, Union
-
-from marshmallow import ValidationError
+from typing import Dict, List, Optional, Union
 
+from polyaxon.exceptions import PolyaxonValidationError
 from polyaxon.polyflow.io.io import V1IO
 from polyaxon.polyflow.joins import V1Join
 from polyaxon.polyflow.matrix import V1Mapping, V1Matrix
 from polyaxon.polyflow.params.params import ParamSpec, V1Param
 
 
 def validate_params(
     params: Dict[str, Union[Dict, V1Param]],
     inputs: List[V1IO],
     outputs: List[V1IO],
-    contexts: List[V1IO] = None,
-    matrix: V1Matrix = None,
+    contexts: Optional[List[V1IO]] = None,
+    matrix: Optional[Union[Dict, V1Matrix]] = None,
     joins: List[V1Join] = None,
-    context: Dict = None,
+    context: Optional[Dict] = None,
     is_template: bool = True,
-    check_runs: bool = False,
-    extra_info: str = None,
+    check_all_refs: bool = False,
+    extra_info: Optional[str] = None,
     parse_values: bool = False,
 ) -> List[ParamSpec]:
     """
     Validates Params given inputs, and an optional context.
 
     Params can be:
      * plain values: we check them against the inputs types
@@ -51,14 +50,16 @@
     def parse_param(k, v) -> V1Param:
         if not isinstance(v, V1Param):
             v = V1Param.read(v, config_type=".yaml")
         if v and k in contexts_by_keys:
             v.context_only = True
             if v.to_init is None:
                 v.to_init = contexts_by_keys[k].to_init
+            if v.to_env is None:
+                v.to_env = contexts_by_keys[k].to_env
             if v.connection is None:
                 v.connection = contexts_by_keys[k].connection
         return v
 
     def validate_matrix(io: V1IO) -> bool:
         if isinstance(matrix, V1Mapping):
             return matrix.has_key(io.name)  # noqa
@@ -81,24 +82,24 @@
             message = (
                 "The Polyaxonfile has non optional inputs/outputs, "
                 "you need to pass valid params"
             )
             if extra_info:
                 message += " Please check: {}".format(extra_info)
 
-            raise ValidationError(message)
+            raise PolyaxonValidationError(message)
     elif not accepts_params(inputs, outputs) and params:
         extra_params = set(params.keys()) - {
             p for p in params if params[p].context_only
         }
         if extra_params:
             message = "Received unexpected params `{}`".format(extra_params)
             if extra_info:
                 message += " Please check: {}".format(extra_info)
-            raise ValidationError(message)
+            raise PolyaxonValidationError(message)
 
     matrix = matrix or {}
     inputs = inputs or []
     outputs = outputs or []
 
     processed_params = []
     validated_params = []
@@ -110,40 +111,45 @@
                 name=inp.name,
                 iotype=inp.type,
                 is_flag=inp.is_flag,
                 is_list=inp.is_list,
                 is_context=False,
                 arg_format=inp.arg_format,
             )
-            if param_spec.param.is_ref:
-                param_spec.validate_ref(context, is_template, check_runs)
+            if param_spec.param.is_ref or param_spec.param.is_template_ref:
+                param_spec.validate_ref(context, is_template, check_all_refs)
             else:
                 parsed_value = inp.validate_value(param_value.value)
                 if parse_values:
                     param_spec.param.value = parsed_value
                     if not param_spec.param.connection and param_value.connection:
                         param_spec.param.connection = inp.connection
                     if not param_spec.param.to_init and param_value.to_init:
                         param_spec.param.to_init = inp.to_init
+                    if not param_spec.param.to_env and param_value.to_env:
+                        param_spec.param.to_env = inp.to_env
             validated_params.append(param_spec)
             if not param_spec.param.context_only:
                 processed_params.append(inp.name)
         elif matrix and validate_matrix(inp):
             pass
-        elif not inp.is_optional and not is_template:
+        elif not (inp.is_optional or inp.delay_validation or is_template):
             message = "Input {} is required, no param was passed.".format(inp.name)
             if extra_info:
                 message += " Please check: {}".format(extra_info)
-            raise ValidationError(message)
+            raise PolyaxonValidationError(message)
         else:
             validated_params.append(
                 ParamSpec(
                     name=inp.name,
                     param=V1Param(
-                        value=inp.value, connection=inp.connection, to_init=inp.to_init
+                        value=inp.value,
+                        connection=inp.connection,
+                        to_init=inp.to_init,
+                        to_env=inp.to_env,
                     ),
                     type=inp.type,
                     is_flag=inp.is_flag,
                     is_list=inp.is_list,
                     is_context=False,
                     arg_format=inp.arg_format,
                 )
@@ -156,34 +162,41 @@
                 name=out.name,
                 iotype=out.type,
                 is_flag=out.is_flag,
                 is_list=out.is_list,
                 is_context=False,
                 arg_format=out.arg_format,
             )
-            if param_spec.param.is_ref:
-                param_spec.validate_ref(None, is_template=False, check_runs=check_runs)
+            if param_spec.param.is_ref or param_spec.param.is_template_ref:
+                param_spec.validate_ref(
+                    None, is_template=False, check_all_refs=check_all_refs
+                )
             else:  # Plain value
                 parsed_value = out.validate_value(param_value.value)
                 if parse_values:
                     param_spec.param.value = parsed_value
                     if not param_spec.param.connection and param_value.connection:
                         param_spec.param.connection = out.connection
                     if not param_spec.param.to_init and param_value.to_init:
                         param_spec.param.to_init = out.to_init
+                    if not param_spec.param.to_env and param_value.to_env:
+                        param_spec.param.to_env = out.to_env
             validated_params.append(param_spec)
             if not param_spec.param.context_only:
                 processed_params.append(out.name)
         # No validation for outputs we assume that the op might populate a context or send a metric
-        else:
+        elif out.delay_validation is not False:
             validated_params.append(
                 ParamSpec(
                     name=out.name,
                     param=V1Param(
-                        value=out.value, connection=out.connection, to_init=out.to_init
+                        value=out.value,
+                        connection=out.connection,
+                        to_init=out.to_init,
+                        to_env=out.to_env,
                     ),
                     type=out.type,
                     is_flag=out.is_flag,
                     is_list=out.is_list,
                     is_context=False,
                     arg_format=out.arg_format,
                 )
@@ -191,15 +204,15 @@
     extra_params = set(params.keys()) - set(processed_params)
     context_params = {p for p in params if params[p].context_only}
     extra_invalid_params = extra_params - context_params
     if extra_invalid_params:
         message = "Received unexpected params `{}`".format(extra_invalid_params)
         if extra_info:
             message += " Please check: {}".format(extra_info)
-        raise ValidationError(message)
+        raise PolyaxonValidationError(message)
 
     # Add all (extra) context params that were not processed during the IO check
     for p in contexts_by_keys:
         if p in extra_params:
             param_value = params[p]
             param_spec = param_value.get_spec(
                 name=p,
@@ -215,14 +228,15 @@
             validated_params.append(
                 ParamSpec(
                     name=p,
                     param=V1Param(
                         value=context_io.value,
                         connection=context_io.connection,
                         to_init=context_io.to_init,
+                        to_env=context_io.to_env,
                     ),
                     type=None,
                     is_flag=None,
                     is_list=None,
                     is_context=True,
                     arg_format=None,
                 )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/params/params.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/params/params.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,47 +12,52 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from collections import namedtuple
 from collections.abc import Mapping
-from typing import Dict, Optional
+from typing import Any, Dict, Optional
 
-import polyaxon_sdk
-
-from marshmallow import ValidationError, fields, validates_schema
+from clipped.list_utils import to_list
+from pydantic import Field, StrictStr, validator
 
 from polyaxon import types
-from polyaxon.contexts import refs as contexts_refs
-from polyaxon.contexts import sections as contexts_sections
+from polyaxon.contexts import refs as ctx_refs
+from polyaxon.contexts import sections as ctx_sections
 from polyaxon.contexts.params import PARAM_REGEX
+from polyaxon.exceptions import PolyaxonValidationError
 from polyaxon.parser import parser
 from polyaxon.polyflow.init import V1Init
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.utils.signal_decorators import check_partial
+from polyaxon.schemas.base import BaseSchemaModel, skip_partial
 
 
-def validate_param_value(value, ref, to_init, context_only):
+def validate_param_value(value, ref):
     if ref and not isinstance(value, str):
-        raise ValidationError(
-            "Value `{}` must be of type string when a ref is provided.".format(value)
+        raise TypeError(
+            "Value must be of type string when a ref is provided, received `{}` instead.".format(
+                value
+            )
         )
 
 
 class ParamValueMixin:
     @property
     def is_literal(self):
         raise NotImplementedError
 
     @property
     def is_ref(self):
         raise NotImplementedError
 
     @property
+    def is_template_ref(self):
+        raise NotImplementedError
+
+    @property
     def is_join_ref(self):
         raise NotImplementedError
 
     @property
     def is_runs_ref(self):
         raise NotImplementedError
 
@@ -64,35 +69,33 @@
     def is_dag_ref(self):
         raise NotImplementedError
 
     def validate(self):
         validate_param_value(
             value=self.value,
             ref=self.ref,
-            to_init=self.to_init,
-            context_only=self.context_only,
         )
 
     @property
     def entity_value(self) -> Optional[str]:
         if not self.is_ref:
             return None
-        return contexts_refs.get_entity_value(self.value)
+        return ctx_refs.get_entity_value(self.value)
 
     @property
     def entity_type(self) -> Optional[str]:
         if not self.is_ref:
             return None
-        return contexts_refs.get_entity_type(self.value)
+        return ctx_refs.get_entity_type(self.value)
 
     @property
     def searchable_ref(self) -> str:
         if not self.is_ref or self.is_join_ref:
             return ""
-        return "{}.{}".format(self.ref, contexts_refs.parse_ref_value(self.value))
+        return "{}.{}".format(self.ref, ctx_refs.parse_ref_value(self.value))
 
     def get_spec(
         self,
         name: str,
         iotype: str,
         is_flag: bool,
         is_list: bool,
@@ -107,118 +110,91 @@
         """
         if not self.is_literal and not (
             self.is_join_ref and isinstance(self.value, Mapping)
         ):
             # value validation is the same for search and ref
             value_parts = PARAM_REGEX.search(self.value)
             if value_parts:
-                value_parts = value_parts.group(1)
+                value_parts = value_parts.group(1).strip()
             else:
                 value_parts = self.value
 
             value_parts = [s.strip() for s in value_parts.split(".")]
             if len(value_parts) > 3:
-                raise ValidationError(
+                raise PolyaxonValidationError(
                     "Could not parse value `{}` for param `{}`.".format(
                         self.value, name
                     )
                 )
-            if (
-                len(value_parts) == 1
-                and value_parts[0] not in contexts_sections.CONTEXTS
-            ):
-                raise ValidationError(
+            if len(value_parts) == 1 and value_parts[0] not in ctx_sections.CONTEXTS:
+                raise PolyaxonValidationError(
                     "Received an invalid value `{}` for param `{}`. "
                     "Value must be one of `{}`".format(
-                        self.value, name, contexts_sections.CONTEXTS
+                        self.value, name, ctx_sections.CONTEXTS
                     )
                 )
             # Check the case of current DAG, it should not allow to use outputs
             if (
                 len(value_parts) == 1
                 and self.is_dag_ref
-                and value_parts[0] == contexts_sections.OUTPUTS
+                and value_parts[0] == ctx_sections.OUTPUTS
             ):
-                raise ValidationError(
+                raise PolyaxonValidationError(
                     "Received an invalid value `{}` for param `{}`. "
                     "You can not use `{}` of current dag".format(
-                        self.value, name, contexts_sections.OUTPUTS
+                        self.value, name, ctx_sections.OUTPUTS
                     )
                 )
             if (
                 len(value_parts) == 2
-                and value_parts[0] not in contexts_sections.CONTEXTS_WITH_NESTING
+                and value_parts[0] not in ctx_sections.CONTEXTS_WITH_NESTING
             ):
-                raise ValidationError(
+                raise PolyaxonValidationError(
                     "Received an invalid value `{}` for param `{}`. "
                     "Value `{}` must be one of `{}`".format(
                         self.value,
                         name,
                         value_parts[0],
-                        contexts_sections.CONTEXTS_WITH_NESTING,
+                        ctx_sections.CONTEXTS_WITH_NESTING,
                     )
                 )
-            if len(value_parts) == 3 and value_parts[0] != contexts_sections.ARTIFACTS:
-                raise ValidationError(
+            if len(value_parts) == 3 and value_parts[0] != ctx_sections.ARTIFACTS:
+                raise PolyaxonValidationError(
                     "Received an invalid value `{}` for param `{}`. "
                     "Value `{}` must can only be equal to `{}`".format(
-                        self.value, name, value_parts[0], contexts_sections.ARTIFACTS
+                        self.value, name, value_parts[0], ctx_sections.ARTIFACTS
                     )
                 )
         if self.is_ref:
             if self.is_join_ref:
                 if not is_context and not is_list and iotype != types.ARTIFACTS:
-                    raise ValidationError(
+                    raise PolyaxonValidationError(
                         "Param `{}` has a an input type `{}`, "
                         "it does not expect a list of values from the join. "
                         "You should either pass a single value or add `isList` "
                         "to you IO definition".format(
                             name,
                             iotype,
                         )
                     )
             else:
-                contexts_refs.validate_ref(ref=self.ref, name=name)
+                ctx_refs.validate_ref(ref=self.ref, name=name)
 
         return ParamSpec(
             name=name,
             type=iotype,
             param=self,
             is_flag=is_flag,
             is_list=is_list,
             is_context=is_context,
             arg_format=arg_format,
         )
 
 
-class ParamSchema(BaseCamelSchema):
-    value = fields.Raw(required=True, allow_none=True)
-    ref = fields.Str(allow_none=True)
-    context_only = fields.Bool(allow_none=True)
-    connection = fields.Str(allow_none=True)
-    to_init = fields.Bool(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1Param
-
-    @validates_schema
-    @check_partial
-    def validate_param(self, values, **kwargs):
-        validate_param_value(
-            value=values.get("value"),
-            ref=values.get("ref"),
-            context_only=values.get("context_only"),
-            to_init=values.get("to_init"),
-        )
-
-
-class V1Param(
-    BaseConfig, contexts_refs.RefMixin, ParamValueMixin, polyaxon_sdk.V1Param
-):
+class V1Param(BaseSchemaModel, ctx_refs.RefMixin, ParamValueMixin):
     """Params can provide values to inputs/outputs.
 
     Params can be passed in several ways
      * literal values that the user sets manually.
      * a reference from a previous run, in which case
        Polyaxon will validate during the compilation time if the user who initiated the run
        has access to that organization/project/run.
@@ -231,14 +207,15 @@
 
     Args:
         value: any
         ref: str, optional
         context_only: bool, optional
         connection: str, optional
         to_init: bool, optional
+        to_env: str, optional
 
     ## YAML usage
 
     ```yaml
     >>> params:
     >>>   loss:
     >>>     value: MeanSquaredError
@@ -403,24 +380,48 @@
     ```yaml
     >>>   files_and_dirs:
     >>>     toInit: true
     >>>     value:
     >>>       - files: ["subpath/file1", "another/subpath/file2.ext"]
     >>>       - dirs: ["subpath/dir1", "another/subpath/dir2"]
     ```
+
+    ### toEnv
+
+    > **N.B**: Requires Polyaxon CLI and Polyaxon Agent/CE version `>= 1.12`
+
+    If passed, it will be converted automatically to an environment variable.
+
+    ```yaml
+    >>> param1:
+    >>>   toEnv: ENV_VAR_NAME_TO_USE
+    >>>   value: "some value"
+    ```
     """
 
-    SCHEMA = ParamSchema
-    IDENTIFIER = "param"
-    REDUCED_ATTRIBUTES = [
-        "ref",
-        "contextOnly",
-        "connection",
-        "toInit",
-    ]
+    _IDENTIFIER = "param"
+
+    value: Any = ""
+    ref: Optional[StrictStr]
+    context_only: Optional[bool] = Field(alias="contextOnly")
+    connection: Optional[StrictStr]
+    to_init: Optional[bool] = Field(alias="toInit")
+    to_env: Optional[StrictStr] = Field(alias="toEnv")
+
+    @validator("value", always=True, pre=True)
+    def check_value(cls, value):
+        if value == "":
+            raise ValueError("Param value cannot be empty.")
+        return value
+
+    @validator("ref")
+    @skip_partial
+    def check_ref(cls, ref, values):
+        validate_param_value(value=values.get("value"), ref=ref)
+        return ref
 
 
 class ParamSpec(
     namedtuple("ParamSpec", "name type param is_flag is_list is_context arg_format")
 ):
     def get_typed_param_value(self):
         if self.type == types.STR:
@@ -474,28 +475,28 @@
         return parsed_param
 
     def validate_to_init(self) -> bool:
         if not self.param.to_init:
             return False
 
         if not self.type:
-            raise ValidationError(
+            raise PolyaxonValidationError(
                 "Param `{}` cannot be turned to an initializer without a valid type! "
                 "Please set an input with a type to use the `to_init` field.".format(
                     self.name
                 )
             )
 
         if self.param.connection:
             return True
 
         if self.type in {types.GIT, types.ARTIFACTS, types.DOCKERFILE}:
             return True
 
-        raise ValidationError(
+        raise PolyaxonValidationError(
             "Param `{}` with type `{}`, "
             "cannot be turned to an init container automatically.".format(
                 self.name, self.type, self.param.ref
             )
         )
 
     def to_init(self) -> Optional[V1Init]:
@@ -509,69 +510,76 @@
             return V1Init.from_dict(
                 dict(dockerfile=self.param.value, connection=self.param.connection)
             )
         elif self.type == types.ARTIFACTS:
             return V1Init.from_dict(
                 dict(artifacts=self.param.value, connection=self.param.connection)
             )
+        elif self.type == types.PATH:
+            paths = to_list(self.param.value, check_none=True)
+            return V1Init.from_dict(dict(paths=paths, connection=self.param.connection))
         elif self.param.connection:
             return V1Init(connection=self.param.connection)
         return None
 
     def validate_ref(
         self,
         context: Optional[Dict],
         is_template: bool = False,
-        check_runs: bool = False,
+        check_all_refs: bool = False,
     ):
         """
         Given a param reference to an operation, we check that the operation exists in the context,
         and that the types
         """
         if self.param.is_join_ref:
             if not self.is_list and self.type != types.ARTIFACTS:
-                raise ValidationError(
+                raise PolyaxonValidationError(
                     "Param `{}` has a an input type `{}`"
                     "and it does not expect a list of values from the join".format(
                         self.name,
                         self.param.value,
                     )
                 )
             return
 
-        if is_template or (self.param.is_runs_ref and not check_runs):
+        if (
+            is_template
+            or self.param.is_template_ref
+            or (self.param.is_runs_ref and not check_all_refs)
+        ):
             return
 
         context = context or {}
 
         if self.param.searchable_ref not in context:
             # Artifacts can be logged during runtime
             if self.param.entity_type == types.ARTIFACTS:
                 return
-            raise ValidationError(
+            raise PolyaxonValidationError(
                 "Param `{}` has a ref value `{}`, "
                 "but reference with name `{}` has no such information, "
                 "please check that your polyaxonfile defines the correct template".format(
                     self.name, self.param.value, self.param.ref
                 )
             )
 
         if not types.are_compatible(self.type, context[self.param.searchable_ref].type):
-            raise ValidationError(
+            raise PolyaxonValidationError(
                 "Param `{}` has a an input type `{}` "
                 "and it does not correspond to the type of the value `{}` "
                 "received from `{}` with type `{}`".format(
                     self.name,
                     self.type,
                     self.param.value,
                     self.param.ref,
                     context[self.param.searchable_ref].type,
                 )
             )
 
         if self.is_list != context[self.param.searchable_ref].is_list:
-            raise ValidationError(
+            raise PolyaxonValidationError(
                 "Param `{}` has a an input type List[`{}`]"
                 "and it does not correspond to the output value `{}` received from `{}`".format(
                     self.name, self.type, self.param.value, self.param.ref
                 )
             )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/plugins/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/plugins/__init__.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,56 +1,33 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional, Union
 
-import polyaxon_sdk
+from pydantic import Field, StrictStr
 
-from marshmallow import fields
+from polyaxon.auxiliaries.sidecar import V1PolyaxonSidecarContainer
+from polyaxon.polyflow.notifications import V1Notification
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields.ref_or_obj import BoolOrRef, RefField
 
-from polyaxon.auxiliaries.sidecar import PolyaxonSidecarContainerSchema
-from polyaxon.polyflow.notifications import NotificationSchema
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-
-
-class PluginsSchema(BaseCamelSchema):
-    auth = fields.Bool(allow_none=True)
-    docker = fields.Bool(allow_none=True)
-    shm = fields.Bool(allow_none=True)
-    mount_artifacts_store = fields.Bool(allow_none=True)
-    collect_artifacts = fields.Bool(allow_none=True)
-    collect_logs = fields.Bool(allow_none=True)
-    collect_resources = fields.Bool(allow_none=True)
-    sync_statuses = fields.Bool(allow_none=True)
-    auto_resume = fields.Bool(allow_none=True)
-    external_host = fields.Bool(allow_none=True)
-    log_level = fields.Str(allow_none=True)
-    notifications = fields.List(fields.Nested(NotificationSchema), allow_none=True)
-    sidecar = fields.Nested(
-        PolyaxonSidecarContainerSchema,
-        allow_none=True,
-    )
-
-    @staticmethod
-    def schema_config():
-        return V1Plugins
 
-
-class V1Plugins(BaseConfig, polyaxon_sdk.V1Plugins):
+class V1Plugins(BaseSchemaModel):
     """Plugins section provides a way to customize extra Polyaxon utilities.
 
     By default, Polyaxon injects some information for example an auth context
     and triggers some mechanisms for collecting logs and outputs.
 
     Plugins section provides more control to the end user to enable/disable some of these utilities.
 
@@ -291,24 +268,22 @@
     ```yaml
     >>> plugins:
     >>>   sidecar:
     >>>     syncInterval: 60
     ```
     """
 
-    IDENTIFIER = "plugins"
-    SCHEMA = PluginsSchema
-    REDUCED_ATTRIBUTES = [
-        "auth",
-        "docker",
-        "shm",
-        "mountArtifactsStore",
-        "collectArtifacts",
-        "collectLogs",
-        "collectResources",
-        "autoResume",
-        "syncStatuses",
-        "externalHost",
-        "logLevel",
-        "sidecar",
-        "notifications",
-    ]
+    _IDENTIFIER = "plugins"
+
+    auth: Optional[BoolOrRef]
+    docker: Optional[BoolOrRef]
+    shm: Optional[BoolOrRef]
+    mount_artifacts_store: Optional[BoolOrRef] = Field(alias="mountArtifactsStore")
+    collect_artifacts: Optional[BoolOrRef] = Field(alias="collectArtifacts")
+    collect_logs: Optional[BoolOrRef] = Field(alias="collectLogs")
+    collect_resources: Optional[BoolOrRef] = Field(alias="collectResources")
+    sync_statuses: Optional[BoolOrRef] = Field(alias="syncStatuses")
+    auto_resume: Optional[BoolOrRef] = Field(alias="autoResume")
+    log_level: Optional[StrictStr] = Field(alias="logLevel")
+    external_host: Optional[BoolOrRef] = Field(alias="externalHost")
+    sidecar: Optional[Union[V1PolyaxonSidecarContainer, RefField]]
+    notifications: Optional[Union[List[V1Notification], RefField]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/references/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/references/__init__.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,21 +1,20 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-
-from polyaxon.polyflow.references.dag import DagRefSchema, V1DagRef
-from polyaxon.polyflow.references.hub import HubRefSchema, V1HubRef
+from polyaxon.polyflow.references.dag import V1DagRef
+from polyaxon.polyflow.references.hub import V1HubRef
 from polyaxon.polyflow.references.mixin import RefMixin
-from polyaxon.polyflow.references.path import PathRefSchema, V1PathRef
-from polyaxon.polyflow.references.url import UrlRefSchema, V1UrlRef
+from polyaxon.polyflow.references.path import V1PathRef
+from polyaxon.polyflow.references.url import V1UrlRef
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/references/hub.py` & `polyaxon-2.0.0rc0/polyaxon/services/headers.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,39 +1,33 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Tuple
 
-import polyaxon_sdk
+from clipped.enums_utils import PEnum, get_enum_value
 
-from marshmallow import fields, validate
 
-from polyaxon.polyflow.references.mixin import RefMixin
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-
-
-class HubRefSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("hub_ref"))
-    name = fields.Str(required=True)
+class PolyaxonServiceHeaders(str, PEnum):
+    CLI_VERSION = "X_POLYAXON_CLI_VERSION"
+    CLIENT_VERSION = "X_POLYAXON_CLIENT_VERSION"
+    INTERNAL = "X_POLYAXON_INTERNAL"
+    SERVICE = "X_POLYAXON_SERVICE"
 
     @staticmethod
-    def schema_config():
-        return V1HubRef
-
-
-class V1HubRef(BaseConfig, RefMixin, polyaxon_sdk.V1HubRef):
-    SCHEMA = HubRefSchema
-    IDENTIFIER = "hub_ref"
+    def get_header(header) -> str:
+        return get_enum_value(header).replace("_", "-")
 
-    def get_kind_value(self):
-        return self.name
+    @classmethod
+    def get_headers(cls) -> Tuple[str]:
+        return tuple(cls.to_set() | {cls.get_header(h) for h in cls.to_set()})
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/references/mixin.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/references/mixin.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/references/url.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/fields/__init__.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,39 +1,24 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
-
-from polyaxon.polyflow.references.mixin import RefMixin
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-
-
-class UrlRefSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal("url_ref"))
-    url = fields.Str(required=True)
-
-    @staticmethod
-    def schema_config():
-        return V1UrlRef
-
-
-class V1UrlRef(BaseConfig, RefMixin, polyaxon_sdk.V1UrlRef):
-    SCHEMA = UrlRefSchema
-    IDENTIFIER = "url_ref"
-
-    def get_kind_value(self):
-        return self.url
+from polyaxon.schemas.fields.number import (  # noqa
+    IntOrFloat,
+    StrictIntOrFloat,
+)
+from polyaxon.schemas.fields.ref_or_obj import RefField  # noqa
+from polyaxon.schemas.fields.uuids import UUIDStr  # noqa
+from polyaxon.schemas.fields.ref_or_obj import BoolOrRef, IntOrRef, RefField  # noqa
+from polyaxon.schemas.fields.email import EmailStr  # noqa
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/__init__.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,72 +1,77 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from polyaxon.polyflow.run.cleaner import CleanerJobSchema, V1CleanerJob
-from polyaxon.polyflow.run.dag import DagSchema, V1Dag
-from polyaxon.polyflow.run.dask import DaskSchema, V1Dask
-from polyaxon.polyflow.run.flink import FlinkSchema, V1Flink
-from polyaxon.polyflow.run.job import JobSchema, V1Job
+from typing import Union
+from typing_extensions import Annotated
+
+from pydantic import Field
+
+from polyaxon.polyflow.run.cleaner import V1CleanerJob
+from polyaxon.polyflow.run.dag import V1Dag
+from polyaxon.polyflow.run.dask import V1Dask
+from polyaxon.polyflow.run.flink import V1Flink
+from polyaxon.polyflow.run.job import V1Job
 from polyaxon.polyflow.run.kinds import (
     V1CloningKind,
     V1PipelineKind,
     V1RunEdgeKind,
     V1RunKind,
 )
 from polyaxon.polyflow.run.kubeflow.clean_pod_policy import V1CleanPodPolicy
-from polyaxon.polyflow.run.kubeflow.mpi_job import MPIJobSchema, V1MPIJob
-from polyaxon.polyflow.run.kubeflow.pytorch_job import PytorchJobSchema, V1PytorchJob
-from polyaxon.polyflow.run.kubeflow.replica import KFReplicaSchema, V1KFReplica
-from polyaxon.polyflow.run.kubeflow.tf_job import TFJobSchema, V1TFJob
-from polyaxon.polyflow.run.notifier import NotifierJobSchema, V1NotifierJob
+from polyaxon.polyflow.run.kubeflow.mpi_job import V1MPIJob
+from polyaxon.polyflow.run.kubeflow.mx_job import MXJobMode, V1MXJob
+from polyaxon.polyflow.run.kubeflow.paddle_job import V1PaddleJob
+from polyaxon.polyflow.run.kubeflow.pytorch_job import V1PytorchJob
+from polyaxon.polyflow.run.kubeflow.replica import V1KFReplica
+from polyaxon.polyflow.run.kubeflow.scheduling_policy import V1SchedulingPolicy
+from polyaxon.polyflow.run.kubeflow.tf_job import V1TFJob
+from polyaxon.polyflow.run.kubeflow.xgboost_job import V1XGBoostJob
+from polyaxon.polyflow.run.notifier import V1NotifierJob
 from polyaxon.polyflow.run.patch import validate_run_patch
-from polyaxon.polyflow.run.ray import RaySchema, V1Ray
+from polyaxon.polyflow.run.ray import V1Ray
 from polyaxon.polyflow.run.resources import V1RunResources
-from polyaxon.polyflow.run.service import ServiceSchema, V1Service
-from polyaxon.polyflow.run.spark.replica import SparkReplicaSchema, V1SparkReplica
-from polyaxon.polyflow.run.spark.spark import (
-    SparkSchema,
-    V1Spark,
-    V1SparkDeploy,
-    V1SparkType,
-)
-from polyaxon.polyflow.run.tuner import TunerJobSchema, V1TunerJob
-from polyaxon.schemas.base import BaseOneOfSchema
-
-
-class RunSchema(BaseOneOfSchema):
-    TYPE_FIELD = "kind"
-    TYPE_FIELD_REMOVE = False
-    SCHEMAS = {
-        V1RunKind.JOB: JobSchema,
-        V1RunKind.SERVICE: ServiceSchema,
-        V1RunKind.DAG: DagSchema,
-        V1RunKind.MPIJOB: MPIJobSchema,
-        V1RunKind.PYTORCHJOB: PytorchJobSchema,
-        V1RunKind.TFJOB: TFJobSchema,
-        V1RunKind.SPARK: SparkSchema,
-        V1RunKind.FLINK: FlinkSchema,
-        V1RunKind.DASK: DaskSchema,
-        V1RunKind.RAY: RaySchema,
-        V1RunKind.NOTIFIER: NotifierJobSchema,
-        V1RunKind.CLEANER: CleanerJobSchema,
-        V1RunKind.TUNER: TunerJobSchema,
-    }
+from polyaxon.polyflow.run.service import V1Service
+from polyaxon.polyflow.run.spark.replica import V1SparkReplica
+from polyaxon.polyflow.run.spark.spark import V1Spark, V1SparkDeploy, V1SparkType
+from polyaxon.polyflow.run.tuner import V1TunerJob
+
+V1Runtime = Annotated[
+    Union[
+        V1Job,
+        V1Service,
+        V1Dag,
+        V1MPIJob,
+        V1PytorchJob,
+        V1TFJob,
+        V1MXJob,
+        V1PaddleJob,
+        V1XGBoostJob,
+        V1Spark,
+        V1Flink,
+        V1Dask,
+        V1Ray,
+        V1NotifierJob,
+        V1CleanerJob,
+        V1TunerJob,
+    ],
+    Field(discriminator="kind"),
+]
 
 
 class RunMixin:
     def get_run_kind(self):
         raise NotImplementedError
 
     @property
@@ -78,22 +83,34 @@
         return self.get_run_kind() == V1RunKind.SERVICE
 
     @property
     def is_mpi_job_run(self):
         return self.get_run_kind() == V1RunKind.MPIJOB
 
     @property
+    def is_paddle_job_run(self):
+        return self.get_run_kind() == V1RunKind.PADDLEJOB
+
+    @property
     def is_pytorch_job_run(self):
         return self.get_run_kind() == V1RunKind.PYTORCHJOB
 
     @property
     def is_tf_job_run(self):
         return self.get_run_kind() == V1RunKind.TFJOB
 
     @property
+    def is_mx_job_run(self):
+        return self.get_run_kind() == V1RunKind.MXJOB
+
+    @property
+    def is_xgb_job_run(self):
+        return self.get_run_kind() == V1RunKind.XGBJOB
+
+    @property
     def is_spark_run(self):
         return self.get_run_kind() == V1RunKind.SPARK
 
     @property
     def is_flink_run(self):
         return self.get_run_kind() == V1RunKind.FLINK
 
@@ -123,8 +140,14 @@
 
     @property
     def is_watchdog(self):
         return self.get_run_kind() == V1RunKind.WATCHDOG
 
     @property
     def is_distributed_run(self):
-        return self.is_mpi_job_run or self.is_pytorch_job_run or self.is_tf_job_run
+        return (
+            self.is_mpi_job_run
+            or self.is_pytorch_job_run
+            or self.is_tf_job_run
+            or self.is_mx_job_run
+            or self.is_xgb_job_run
+        )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/cleaner.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_user_email.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,33 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-from marshmallow import fields, validate
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields import EmailStr
 
-from polyaxon.polyflow.run.job import JobSchema, V1Job
-from polyaxon.polyflow.run.kinds import V1RunKind
 
-
-class CleanerJobSchema(JobSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1RunKind.CLEANER))
-
-    @staticmethod
-    def schema_config():
-        return V1CleanerJob
-
-
-class V1CleanerJob(V1Job):
-    SCHEMA = CleanerJobSchema
-    IDENTIFIER = V1RunKind.CLEANER
+class V1UserEmail(BaseSchemaModel):
+    email: Optional[EmailStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/dag.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/dag.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,62 +1,48 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from collections.abc import Mapping
-from typing import Set
+from typing import Any, Dict, ForwardRef, List, Optional, Set, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
+from pydantic import Field, PositiveInt, PrivateAttr, StrictStr, validator
 
 from polyaxon import types
-from polyaxon.contexts import sections as contexts_sections
+from polyaxon.contexts import sections as ctx_sections
 from polyaxon.exceptions import PolyaxonSchemaError
-from polyaxon.k8s import k8s_schemas
+from polyaxon.k8s import k8s_schemas, k8s_validation
 from polyaxon.pkg import SCHEMA_VERSION
 from polyaxon.polyflow import dags
-from polyaxon.polyflow.early_stopping import EarlyStoppingSchema
-from polyaxon.polyflow.environment import EnvironmentSchema
+from polyaxon.polyflow.early_stopping import V1EarlyStopping
+from polyaxon.polyflow.environment import V1Environment
 from polyaxon.polyflow.io import V1IO
 from polyaxon.polyflow.params import ops_params
+from polyaxon.polyflow.run.base import BaseRun
 from polyaxon.polyflow.run.kinds import V1RunKind
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-from polyaxon.schemas.fields.swagger import SwaggerField
-
-
-class DagSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1RunKind.DAG))
-    operations = fields.List(fields.Nested("OperationSchema"))
-    components = fields.List(fields.Nested("ComponentSchema"))
-    environment = fields.Nested(EnvironmentSchema, allow_none=True)
-    connections = fields.List(fields.Str(), allow_none=True)
-    volumes = fields.List(SwaggerField(cls=k8s_schemas.V1Volume), allow_none=True)
-    concurrency = RefOrObject(fields.Int(allow_none=True))
-    early_stopping = fields.List(fields.Nested(EarlyStoppingSchema), allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1Dag
+from polyaxon.schemas.fields.ref_or_obj import RefField
+
+V1Operation = ForwardRef("V1Operation")
+V1Component = ForwardRef("V1Component")
 
 
-class V1Dag(BaseConfig, polyaxon_sdk.V1Dag):
+class V1Dag(BaseRun):
     """Dag (Directed Acyclic Graphs) is
     a collection of all the operations you want to run,
     organized in a way that reflects their relationships and dependencies.
 
     A dag's main goal is to describe and run several operations
     necessary for a Machine Learning (ML) workflow.
 
@@ -318,47 +304,41 @@
     ```
 
     For more details please check the
     [early stopping section](/docs/automation/helpers/early-stopping/).
 
     """
 
-    SCHEMA = DagSchema
-    IDENTIFIER = V1RunKind.DAG
-    REDUCED_ATTRIBUTES = [
-        "operations",
-        "components",
-        "concurrency",
-        "earlyStopping",
-        "environment",
-        "connections",
-        "volumes",
-    ]
-
-    def __init__(
-        self,
-        operations=None,
-        components=None,
-        concurrency=None,
-        early_stopping=None,
-        kind=None,
-        environment=None,
-        connections=None,
-        volumes=None,
-    ):
-        super().__init__(
-            kind=kind,
-            operations=operations,
-            components=components,
-            concurrency=concurrency,
-            early_stopping=early_stopping,
-            environment=environment,
-            connections=connections,
-            volumes=volumes,
-        )
+    _IDENTIFIER = V1RunKind.DAG
+    _SWAGGER_FIELDS = ["volumes"]
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    operations: Optional[Union[List[V1Operation], RefField]]
+    components: Optional[Union[List[V1Component], RefField]]
+    environment: Optional[Union[V1Environment, RefField]]
+    connections: Optional[Union[List[StrictStr], RefField]]
+    volumes: Optional[Union[List[k8s_schemas.V1Volume], RefField]]
+    concurrency: Optional[Union[PositiveInt, RefField]]
+    early_stopping: Optional[Union[List[V1EarlyStopping], RefField]] = Field(
+        alias="earlyStopping"
+    )
+
+    _dag: Dict[str, "DagOpSpec"] = PrivateAttr()
+    _components_by_names: Dict[str, V1Component] = PrivateAttr()
+    _op_component_mapping: Dict[str, str] = PrivateAttr()
+    _context: Dict[str, Any] = PrivateAttr()
+
+    @validator("volumes", always=True, pre=True)
+    def validate_volumes(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_volume(vi) for vi in v]
+
+    def __init__(self, **data):
+        super().__init__(**data)
         self._dag = {}  # OpName -> DagOpSpec
         self._components_by_names = {}  # ComponentName -> Component
         self._op_component_mapping = {}  # OpName -> ComponentName
         self._context = {}  # Ops output names -> types
 
     @property
     def dag(self):
@@ -464,26 +444,28 @@
 
     def process_components(self, inputs=None, ignore_hub_validation: bool = False):
         """`ignore_hub_validation` is currently used for ignoring validation
         during tests with hub_ref.
         """
         inputs = inputs or []
 
-        for g_context in contexts_sections.GLOBALS_CONTEXTS:
+        for g_context in ctx_sections.GLOBALS_CONTEXTS:
             self._context[
-                "dag.{}.{}".format(contexts_sections.GLOBALS, g_context)
-            ] = V1IO(name=g_context, type=types.STR, value="", is_optional=True)
+                "dag.{}.{}".format(ctx_sections.GLOBALS, g_context)
+            ] = V1IO.construct(
+                name=g_context, type=types.STR, value="", is_optional=True
+            )
 
-        self._context["dag.{}".format(contexts_sections.INPUTS)] = V1IO(
+        self._context["dag.{}".format(ctx_sections.INPUTS)] = V1IO.construct(
             name="inputs", type=types.DICT, value={}, is_optional=True
         )
-        self._context["dag.{}".format(contexts_sections.GLOBALS)] = V1IO(
+        self._context["dag.{}".format(ctx_sections.GLOBALS)] = V1IO.construct(
             name="globals", type=types.STR, value="", is_optional=True
         )
-        self._context["dag.{}".format(contexts_sections.ARTIFACTS)] = V1IO(
+        self._context["dag.{}".format(ctx_sections.ARTIFACTS)] = V1IO.construct(
             name="artifacts", type=types.STR, value="", is_optional=True
         )
 
         for _input in inputs:
             self._context["dag.inputs.{}".format(_input.name)] = _input
 
         if not self.operations:
@@ -533,58 +515,66 @@
                     "Pipeline op has no definition field `{}`".format(op_name)
                 )
 
             if outputs:
                 for output in outputs:
                     self._context[
                         "ops.{}.{}.{}".format(
-                            op_name, contexts_sections.OUTPUTS, output.name
+                            op_name, ctx_sections.OUTPUTS, output.name
                         )
                     ] = output
                     if output.type == types.ARTIFACTS:
                         self._context[
                             "ops.{}.{}.{}".format(
-                                op_name, contexts_sections.ARTIFACTS, output.name
+                                op_name, ctx_sections.ARTIFACTS, output.name
                             )
                         ] = output
 
             if inputs:
                 for cinput in inputs:
                     self._context[
-                        "ops.{}.{}.{}".format(
-                            op_name, contexts_sections.INPUTS, cinput.name
-                        )
+                        "ops.{}.{}.{}".format(op_name, ctx_sections.INPUTS, cinput.name)
                     ] = cinput
                     if cinput.type == types.ARTIFACTS:
                         self._context[
                             "ops.{}.{}.{}".format(
-                                op_name, contexts_sections.ARTIFACTS, cinput.name
+                                op_name, ctx_sections.ARTIFACTS, cinput.name
                             )
                         ] = cinput
-            for g_context in contexts_sections.GLOBALS_CONTEXTS:
+            for g_context in ctx_sections.GLOBALS_CONTEXTS:
                 self._context[
-                    "ops.{}.{}.{}".format(op_name, contexts_sections.GLOBALS, g_context)
-                ] = V1IO(name=g_context, type=types.STR, value="", is_optional=True)
+                    "ops.{}.{}.{}".format(op_name, ctx_sections.GLOBALS, g_context)
+                ] = V1IO.construct(
+                    name=g_context, type=types.STR, value="", is_optional=True
+                )
 
             # We allow to resolve name, status, project, all outputs/inputs, iteration
-            self._context["ops.{}.{}".format(op_name, contexts_sections.INPUTS)] = V1IO(
+            self._context[
+                "ops.{}.{}".format(op_name, ctx_sections.INPUTS)
+            ] = V1IO.construct(
                 name="inputs", type=types.DICT, value={}, is_optional=True
             )
             self._context[
-                "ops.{}.{}".format(op_name, contexts_sections.OUTPUTS)
-            ] = V1IO(name="outputs", type=types.DICT, value={}, is_optional=True)
+                "ops.{}.{}".format(op_name, ctx_sections.OUTPUTS)
+            ] = V1IO.construct(
+                name="outputs", type=types.DICT, value={}, is_optional=True
+            )
             self._context[
-                "ops.{}.{}".format(op_name, contexts_sections.GLOBALS)
-            ] = V1IO(name="globals", type=types.STR, value="", is_optional=True)
+                "ops.{}.{}".format(op_name, ctx_sections.GLOBALS)
+            ] = V1IO.construct(
+                name="globals", type=types.STR, value="", is_optional=True
+            )
             self._context[
-                "ops.{}.{}".format(op_name, contexts_sections.ARTIFACTS)
-            ] = V1IO(name="artifacts", type=types.STR, value="", is_optional=True)
+                "ops.{}.{}".format(op_name, ctx_sections.ARTIFACTS)
+            ] = V1IO.construct(
+                name="artifacts", type=types.STR, value="", is_optional=True
+            )
             self._context[
-                "ops.{}.{}".format(op_name, contexts_sections.INPUTS_OUTPUTS)
-            ] = V1IO(name="io", type=types.STR, value={}, is_optional=True)
+                "ops.{}.{}".format(op_name, ctx_sections.INPUTS_OUTPUTS)
+            ] = V1IO.construct(name="io", type=types.STR, value={}, is_optional=True)
 
         for op in self.operations:
             if op.has_component_reference:
                 component_ref = op.definition.name
                 outputs = op.definition.outputs
                 inputs = op.definition.inputs
             elif op.has_dag_reference:
@@ -601,15 +591,15 @@
                 params=op.params,
                 inputs=inputs,
                 outputs=outputs,
                 context=self._context,
                 matrix=op.matrix,
                 joins=op.joins,
                 is_template=False,
-                check_runs=False,
+                check_all_refs=False,
                 extra_info="<op {}>.<component {}>".format(op.name, component_ref),
             )
 
     def set_op_component(self, op_name):
         if op_name not in self.dag:
             raise PolyaxonSchemaError(
                 "Job with name `{}` was not found in Dag, "
@@ -645,7 +635,19 @@
         from polyaxon.polyaxonfile import OperationSpecification
 
         op_dict = self.dag[name].op.to_dict()
         op_dict[OperationSpecification.VERSION] = op_dict.get(
             OperationSpecification.VERSION, SCHEMA_VERSION
         )
         return OperationSpecification.read(op_dict)
+
+    def get_resources(self):
+        return None
+
+    def get_all_containers(self):
+        return []
+
+    def get_all_connections(self):
+        return self.connections or []
+
+    def get_all_init(self):
+        return []
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/dask.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/dask.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,60 +1,36 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from pydantic import Field, StrictStr, validator
 
-from marshmallow import fields, validate
-
-from polyaxon.containers.names import MAIN_JOB_CONTAINER
-from polyaxon.k8s import k8s_schemas
-from polyaxon.polyflow.environment import EnvironmentSchema
-from polyaxon.polyflow.init import InitSchema
+from polyaxon.k8s import k8s_schemas, k8s_validation
+from polyaxon.polyflow.environment import V1Environment
+from polyaxon.polyflow.init import V1Init
+from polyaxon.polyflow.run.base import BaseRun
 from polyaxon.polyflow.run.kinds import V1RunKind
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.swagger import SwaggerField
-
+from polyaxon.schemas.fields import IntOrRef, RefField
 
-class DaskSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1RunKind.DASK))
-    threads = fields.Int(allow_none=True)
-    scale = fields.Int(allow_none=True)
-    adapt_min = fields.Int(allow_none=True)
-    adapt_max = fields.Int(allow_none=True)
-    adapt_interval = fields.Int(allow_none=True)
-    environment = fields.Nested(EnvironmentSchema, allow_none=True)
-    connections = fields.List(fields.Str(), allow_none=True)
-    volumes = fields.List(SwaggerField(cls=k8s_schemas.V1Volume), allow_none=True)
-    init = fields.List(fields.Nested(InitSchema), allow_none=True)
-    sidecars = fields.List(SwaggerField(cls=k8s_schemas.V1Container), allow_none=True)
-    container = SwaggerField(
-        cls=k8s_schemas.V1Container,
-        defaults={"name": MAIN_JOB_CONTAINER},
-        allow_none=True,
-    )
-
-    @staticmethod
-    def schema_config():
-        return V1Dask
 
-
-class V1Dask(BaseConfig, polyaxon_sdk.V1Dask):
+class V1Dask(BaseRun):
     """Dask jobs are used to run distributed jobs using a
     [Dask cluster](https://kubernetes.dask.org/en/latest/).
 
     > Dask Kubernetes deploys Dask workers on Kubernetes clusters using native Kubernetes APIs.
     > It is designed to dynamically launch short-lived deployments of workers
     > during the lifetime of a Python process.
 
@@ -317,23 +293,38 @@
     >>>     name: tensorflow:2.1
     >>>     init:
     >>>       - connection: my-tf-code-repo
     >>>     command: ["python", "/plx-context/artifacts/my-tf-code-repo/model.py"]
     ```
     """
 
-    SCHEMA = DaskSchema
-    IDENTIFIER = V1RunKind.DASK
-    REDUCED_ATTRIBUTES = [
-        "kind",
-        "threads",
-        "scale",
-        "adaptMin",
-        "adaptMax",
-        "adaptInterval",
-        "environment",
-        "connections",
-        "volumes",
-        "init",
-        "sidecars",
-        "container",
-    ]
+    _IDENTIFIER = V1RunKind.DASK
+    _SWAGGER_FIELDS = ["volumes", "sidecars", "container"]
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    threads: Optional[IntOrRef]
+    scale: Optional[IntOrRef]
+    adapt_min: Optional[IntOrRef] = Field(alias="adaptMin")
+    adapt_max: Optional[IntOrRef] = Field(alias="adaptMax")
+    adapt_interval: Optional[IntOrRef] = Field(alias="adaptInterval")
+    environment: Optional[Union[V1Environment, RefField]]
+    connections: Optional[Union[List[StrictStr], RefField]]
+    volumes: Optional[Union[List[k8s_schemas.V1Volume], RefField]]
+    init: Optional[Union[List[V1Init], RefField]]
+    sidecars: Optional[Union[List[k8s_schemas.V1Container], RefField]]
+    container: Optional[Union[k8s_schemas.V1Container, RefField]]
+
+    @validator("volumes", always=True, pre=True)
+    def validate_volumes(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_volume(vi) for vi in v]
+
+    @validator("sidecars", always=True, pre=True)
+    def validate_helper_containers(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_container(vi) for vi in v]
+
+    @validator("container", always=True, pre=True)
+    def validate_container(cls, v):
+        return k8s_validation.validate_k8s_container(v)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/flink.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_team_members_response.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,37 +1,28 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional
 
-import polyaxon_sdk
+from pydantic import StrictStr
 
-from marshmallow import fields, validate
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.responses.v1_team_member import V1TeamMember
 
-from polyaxon.polyflow.run.kinds import V1RunKind
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
 
-
-class FlinkSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1RunKind.FLINK))
-    spec = RefOrObject(fields.Raw(required=True))
-
-    @staticmethod
-    def schema_config():
-        return V1Flink
-
-
-class V1Flink(BaseConfig, polyaxon_sdk.V1Flink):
-    SCHEMA = FlinkSchema
-    IDENTIFIER = V1RunKind.FLINK
+class V1ListTeamMembersResponse(BaseSchemaModel):
+    count: Optional[int]
+    results: Optional[List[V1TeamMember]]
+    previous: Optional[StrictStr]
+    next: Optional[StrictStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/job.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/job.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,57 +1,38 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from pydantic import StrictStr, validator
 
-from marshmallow import fields, validate
-
-from polyaxon.containers.names import MAIN_JOB_CONTAINER
-from polyaxon.k8s import k8s_schemas
-from polyaxon.polyflow.environment import EnvironmentSchema
-from polyaxon.polyflow.init import InitSchema
+from polyaxon.k8s import k8s_schemas, k8s_validation
+from polyaxon.polyflow.environment import V1Environment
+from polyaxon.polyflow.init import V1Init
+from polyaxon.polyflow.run.base import BaseRun
 from polyaxon.polyflow.run.kinds import V1RunKind
 from polyaxon.polyflow.run.resources import V1RunResources
 from polyaxon.polyflow.run.utils import DestinationImageMixin
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.swagger import SwaggerField
-
+from polyaxon.schemas.fields import RefField
 
-class JobSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1RunKind.JOB))
-    environment = fields.Nested(EnvironmentSchema, allow_none=True)
-    connections = fields.List(fields.Str(), allow_none=True)
-    volumes = fields.List(SwaggerField(cls=k8s_schemas.V1Volume), allow_none=True)
-    init = fields.List(fields.Nested(InitSchema), allow_none=True)
-    sidecars = fields.List(SwaggerField(cls=k8s_schemas.V1Container), allow_none=True)
-    container = SwaggerField(
-        cls=k8s_schemas.V1Container,
-        defaults={"name": MAIN_JOB_CONTAINER},
-        allow_none=True,
-    )
-
-    @staticmethod
-    def schema_config():
-        return V1Job
 
-
-class V1Job(BaseConfig, DestinationImageMixin, polyaxon_sdk.V1Job):
+class V1Job(BaseRun, DestinationImageMixin):
     """Jobs are used to train machine learning models,
     process a dataset, execute generic tasks and can be used to perform a variety of functions
     from compiling a model to running an ETL operation.
 
     Args:
         kind: str, should be equal `job`
         environment: [V1Environment](/docs/core/specification/environment/), optional
@@ -241,21 +222,45 @@
     >>>     name: tensorflow:2.1
     >>>     init:
     >>>       - connection: my-tf-code-repo
     >>>     command: ["python", "/plx-context/artifacts/my-tf-code-repo/model.py"]
     ```
     """
 
-    SCHEMA = JobSchema
-    IDENTIFIER = V1RunKind.JOB
-    REDUCED_ATTRIBUTES = [
-        "kind",
-        "container",
-        "environment",
-        "init",
-        "sidecars",
-        "connections",
-        "volumes",
-    ]
+    _IDENTIFIER = V1RunKind.JOB
+    _SWAGGER_FIELDS = ["volumes", "sidecars", "container"]
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    environment: Optional[Union[V1Environment, RefField]]
+    connections: Optional[Union[List[StrictStr], RefField]]
+    volumes: Optional[Union[List[k8s_schemas.V1Volume], RefField]]
+    init: Optional[Union[List[V1Init], RefField]]
+    sidecars: Optional[Union[List[k8s_schemas.V1Container], RefField]]
+    container: Optional[Union[k8s_schemas.V1Container, RefField]]
+
+    @validator("volumes", always=True, pre=True)
+    def validate_volumes(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_volume(vi) for vi in v]
+
+    @validator("sidecars", always=True, pre=True)
+    def validate_helper_containers(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_container(vi) for vi in v]
+
+    @validator("container", always=True, pre=True)
+    def validate_container(cls, v):
+        return k8s_validation.validate_k8s_container(v)
 
     def get_resources(self):
         return V1RunResources.from_container(self.container)
+
+    def get_all_containers(self):
+        return [self.container] if self.container else []
+
+    def get_all_connections(self):
+        return self.connections or []
+
+    def get_all_init(self):
+        return self.init or []
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/kubeflow/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/kubeflow/clean_pod_policy.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/xgboost.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import polyaxon_sdk
+# To keep backwards compatibility
 
+from traceml.integrations.xgboost import Callback, callback
 
-class V1CleanPodPolicy(polyaxon_sdk.V1CleanPodPolicy):
-    allowable_values = polyaxon_sdk.V1CleanPodPolicy.allowable_values + [
-        i.lower() for i in polyaxon_sdk.V1CleanPodPolicy.allowable_values
-    ]
+# alias
+polyaxon_callback = callback
+PolyaxonCallback = Callback
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/kubeflow/replica.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/replica.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,56 +1,37 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional, Union
 
-import polyaxon_sdk
+from pydantic import StrictStr, validator
 
-from marshmallow import fields
-
-from polyaxon.containers.names import MAIN_JOB_CONTAINER
-from polyaxon.k8s import k8s_schemas
-from polyaxon.polyflow.environment import EnvironmentSchema
-from polyaxon.polyflow.init import InitSchema
+from polyaxon.k8s import k8s_schemas, k8s_validation
+from polyaxon.polyflow.environment import V1Environment
+from polyaxon.polyflow.init import V1Init
 from polyaxon.polyflow.run.resources import V1RunResources
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.swagger import SwaggerField
-
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields import IntOrRef, RefField
 
-class KFReplicaSchema(BaseCamelSchema):
-    replicas = fields.Int(allow_none=True)
-    environment = fields.Nested(EnvironmentSchema, allow_none=True)
-    connections = fields.List(fields.Str(), allow_none=True)
-    volumes = fields.List(SwaggerField(cls=k8s_schemas.V1Volume), allow_none=True)
-    init = fields.List(fields.Nested(InitSchema), allow_none=True)
-    sidecars = fields.List(SwaggerField(cls=k8s_schemas.V1Container), allow_none=True)
-    container = SwaggerField(
-        cls=k8s_schemas.V1Container,
-        defaults={"name": MAIN_JOB_CONTAINER},
-        allow_none=True,
-    )
-
-    @staticmethod
-    def schema_config():
-        return V1KFReplica
 
-
-class V1KFReplica(BaseConfig, polyaxon_sdk.V1KFReplica):
-    """Kubeflow-Replica provides an interface to define a replica for TFJob/MPIJob/PytorchJob.
+class V1KFReplica(BaseSchemaModel):
+    """Kubeflow-Replica provides an interface to define a replica for
+    TFJob/MPIJob/PytorchJob/PaddleJob/MXJob/XGBoostJob.
 
     Args:
         replicas: int
         environment: [V1Environment](/docs/core/specification/environment/), optional
         connections: List[str], optional
         volumes: List[[Kubernetes Volume](https://kubernetes.io/docs/concepts/storage/volumes/)],
              optional
@@ -230,25 +211,49 @@
     >>>     name: tensorflow:2.1
     >>>     init:
     >>>       - connection: my-tf-code-repo
     >>>     command: ["python", "/plx-context/artifacts/my-tf-code-repo/model.py"]
     ```
     """
 
-    SCHEMA = KFReplicaSchema
-    IDENTIFIER = "replica"
-    REDUCED_ATTRIBUTES = [
-        "replicas",
-        "environment",
-        "connections",
-        "volumes",
-        "init",
-        "sidecars",
-        "container",
-    ]
+    _IDENTIFIER = "replica"
+    _SWAGGER_FIELDS = ["volumes", "sidecars", "container"]
+
+    replicas: Optional[IntOrRef]
+    environment: Optional[Union[V1Environment, RefField]]
+    connections: Optional[Union[List[StrictStr], RefField]]
+    volumes: Optional[Union[List[k8s_schemas.V1Volume], RefField]]
+    init: Optional[Union[List[V1Init], RefField]]
+    sidecars: Optional[Union[List[k8s_schemas.V1Container], RefField]]
+    container: Optional[Union[k8s_schemas.V1Container, RefField]]
+
+    @validator("volumes", always=True, pre=True)
+    def validate_volumes(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_volume(vi) for vi in v]
+
+    @validator("sidecars", always=True, pre=True)
+    def validate_helper_containers(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_container(vi) for vi in v]
+
+    @validator("container", always=True, pre=True)
+    def validate_container(cls, v):
+        return k8s_validation.validate_k8s_container(v)
 
     def get_resources(self):
         resources = V1RunResources()
         for i in range(self.replicas or 1):
             resources += V1RunResources.from_container(self.container)
 
         return resources
+
+    def get_all_containers(self):
+        return [self.container] if self.container else []
+
+    def get_all_connections(self):
+        return self.connections or []
+
+    def get_all_init(self):
+        return self.init or []
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/kubeflow/tf_job.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/mpi_job.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,203 +1,198 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
+from pydantic import Field
 
 from polyaxon.k8s.k8s_schemas import V1Container
+from polyaxon.polyflow.run.base import BaseRun
 from polyaxon.polyflow.run.kinds import V1RunKind
 from polyaxon.polyflow.run.kubeflow.clean_pod_policy import V1CleanPodPolicy
-from polyaxon.polyflow.run.kubeflow.replica import KFReplicaSchema
+from polyaxon.polyflow.run.kubeflow.replica import V1KFReplica
+from polyaxon.polyflow.run.kubeflow.scheduling_policy import V1SchedulingPolicy
 from polyaxon.polyflow.run.resources import V1RunResources
 from polyaxon.polyflow.run.utils import DestinationImageMixin
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-
-
-class TFJobSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1RunKind.TFJOB))
-    clean_pod_policy = fields.Str(
-        allow_none=True, validate=validate.OneOf(V1CleanPodPolicy.allowable_values)
-    )
-    chief = fields.Nested(KFReplicaSchema, allow_none=True)
-    ps = fields.Nested(KFReplicaSchema, allow_none=True)
-    worker = fields.Nested(KFReplicaSchema, allow_none=True)
-    evaluator = fields.Nested(KFReplicaSchema, allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1TFJob
+from polyaxon.schemas.fields import IntOrRef, RefField
 
 
-class V1TFJob(BaseConfig, DestinationImageMixin, polyaxon_sdk.V1TFJob):
-    """Kubeflow TF-Job provides an interface to train distributed experiments with TensorFlow.
+class V1MPIJob(BaseRun, DestinationImageMixin):
+    """Kubeflow MPI-Job provides an interface to train distributed experiments with MPI.
 
     Args:
-        kind: str, should be equal `tfjob`
+        kind: str, should be equal `mpijob`
         clean_pod_policy: str, one of [`All`, `Running`, `None`]
-        chief: [V1KFReplica](/docs/experimentation/distributed/kubeflow-replica/), optional
-        ps: [V1KFReplica](/docs/experimentation/distributed/kubeflow-replica/), optional
+        scheduling_policy: [V1SchedulingPolicy](/docs/experimentation/distributed/scheduling-policy/), optional  # noqa
+        slots_per_worker: int, optional
+        launcher: [V1KFReplica](/docs/experimentation/distributed/kubeflow-replica/), optional
         worker: [V1KFReplica](/docs/experimentation/distributed/kubeflow-replica/), optional
-        evaluator: [V1KFReplica](/docs/experimentation/distributed/kubeflow-replica/), optional
 
     ## YAML usage
 
     ```yaml
     >>> run:
-    >>>   kind: tfjob
+    >>>   kind: mpijob
     >>>   cleanPodPolicy:
-    >>>   chief:
-    >>>   ps:
+    >>>   schedulingPolicy:
+    >>>   slotsPerWorker:
+    >>>   launcher:
     >>>   worker:
-    >>>   evaluator:
     ```
 
     ## Python usage
 
     ```python
-    >>> from polyaxon.polyflow import V1KFReplica, V1TFJob
+    >>> from polyaxon.polyflow import V1KFReplica, V1MPIJob
     >>> from polyaxon.k8s import k8s_schemas
-    >>> tf_job = V1TFJob(
+    >>> mpi_job = V1MPIJob(
     >>>     clean_pod_policy='All',
-    >>>     chief=V1KFReplica(...),
-    >>>     ps=V1KFReplica(...),
+    >>>     launcher=V1KFReplica(...),
     >>>     worker=V1KFReplica(...),
-    >>>     evaluator=V1KFReplica(...),
     >>> )
     ```
 
     ## Fields
 
     ### kind
 
-    The kind signals to the CLI, client, and other tools that this component's runtime is a tfjob.
+    The kind signals to the CLI, client, and other tools that this
+    component's runtime is a mpijob.
 
     If you are using the python client to create the runtime,
     this field is not required and is set by default.
 
     ```yaml
     >>> run:
-    >>>   kind: tfjob
+    >>>   kind: mpijob
     ```
 
     ### cleanPodPolicy
 
     Controls the deletion of pods when a job terminates.
     The policy can be one of the following values: [`All`, `Running`, `None`]
 
 
     ```yaml
     >>> run:
-    >>>   kind: tfjob
+    >>>   kind: mpijob
     >>>   cleanPodPolicy: 'All'
     >>>  ...
     ```
 
-    ### chief
+    ### schedulingPolicy
+
+    SchedulingPolicy encapsulates various scheduling policies of the distributed training
+    job, for example `minAvailable` for gang-scheduling.
 
-    The chief is responsible for orchestrating training and performing
-    tasks like checkpointing the model.
 
     ```yaml
     >>> run:
-    >>>   kind: tfjob
-    >>>   chief:
-    >>>     replicas: 1
-    >>>     container:
-    >>>       ...
+    >>>   kind: mpijob
+    >>>   schedulingPolicy:
+    >>>     ...
     >>>  ...
     ```
 
-    ### ps
+     ### slotsPerWorker
+
+    Specifies the number of slots per worker used in hostfile.
+    Defaults to `1`.
 
-    The ps are parameter servers; these servers provide a distributed data store
-    for the model parameters.
 
     ```yaml
     >>> run:
-    >>>   kind: tfjob
-    >>>   ps:
-    >>>     replicas: 2
-    >>>     container:
-    >>>       ...
+    >>>   kind: mpijob
+    >>>   slotsPerWorker: 2
     >>>  ...
     ```
 
-    ### worker
+    ### launcher
 
-    The workers do the actual work of training the model. In some cases,
-    worker 0 might also act as the chief.
+    The launcher replica in the distributed mpijob, automatica
 
     ```yaml
     >>> run:
-    >>>   kind: tfjob
-    >>>   worker:
-    >>>     replicas: 2
+    >>>   kind: mpijob
+    >>>   master:
+    >>>     replicas: 1
     >>>     container:
     >>>       ...
     >>>  ...
     ```
 
-    ### evaluator
+    ### worker
 
-    The evaluators can be used to compute evaluation metrics as the model is trained.
+    The workers do the actual work of training the model.
 
     ```yaml
     >>> run:
-    >>>   kind: tfjob
-    >>>   evaluator:
-    >>>     replicas: 1
+    >>>   kind: mpijob
+    >>>   worker:
+    >>>     replicas: 3
     >>>     container:
     >>>       ...
     >>>  ...
     ```
     """
 
-    SCHEMA = TFJobSchema
-    IDENTIFIER = V1RunKind.TFJOB
-    REDUCED_ATTRIBUTES = [
-        "cleanPodPolicy",
-        "chief",
-        "ps",
-        "worker",
-        "evaluator",
-    ]
+    _IDENTIFIER = V1RunKind.MPIJOB
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    clean_pod_policy: Optional[V1CleanPodPolicy] = Field(alias="cleanPodPolicy")
+    scheduling_policy: Optional[V1SchedulingPolicy] = Field(alias="schedulingPolicy")
+    slots_per_worker: Optional[IntOrRef] = Field(alias="slotsPerWorker")
+    launcher: Optional[Union[V1KFReplica, RefField]]
+    worker: Optional[Union[V1KFReplica, RefField]]
 
     def apply_image_destination(self, image: str):
-        if self.chief:
-            self.chief.container = self.chief.container or V1Container()
-            self.chief.container.image = image
-        if self.ps:
-            self.ps.container = self.ps.container or V1Container()
-            self.ps.container.image = image
+        if self.launcher:
+            self.launcher.container = self.launcher.container or V1Container()
+            self.launcher.container.image = image
         if self.worker:
             self.worker.container = self.worker.container or V1Container()
             self.worker.container.image = image
-        if self.evaluator:
-            self.evaluator.container = self.evaluator.container or V1Container()
-            self.evaluator.container.image = image
 
     def get_resources(self):
         resources = V1RunResources()
-        if self.chief:
-            resources += self.chief.get_resources()
-        if self.ps:
-            resources += self.ps.get_resources()
+        if self.launcher:
+            resources += self.launcher.get_resources()
         if self.worker:
             resources += self.worker.get_resources()
-        if self.evaluator:
-            resources += self.evaluator.get_resources()
         return resources
+
+    def get_all_containers(self):
+        containers = []
+        if self.launcher:
+            containers += self.launcher.get_all_containers()
+        if self.worker:
+            containers += self.worker.get_all_containers()
+        return containers
+
+    def get_all_connections(self):
+        connections = []
+        if self.launcher:
+            connections += self.launcher.get_all_connections()
+        if self.worker:
+            connections += self.worker.get_all_connections()
+        return connections
+
+    def get_all_init(self):
+        init = []
+        if self.launcher:
+            init += self.launcher.get_all_init()
+        if self.worker:
+            init += self.worker.get_all_init()
+        return init
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/notifier.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/lineage/__init__.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,33 +1,17 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from marshmallow import fields, validate
-
-from polyaxon.polyflow.run.job import JobSchema, V1Job
-from polyaxon.polyflow.run.kinds import V1RunKind
-
-
-class NotifierJobSchema(JobSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1RunKind.NOTIFIER))
-
-    @staticmethod
-    def schema_config():
-        return V1NotifierJob
-
-
-class V1NotifierJob(V1Job):
-    SCHEMA = NotifierJobSchema
-    IDENTIFIER = V1RunKind.NOTIFIER
+from polyaxon.polypod.compiler.lineage.collector import resolve_artifacts_lineage
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/patch.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/patch.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,33 +13,37 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 
 from typing import Dict
 
-from marshmallow import ValidationError
+from pydantic import ValidationError
 
+from polyaxon.exceptions import PolyaxonValidationError
 from polyaxon.polyflow.run.cleaner import V1CleanerJob
 from polyaxon.polyflow.run.dag import V1Dag
 from polyaxon.polyflow.run.dask import V1Dask
 from polyaxon.polyflow.run.job import V1Job
 from polyaxon.polyflow.run.kinds import V1RunKind
 from polyaxon.polyflow.run.kubeflow.mpi_job import V1MPIJob
+from polyaxon.polyflow.run.kubeflow.mx_job import V1MXJob
+from polyaxon.polyflow.run.kubeflow.paddle_job import V1PaddleJob
 from polyaxon.polyflow.run.kubeflow.pytorch_job import V1PytorchJob
 from polyaxon.polyflow.run.kubeflow.replica import V1KFReplica
 from polyaxon.polyflow.run.kubeflow.tf_job import V1TFJob
+from polyaxon.polyflow.run.kubeflow.xgboost_job import V1XGBoostJob
 from polyaxon.polyflow.run.notifier import V1NotifierJob
 from polyaxon.polyflow.run.service import V1Service
 from polyaxon.polyflow.run.spark.replica import V1SparkReplica
 from polyaxon.polyflow.run.spark.spark import V1Spark
 from polyaxon.polyflow.run.tuner import V1TunerJob
 
 
-def validate_run_patch(run_patch: Dict, kind: V1RunKind.allowable_values):
+def validate_run_patch(run_patch: Dict, kind: V1RunKind):
     if kind == V1RunKind.JOB:
         patch = V1Job.from_dict(run_patch)
     elif kind == V1RunKind.SERVICE:
         patch = V1Service.from_dict(run_patch)
     elif kind == V1RunKind.DAG:
         patch = V1Dag.from_dict(run_patch)
     elif kind == V1RunKind.MPIJOB:
@@ -48,29 +52,46 @@
         except ValidationError:
             patch = V1KFReplica.from_dict(run_patch)
     elif kind == V1RunKind.PYTORCHJOB:
         try:
             patch = V1PytorchJob.from_dict(run_patch)
         except ValidationError:
             patch = V1KFReplica.from_dict(run_patch)
+    elif kind == V1RunKind.PADDLEJOB:
+        try:
+            patch = V1PaddleJob.from_dict(run_patch)
+        except ValidationError:
+            patch = V1KFReplica.from_dict(run_patch)
     elif kind == V1RunKind.TFJOB:
         try:
             patch = V1TFJob.from_dict(run_patch)
         except ValidationError:
             patch = V1KFReplica.from_dict(run_patch)
+    elif kind == V1RunKind.MXJOB:
+        try:
+            patch = V1MXJob.from_dict(run_patch)
+        except ValidationError:
+            patch = V1KFReplica.from_dict(run_patch)
+    elif kind == V1RunKind.XGBJOB:
+        try:
+            patch = V1XGBoostJob.from_dict(run_patch)
+        except ValidationError:
+            patch = V1KFReplica.from_dict(run_patch)
     elif kind == V1RunKind.SPARK:
         try:
             patch = V1Spark.from_dict(run_patch)
         except ValidationError:
             patch = V1SparkReplica.from_dict(run_patch)
     elif kind == V1RunKind.DASK:
         patch = V1Dask.from_dict(run_patch)
     elif kind == V1RunKind.NOTIFIER:
         patch = V1NotifierJob.from_dict(run_patch)
     elif kind == V1RunKind.TUNER:
         patch = V1TunerJob.from_dict(run_patch)
     elif kind == V1RunKind.CLEANER:
         patch = V1CleanerJob.from_dict(run_patch)
     else:
-        raise ValidationError("runPatch cannot be validate without a supported kind.")
+        raise PolyaxonValidationError(
+            "runPatch cannot be validate without a supported kind."
+        )
 
     return patch
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/ray.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/ray.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,37 +1,28 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
-
+from polyaxon.polyflow.run.base import BaseRun
 from polyaxon.polyflow.run.kinds import V1RunKind
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-
-
-class RaySchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1RunKind.RAY))
-    spec = RefOrObject(fields.Raw(required=True))
+from polyaxon.schemas.fields.ref_or_obj import RefField
 
-    @staticmethod
-    def schema_config():
-        return V1Ray
 
+class V1Ray(BaseRun):
+    _IDENTIFIER = V1RunKind.FLINK
 
-class V1Ray(BaseConfig, polyaxon_sdk.V1Ray):
-    SCHEMA = RaySchema
-    IDENTIFIER = V1RunKind.FLINK
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    spec: Union[Dict, RefField]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/resources.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/resources.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,36 +1,45 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional, Union
 
-import polyaxon_sdk
+from pydantic import StrictStr
 
 from polyaxon.k8s.k8s_schemas import V1Container
-from polyaxon.utils.units import to_cpu_value, to_memory_bytes
-
-
-class V1RunResources(polyaxon_sdk.V1RunResources):
-    MEMORY = "memory"
-    CPU = "cpu"
-    GPU = "gpu"
-    CUSTOM_RESOURCE = "custom"
-    COST = "cost"
-    VALUES = {MEMORY, CPU, GPU, CUSTOM_RESOURCE, COST}
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields import StrictIntOrFloat
+from traceml.processors.units_processors import to_cpu_value, to_memory_bytes
+
+
+class V1RunResources(BaseSchemaModel):
+    cpu: Optional[Union[StrictIntOrFloat, StrictStr]]
+    memory: Optional[Union[StrictIntOrFloat, StrictStr]]
+    gpu: Optional[Union[StrictIntOrFloat, StrictStr]]
+    custom: Optional[Union[StrictIntOrFloat, StrictStr]]
+    cost: Optional[Union[StrictIntOrFloat, StrictStr]]
+
+    _MEMORY = "memory"
+    _CPU = "cpu"
+    _GPU = "gpu"
+    _CUSTOM_RESOURCE = "custom"
+    _COST = "cost"
+    _VALUES = {_MEMORY, _CPU, _GPU, _CUSTOM_RESOURCE, _COST}
 
     @classmethod
     def validate_memory(cls, value):
         return to_memory_bytes(value or 0)
 
     @classmethod
     def validate_cpu(cls, value):
@@ -53,29 +62,29 @@
         if hasattr(resources, "to_dict"):
             resources = resources.to_dict()
 
         requests = resources.get("requests") or {}
         limits = resources.get("limits") or {}
 
         for k, v in requests.items():
-            if k == cls.MEMORY:
+            if k == cls._MEMORY:
                 result.memory = v
-            elif k == cls.CPU:
+            elif k == cls._CPU:
                 result.cpu = v
-            elif cls.GPU in k:
+            elif cls._GPU in k:
                 result.gpu = v
             else:
                 result.custom = v
         # We only set limits if no requests is provided
         for k, v in limits.items():
-            if k == cls.MEMORY:
+            if k == cls._MEMORY:
                 result.memory = result.memory if result.memory else v
-            elif k == cls.CPU:
+            elif k == cls._CPU:
                 result.cpu = result.cpu if result.cpu else v
-            elif cls.GPU in k:
+            elif cls._GPU in k:
                 result.gpu = result.gpu if result.gpu else v
             elif not result.custom:
                 result.custom = v
 
         # Parse values
         result.memory = cls.validate_memory(result.memory)
         result.cpu = cls.validate_cpu(result.cpu)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/service.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/service.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,297 +1,333 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
+from pydantic import Field, StrictInt, StrictStr, validator
 
-from marshmallow import fields, validate
-
-from polyaxon.containers.names import MAIN_JOB_CONTAINER
-from polyaxon.k8s import k8s_schemas
-from polyaxon.polyflow.environment import EnvironmentSchema
-from polyaxon.polyflow.init import InitSchema
+from polyaxon.k8s import k8s_schemas, k8s_validation
+from polyaxon.polyflow.environment import V1Environment
+from polyaxon.polyflow.init import V1Init
+from polyaxon.polyflow.run.base import BaseRun
 from polyaxon.polyflow.run.kinds import V1RunKind
 from polyaxon.polyflow.run.resources import V1RunResources
 from polyaxon.polyflow.run.utils import DestinationImageMixin
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-from polyaxon.schemas.fields.swagger import SwaggerField
-
-
-class ServiceSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1RunKind.SERVICE))
-    environment = fields.Nested(EnvironmentSchema, allow_none=True)
-    connections = fields.List(fields.Str(), allow_none=True)
-    volumes = fields.List(SwaggerField(cls=k8s_schemas.V1Volume), allow_none=True)
-    init = fields.List(fields.Nested(InitSchema), allow_none=True)
-    sidecars = fields.List(SwaggerField(cls=k8s_schemas.V1Container), allow_none=True)
-    container = SwaggerField(
-        cls=k8s_schemas.V1Container,
-        defaults={"name": MAIN_JOB_CONTAINER},
-        allow_none=True,
-    )
-    ports = RefOrObject(fields.List(fields.Int(), allow_none=True))
-    rewrite_path = RefOrObject(fields.Bool(allow_none=True))
-
-    @staticmethod
-    def schema_config():
-        return V1Service
+from polyaxon.schemas.fields.ref_or_obj import BoolOrRef, IntOrRef, RefField
 
 
-class V1Service(BaseConfig, DestinationImageMixin, polyaxon_sdk.V1Service):
+class V1Service(BaseRun, DestinationImageMixin):
     """Services are used to launch Tensorboards, Notebooks, JupyterHub apps,
-     Streamlit/Voila/Bokeh apps, internal tools,
-     and dashboards based on your models and data analysis.
+    Streamlit/Voila/Bokeh apps, internal tools,
+    and dashboards based on your models and data analysis.
 
-     Args:
+    Args:
         kind: str, should be equal `service`
         environment: [V1Environment](/docs/core/specification/environment/), optional
         connections: List[str], optional
         volumes: List[[Kubernetes Volume](https://kubernetes.io/docs/concepts/storage/volumes/)],
              optional
         init: List[[V1Init](/docs/core/specification/init/)], optional
         sidecars: List[[sidecar containers](/docs/core/specification/sidecars/)], optional
         container: [Kubernetes Container](https://kubernetes.io/docs/concepts/containers/)
         ports: List[int], optional
         rewrite_path: bool, optional
+        is_external: bool, optional
+        replicas: int, optional
 
-     ## YAML usage
+    ## YAML usage
 
-     ```yaml
-     >>> run:
-     >>>   kind: service
-     >>>   environment:
-     >>>   connections:
-     >>>   volumes:
-     >>>   init:
-     >>>   sidecars:
-     >>>   container:
-     >>>   ports:
-     >>>   rewritePath:
-     ```
-
-     ## Python usage
-
-     ```python
-     >>> from polyaxon.polyflow import V1Environment, V1Init, V1Service
-     >>> from polyaxon.k8s import k8s_schemas
-     >>> service = V1Service(
-     >>>     environment=V1Environment(...),
-     >>>     connections=["connection-name1"],
-     >>>     volumes=[k8s_schemas.V1Volume(...)],
-     >>>     init=[V1Init(...)],
-     >>>     sidecars=[k8s_schemas.V1Container(...)],
-     >>>     container=k8s_schemas.V1Container(...),
-     >>>     ports=[6006],
-     >>>     rewritePath=True,
-     >>> )
-     ```
-
-     ## Fields
-
-     ### kind
-
-     The kind signals to the CLI, client, and other tools that this component's runtime is a service.
-
-     If you are using the python client to create the runtime,
-     this field is not required and is set by default.
-
-     ```yaml
-     >>> run:
-     >>>   kind: service
-     ```
-
-     ### environment
-
-     Optional [environment section](/docs/core/specification/environment/),
-     it provides a way to inject pod related information.
-
-     ```yaml
-     >>> run:
-     >>>   kind: service
-     >>>   environment:
-     >>>     labels:
-     >>>        key1: "label1"
-     >>>        key2: "label2"
-     >>>      annotations:
-     >>>        key1: "value1"
-     >>>        key2: "value2"
-     >>>      nodeSelector:
-     >>>        node_label: node_value
-     >>>      ...
-     >>>  ...
-     ```
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    >>>   environment:
+    >>>   connections:
+    >>>   volumes:
+    >>>   init:
+    >>>   sidecars:
+    >>>   container:
+    >>>   ports:
+    >>>   rewritePath:
+    >>>   isExternal:
+    >>>   int:
+    ```
+
+    ## Python usage
+
+    ```python
+    >>> from polyaxon.polyflow import V1Environment, V1Init, V1Service
+    >>> from polyaxon.k8s import k8s_schemas
+    >>> service = V1Service(
+    >>>     environment=V1Environment(...),
+    >>>     connections=["connection-name1"],
+    >>>     volumes=[k8s_schemas.V1Volume(...)],
+    >>>     init=[V1Init(...)],
+    >>>     sidecars=[k8s_schemas.V1Container(...)],
+    >>>     container=k8s_schemas.V1Container(...),
+    >>>     ports=[6006],
+    >>>     rewritePath=True,
+    >>> )
+    ```
+
+    ## Fields
+
+    ### kind
+
+    The kind signals to the CLI, client, and other tools that this component's runtime is a service.
+
+    If you are using the python client to create the runtime,
+    this field is not required and is set by default.
+
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    ```
+
+    ### environment
+
+    Optional [environment section](/docs/core/specification/environment/),
+    it provides a way to inject pod related information.
+
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    >>>   environment:
+    >>>     labels:
+    >>>        key1: "label1"
+    >>>        key2: "label2"
+    >>>      annotations:
+    >>>        key1: "value1"
+    >>>        key2: "value2"
+    >>>      nodeSelector:
+    >>>        node_label: node_value
+    >>>      ...
+    >>>  ...
+    ```
 
      ### connections
 
      A list of [connection names](/docs/setup/connections/) to resolve for the service.
 
-     <blockquote class="light">
-     If you are referencing a connection it must be configured.
-     All referenced connections will be checked:
-
-      * If they are accessible in the context of the project of this run
+    <blockquote class="light">
+    If you are referencing a connection it must be configured.
+    All referenced connections will be checked:
 
-      * If the user running the operation can have access to those connections
-     </blockquote>
+     * If they are accessible in the context of the project of this run
 
-     After checks, the connections will be resolved and inject any volumes, secrets, configMaps,
-     environment variables for your main container to function correctly.
+     * If the user running the operation can have access to those connections
+    </blockquote>
 
-     ```yaml
-     >>> run:
-     >>>   kind: service
-     >>>   connections: [connection1, connection2]
-     ```
-
-     ### volumes
-
-     A list of [Kubernetes Volumes](https://kubernetes.io/docs/concepts/storage/volumes/)
-     to resolve and mount for your services.
-
-     This is an advanced use-case where configuring a connection is not an option.
-
-     When you add a volume you need to mount it manually to your container(s).
-
-     ```yaml
-     >>> run:
-     >>>   kind: service
-     >>>   volumes:
-     >>>     - name: volume1
-     >>>       persistentVolumeClaim:
-     >>>         claimName: pvc1
-     >>>   ...
-     >>>   container:
-     >>>     name: myapp-container
-     >>>     image: busybox:1.28
-     >>>     command: ['sh', '-c', 'echo custom init container']
-     >>>     volumeMounts:
-     >>>     - name: volume1
-     >>>       mountPath: /mnt/vol/path
-     ```
+    After checks, the connections will be resolved and inject any volumes, secrets, configMaps,
+    environment variables for your main container to function correctly.
+
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    >>>   connections: [connection1, connection2]
+    ```
+
+    ### volumes
+
+    A list of [Kubernetes Volumes](https://kubernetes.io/docs/concepts/storage/volumes/)
+    to resolve and mount for your services.
+
+    This is an advanced use-case where configuring a connection is not an option.
+
+    When you add a volume you need to mount it manually to your container(s).
+
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    >>>   volumes:
+    >>>     - name: volume1
+    >>>       persistentVolumeClaim:
+    >>>         claimName: pvc1
+    >>>   ...
+    >>>   container:
+    >>>     name: myapp-container
+    >>>     image: busybox:1.28
+    >>>     command: ['sh', '-c', 'echo custom init container']
+    >>>     volumeMounts:
+    >>>     - name: volume1
+    >>>       mountPath: /mnt/vol/path
+    ```
 
-     ### init
+    ### init
 
-     A list of [init handlers and containers](/docs/core/specification/init/)
-     to resolve for the service.
+    A list of [init handlers and containers](/docs/core/specification/init/)
+    to resolve for the service.
 
     <blockquote class="light">
      If you are referencing a connection it must be configured.
      All referenced connections will be checked:
 
-      * If they are accessible in the context of the project of this run
+     * If they are accessible in the context of the project of this run
 
-      * If the user running the operation can have access to those connections
-     </blockquote>
+     * If the user running the operation can have access to those connections
+    </blockquote>
 
-     ```yaml
-     >>> run:
-     >>>   kind: service
-     >>>   init:
-     >>>     - artifacts:
-     >>>         dirs: ["path/on/the/default/artifacts/store"]
-     >>>     - connection: gcs-large-datasets
-     >>>       artifacts:
-     >>>         dirs: ["data"]
-     >>>       container:
-     >>>         resources:
-     >>>           requests:
-     >>>             memory: "256Mi"
-     >>>             cpu: "500m"
-     >>>     - container:
-     >>>       name: myapp-container
-     >>>       image: busybox:1.28
-     >>>       command: ['sh', '-c', 'echo custom init container']
-     ```
-
-     ### sidecars
-
-
-     A list of [sidecar containers](/docs/core/specification/sidecars/)
-     that will used as sidecars.
-
-     ```yaml
-     >>> run:
-     >>>   kind: service
-     >>>   sidecars:
-     >>>     - name: sidecar2
-     >>>       image: busybox:1.28
-     >>>       command: ['sh', '-c', 'echo sidecar2']
-     >>>     - name: sidecar1
-     >>>       image: busybox:1.28
-     >>>       command: ['sh', '-c', 'echo sidecar1']
-     >>>       resources:
-     >>>         requests:
-     >>>           memory: "128Mi"
-     >>>           cpu: "500m"
-     ```
-
-     ### container
-
-     The [main Kubernetes Container](https://kubernetes.io/docs/concepts/containers/)
-     that will run your experiment training or data processing logic.
-
-     ```yaml
-     >>> run:
-     >>>   kind: service
-     >>>   container:
-     >>>     name: tensorflow:2.1
-     >>>     init:
-     >>>       - connection: my-tf-code-repo
-     >>>     command: ["python", "/plx-context/artifacts/my-tf-code-repo/model.py"]
-     ```
-
-     ### ports
-
-     The ports to expose for your service.
-
-     ```yaml
-     >>> run:
-     >>>   kind: service
-     >>>   ports: [6006]
-     ```
-
-     ### rewritePath
-
-     By default, Polyaxon exposes services with a base url following this pattern:
-      `/services/v1/namespace/owner/project/runs/uuid`
-
-     This default behavior works very well for Tensorboards and Notebooks,
-     but if you are exposing an API that doesn't handle base urls, you can enable
-     this option to rewrite the path and remove that part.
-
-     ```yaml
-     >>> run:
-     >>>   kind: service
-     >>>   rewritePath: true
-     ```
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    >>>   init:
+    >>>     - artifacts:
+    >>>         dirs: ["path/on/the/default/artifacts/store"]
+    >>>     - connection: gcs-large-datasets
+    >>>       artifacts:
+    >>>         dirs: ["data"]
+    >>>       container:
+    >>>         resources:
+    >>>           requests:
+    >>>             memory: "256Mi"
+    >>>             cpu: "500m"
+    >>>     - container:
+    >>>       name: myapp-container
+    >>>       image: busybox:1.28
+    >>>       command: ['sh', '-c', 'echo custom init container']
+    ```
+
+    ### sidecars
+
+
+    A list of [sidecar containers](/docs/core/specification/sidecars/)
+    that will used as sidecars.
+
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    >>>   sidecars:
+    >>>     - name: sidecar2
+    >>>       image: busybox:1.28
+    >>>       command: ['sh', '-c', 'echo sidecar2']
+    >>>     - name: sidecar1
+    >>>       image: busybox:1.28
+    >>>       command: ['sh', '-c', 'echo sidecar1']
+    >>>       resources:
+    >>>         requests:
+    >>>           memory: "128Mi"
+    >>>           cpu: "500m"
+    ```
+
+    ### container
+
+    The [main Kubernetes Container](https://kubernetes.io/docs/concepts/containers/)
+    that will run your experiment training or data processing logic.
+
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    >>>   container:
+    >>>     name: tensorflow:2.1
+    >>>     init:
+    >>>       - connection: my-tf-code-repo
+    >>>     command: ["python", "/plx-context/artifacts/my-tf-code-repo/model.py"]
+    ```
+
+    ### ports
+
+    The ports to expose for your service.
+
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    >>>   ports: [6006]
+    ```
+
+    ### rewritePath
+
+    By default, Polyaxon exposes services with a base url following this pattern:
+     `/services/v1/namespace/owner/project/runs/uuid`
+
+    This default behavior works very well for Tensorboards and Notebooks,
+    but if you are exposing an API that doesn't handle base urls, you can enable
+    this option to rewrite the path and remove that part.
+
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    >>>   rewritePath: true
+    ```
+
+    ### isExternal
+
+    By default, Polyaxon will control access to services with the built-in auth mechanism.
+
+    If you need to expose a service without controlling authZ & authN, you can enable this flag.
+
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    >>>   isExternal: true
+    ```
+
+    ### replicas
+
+    All services are provisioned with one replica by default.
+
+    This default behavior works very well for Tensorboards, Notebooks,
+    and other small service app and dashboards.
+    In some cases, and especially in the case of external service,
+    you might need to provision more than a single replica,
+    you can set the required number of replicas with this field.
+
+    ```yaml
+    >>> run:
+    >>>   kind: service
+    >>>   replicas: 3
+    ```
     """
 
-    SCHEMA = ServiceSchema
-    IDENTIFIER = V1RunKind.SERVICE
-    REDUCED_ATTRIBUTES = [
-        "kind",
-        "environment",
-        "volumes",
-        "connections",
-        "init",
-        "sidecars",
-        "container",
-        "ports",
-        "rewritePath",
-    ]
+    _IDENTIFIER = V1RunKind.SERVICE
+    _SWAGGER_FIELDS = ["volumes", "sidecars", "container"]
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    environment: Optional[Union[V1Environment, RefField]]
+    connections: Optional[Union[List[StrictStr], RefField]]
+    volumes: Optional[Union[List[k8s_schemas.V1Volume], RefField]]
+    init: Optional[Union[List[V1Init], RefField]]
+    sidecars: Optional[Union[List[k8s_schemas.V1Container], RefField]]
+    container: Optional[Union[k8s_schemas.V1Container, RefField]]
+    ports: Optional[Union[List[StrictInt], RefField]]
+    rewrite_path: Optional[BoolOrRef] = Field(alias="rewritePath")
+    is_external: Optional[BoolOrRef] = Field(alias="isExternal")
+    replicas: Optional[IntOrRef]
+
+    @validator("volumes", always=True, pre=True)
+    def validate_volumes(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_volume(vi) for vi in v]
+
+    @validator("sidecars", always=True, pre=True)
+    def validate_helper_containers(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_container(vi) for vi in v]
+
+    @validator("container", always=True, pre=True)
+    def validate_container(cls, v):
+        return k8s_validation.validate_k8s_container(v)
 
     def get_resources(self):
         return V1RunResources.from_container(self.container)
+
+    def get_all_containers(self):
+        return [self.container] if self.container else []
+
+    def get_all_connections(self):
+        return self.connections or []
+
+    def get_all_init(self):
+        return self.init or []
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/spark/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/spark/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/spark/replica.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/spark/replica.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,52 +1,34 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional, Union
 
-import polyaxon_sdk
+from pydantic import StrictInt, validator
 
-from marshmallow import fields
+from polyaxon.k8s import k8s_schemas, k8s_validation
+from polyaxon.polyflow.environment import V1Environment
+from polyaxon.polyflow.init import V1Init
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields import RefField
 
-from polyaxon.containers.names import MAIN_JOB_CONTAINER
-from polyaxon.k8s import k8s_schemas
-from polyaxon.polyflow.environment import EnvironmentSchema
-from polyaxon.polyflow.init import InitSchema
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.swagger import SwaggerField
-
-
-class SparkReplicaSchema(BaseCamelSchema):
-    replicas = fields.Int(allow_none=True)
-    environment = fields.Nested(EnvironmentSchema, allow_none=True)
-    init = fields.List(fields.Nested(InitSchema), allow_none=True)
-    sidecars = fields.List(SwaggerField(cls=k8s_schemas.V1Container), allow_none=True)
-    container = SwaggerField(
-        cls=k8s_schemas.V1Container,
-        defaults={"name": MAIN_JOB_CONTAINER},
-        allow_none=True,
-    )
-
-    @staticmethod
-    def schema_config():
-        return V1SparkReplica
 
-
-class V1SparkReplica(BaseConfig, polyaxon_sdk.V1SparkReplica):
+class V1SparkReplica(BaseSchemaModel):
     """Spark replica is the specification for a Spark executor or driver.
 
     Args:
         replicas: str, int
         environment: [V1Environment](/docs/core/specification/environment/), optional
         init: List[[V1Init](/docs/core/specification/init/)], optional
         sidecars: List[[sidecar containers](/docs/core/specification/sidecars/)], optional
@@ -175,16 +157,25 @@
     >>>     name: tensorflow:2.1
     >>>     init:
     >>>       - connection: my-tf-code-repo
     >>>     command: ["python", "/plx-context/artifacts/my-tf-code-repo/model.py"]
     ```
     """
 
-    SCHEMA = SparkReplicaSchema
-    IDENTIFIER = "replica"
-    REDUCED_ATTRIBUTES = [
-        "replicas",
-        "environment",
-        "init",
-        "sidecars",
-        "container",
-    ]
+    _IDENTIFIER = "replica"
+    _SWAGGER_FIELDS = ["sidecars", "container"]
+
+    replicas: Optional[StrictInt]
+    environment: Optional[Union[V1Environment, RefField]]
+    init: Optional[Union[List[V1Init], RefField]]
+    sidecars: Optional[Union[List[k8s_schemas.V1Container], RefField]]
+    container: Optional[Union[k8s_schemas.V1Container, RefField]]
+
+    @validator("sidecars", always=True, pre=True)
+    def validate_helper_containers(cls, v):
+        if not v:
+            return v
+        return [k8s_validation.validate_k8s_container(vi) for vi in v]
+
+    @validator("container", always=True, pre=True)
+    def validate_container(cls, v):
+        return k8s_validation.validate_k8s_container(v)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/spark/spark.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/spark/spark.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,70 +1,49 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, List, Optional, Union
+from typing_extensions import Literal
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
+from clipped.enums_utils import PEnum
+from pydantic import Field, StrictStr
 
 from polyaxon.k8s import k8s_schemas
+from polyaxon.polyflow.run.base import BaseRun
 from polyaxon.polyflow.run.kinds import V1RunKind
-from polyaxon.polyflow.run.spark.replica import SparkReplicaSchema
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.swagger import SwaggerField
-
-
-class V1SparkType(polyaxon_sdk.V1SparkType):
-    pass
+from polyaxon.polyflow.run.spark.replica import V1SparkReplica
+from polyaxon.schemas.fields import RefField
 
 
-class V1SparkDeploy(polyaxon_sdk.SparkDeployMode):
-    pass
+class V1SparkType(str, PEnum):
+    JAVA = "java"
+    SCALA = "scala"
+    PYTHON = "python"
+    R = "r"
 
 
-class SparkSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1RunKind.SPARK))
-    connections = fields.List(fields.Str(), allow_none=True)
-    volumes = fields.List(SwaggerField(cls=k8s_schemas.V1Volume), allow_none=True)
-    type = fields.Str(
-        allow_none=True, validate=validate.OneOf(V1SparkType.allowable_values)
-    )
-    spark_version = fields.Str(allow_none=True)
-    python_version = fields.Str(
-        allow_none=True, validate=validate.OneOf(V1SparkDeploy.allowable_values)
-    )
-    deploy_mode = fields.Str(allow_none=True)
-    main_class = fields.Str(allow_none=True)
-    main_application_file = fields.Str(allow_none=True)
-    arguments = fields.List(fields.Str(), allow_none=True)
-    hadoop_conf = fields.Dict(keys=fields.Str(), values=fields.Str(), allow_none=True)
-    spark_conf = fields.Dict(keys=fields.Str(), values=fields.Str(), allow_none=True)
-    hadoop_config_map = fields.Str(allow_none=True)
-    spark_config_map = fields.Str(allow_none=True)
-    executor = fields.Nested(SparkReplicaSchema, allow_none=True)
-    driver = fields.Nested(SparkReplicaSchema, allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1Spark
+class V1SparkDeploy(str, PEnum):
+    CLUSTER = "cluster"
+    CLIENT = "client"
+    IN_CLUSTER_CLIENT = "in_cluster_client"
 
 
-class V1Spark(BaseConfig, polyaxon_sdk.V1Spark):
+class V1Spark(BaseRun):
     """Spark jobs are used to run Spark applications on Kubernetes.
 
     [Apache Spark](https://spark.apache.org/) is data-processing engine.
 
     Args:
         kind: str, should be equal `spark`
         connections: List[str], optional
@@ -318,27 +297,36 @@
     >>>   driver:
     >>>     replicas: 1
     >>>     ...
     >>>   ...
     ```
     """
 
-    SCHEMA = SparkSchema
-    IDENTIFIER = V1RunKind.SPARK
-    REDUCED_ATTRIBUTES = [
-        "kind",
-        "connections",
+    _IDENTIFIER = V1RunKind.SPARK
+    _SWAGGER_FIELDS = [
         "volumes",
-        "type",
-        "sparkVersion",
-        "pythonVersion",
-        "deployMode",
-        "mainClass",
-        "mainApplicationFile",
-        "arguments",
-        "hadoopConf",
-        "sparkConf",
-        "sparkConfigMap",
-        "hadoopConfigMap",
-        "executor",
-        "driver",
     ]
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    connections: Optional[Union[List[StrictStr], RefField]]
+    volumes: Optional[Union[List[k8s_schemas.V1Volume], RefField]]
+    type: Optional[V1SparkType]
+    spark_version: Optional[StrictStr] = Field(alias="sparkVersion")
+    python_version: Optional[StrictStr] = Field(alias="pythonVersion")
+    deploy_mode: Optional[V1SparkDeploy] = Field(alias="deployMode")
+    main_class: Optional[StrictStr] = Field(alias="mainClass")
+    main_application_file: Optional[StrictStr] = Field(alias="mainApplicationFile")
+    arguments: Optional[Union[List[StrictStr], RefField]]
+    hadoop_conf: Optional[Union[Dict[StrictStr, StrictStr], RefField]] = Field(
+        alias="hadoopConf"
+    )
+    spark_conf: Optional[Union[Dict[StrictStr, StrictStr], RefField]] = Field(
+        alias="sparkConf"
+    )
+    hadoop_config_map: Optional[Union[Dict[StrictStr, StrictStr], RefField]] = Field(
+        alias="hadoopConfigMap"
+    )
+    spark_config_map: Optional[Union[Dict[StrictStr, StrictStr], RefField]] = Field(
+        alias="sparkConfigMap"
+    )
+    executor: Optional[Union[V1SparkReplica, RefField]]
+    driver: Optional[Union[V1SparkReplica, RefField]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/tuner.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_events_response.py`

 * *Files 21% similar despite different names*

```diff
@@ -1,33 +1,22 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Any, Dict, List, Optional
 
-from marshmallow import fields, validate
+from polyaxon.schemas.base import BaseSchemaModel
 
-from polyaxon.polyflow.run.job import JobSchema, V1Job
-from polyaxon.polyflow.run.kinds import V1RunKind
 
-
-class TunerJobSchema(JobSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1RunKind.TUNER))
-
-    @staticmethod
-    def schema_config():
-        return V1TunerJob
-
-
-class V1TunerJob(V1Job):
-    SCHEMA = TunerJobSchema
-    IDENTIFIER = V1RunKind.TUNER
+class V1EventsResponse(BaseSchemaModel):
+    data: Optional[List[Dict[str, Any]]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/run/utils.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/utils.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/schedules/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/schedules/__init__.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,54 +1,46 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Union
+from typing_extensions import Annotated
 
-from polyaxon.polyflow.schedules.cron import CronScheduleSchema, V1CronSchedule
-from polyaxon.polyflow.schedules.datetime import (
-    DateTimeScheduleSchema,
-    V1DateTimeSchedule,
-)
-from polyaxon.polyflow.schedules.interval import (
-    IntervalScheduleSchema,
-    V1IntervalSchedule,
-)
-from polyaxon.polyflow.schedules.kinds import V1ScheduleKind
-from polyaxon.schemas.base import BaseOneOfSchema
+from pydantic import Field
 
+from polyaxon.polyflow.schedules.cron import V1CronSchedule
+from polyaxon.polyflow.schedules.datetime import V1DateTimeSchedule
+from polyaxon.polyflow.schedules.interval import V1IntervalSchedule
+from polyaxon.polyflow.schedules.kinds import V1ScheduleKind
 
-class ScheduleSchema(BaseOneOfSchema):
-    TYPE_FIELD = "kind"
-    TYPE_FIELD_REMOVE = False
-    SCHEMAS = {
-        V1IntervalSchedule.IDENTIFIER: IntervalScheduleSchema,
-        V1CronSchedule.IDENTIFIER: CronScheduleSchema,
-        V1DateTimeSchedule.IDENTIFIER: DateTimeScheduleSchema,
-    }
+V1Schedule = Annotated[
+    Union[V1IntervalSchedule, V1CronSchedule, V1DateTimeSchedule],
+    Field(discriminator="kind"),
+]
 
 
 class ScheduleMixin:
     def get_schedule_kind(self):
         raise NotImplementedError
 
     @property
     def has_interval_schedule(self):
-        return self.get_schedule_kind() == V1IntervalSchedule.IDENTIFIER
+        return self.get_schedule_kind() == V1IntervalSchedule._IDENTIFIER
 
     @property
     def has_cron_schedule(self):
-        return self.get_schedule_kind() == V1CronSchedule.IDENTIFIER
+        return self.get_schedule_kind() == V1CronSchedule._IDENTIFIER
 
     @property
     def has_datetime_schedule(self):
-        return self.get_schedule_kind() == V1DateTimeSchedule.IDENTIFIER
+        return self.get_schedule_kind() == V1DateTimeSchedule._IDENTIFIER
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/schedules/cron.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/schedules/cron.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,45 +1,33 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
+from typing_extensions import Literal
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
+from pydantic import Field, StrictStr
 
 from polyaxon.polyflow.schedules.kinds import V1ScheduleKind
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-
-
-class CronScheduleSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1ScheduleKind.CRON))
-    start_at = fields.DateTime(allow_none=True)
-    end_at = fields.DateTime(allow_none=True)
-    cron = fields.String(required=True)
-    max_runs = fields.Int(allow_none=True, validate=validate.Range(min=1))
-    depends_on_past = fields.Bool(allow_none=True)
+from polyaxon.schemas.base import BaseDiscriminatedModel
+from polyaxon.schemas.fields.ref_or_obj import BoolOrRef, DatetimeOrRef, IntOrRef
 
-    @staticmethod
-    def schema_config():
-        return V1CronSchedule
 
-
-class V1CronSchedule(BaseConfig, polyaxon_sdk.V1CronSchedule):
+class V1CronSchedule(BaseDiscriminatedModel):
     """Cron schedules is an interface to trigger components repeatedly using a cron definition.
 
     Args:
         kind: str, should be equal to `cron`
         start_at: datetime, optional
         end_at: datetime, optional
         max_runs: int, optional
@@ -132,10 +120,15 @@
 
     ```yaml
     >>> run:
     >>>   dependsOnPast: true
     ```
     """
 
-    SCHEMA = CronScheduleSchema
-    IDENTIFIER = V1ScheduleKind.CRON
-    REDUCED_ATTRIBUTES = ["startAt", "endAt", "maxRuns", "dependsOnPast"]
+    _IDENTIFIER = V1ScheduleKind.CRON
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    cron: StrictStr
+    start_at: Optional[DatetimeOrRef] = Field(alias="startAt")
+    end_at: Optional[DatetimeOrRef] = Field(alias="endAt")
+    max_runs: Optional[IntOrRef] = Field(alias="maxRuns")
+    depends_on_past: Optional[BoolOrRef] = Field(alias="dependsOnPast")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/schedules/datetime.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/schedules/datetime.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,41 +1,32 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing_extensions import Literal
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
+from pydantic import Field
 
 from polyaxon.polyflow.schedules.kinds import V1ScheduleKind
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-
-
-class DateTimeScheduleSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1ScheduleKind.DATETIME))
-    start_at = fields.DateTime(required=True)
+from polyaxon.schemas.base import BaseDiscriminatedModel
+from polyaxon.schemas.fields.ref_or_obj import DatetimeOrRef
 
-    @staticmethod
-    def schema_config():
-        return V1DateTimeSchedule
 
-
-class V1DateTimeSchedule(BaseConfig, polyaxon_sdk.V1DateTimeSchedule):
+class V1DateTimeSchedule(BaseDiscriminatedModel):
     """Date schedule is an interface to kick a component execution at a specific time.
 
     Args:
         kind: str, should be equal to `datetime`
         start_at: datetime, required
 
     ## YAML usage
@@ -78,16 +69,18 @@
 
     ```yaml
     >>> run:
     >>>   startAt: "2019-06-24T21:20:07+00:00"
     ```
     """
 
-    SCHEMA = DateTimeScheduleSchema
-    IDENTIFIER = V1ScheduleKind.DATETIME
+    _IDENTIFIER = V1ScheduleKind.DATETIME
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    start_at: DatetimeOrRef = Field(alias="startAt")
 
     @property
     def max_runs(self):
         return 0
 
     @property
     def end_at(self):
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/schedules/interval.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/schedules/interval.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,45 +1,38 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
+from typing_extensions import Literal
 
-import polyaxon_sdk
-
-from marshmallow import fields, validate
+from pydantic import Field
 
 from polyaxon.polyflow.schedules.kinds import V1ScheduleKind
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-
-
-class IntervalScheduleSchema(BaseCamelSchema):
-    kind = fields.Str(allow_none=True, validate=validate.Equal(V1ScheduleKind.INTERVAL))
-    start_at = fields.DateTime(allow_none=True)
-    end_at = fields.DateTime(allow_none=True)
-    frequency = fields.TimeDelta(required=True, precision=fields.TimeDelta.SECONDS)
-    max_runs = fields.Int(allow_none=True, validate=validate.Range(min=1))
-    depends_on_past = fields.Bool(allow_none=True)
+from polyaxon.schemas.base import BaseDiscriminatedModel
+from polyaxon.schemas.fields.ref_or_obj import (
+    BoolOrRef,
+    DatetimeOrRef,
+    IntOrRef,
+    TimeDeltaOrRef,
+)
 
-    @staticmethod
-    def schema_config():
-        return V1IntervalSchedule
 
-
-class V1IntervalSchedule(BaseConfig, polyaxon_sdk.V1IntervalSchedule):
+class V1IntervalSchedule(BaseDiscriminatedModel):
     """Interval schedules is an interface to trigger components following a frequency.
 
     Args:
         kind: str, should be equal to `interval`
         start_at: datetime, optional
         end_at: datetime, optional
         max_runs: int, optional
@@ -136,10 +129,15 @@
 
     ```yaml
     >>> run:
     >>>   dependsOnPast: true
     ```
     """
 
-    SCHEMA = IntervalScheduleSchema
-    IDENTIFIER = V1ScheduleKind.INTERVAL
-    REDUCED_ATTRIBUTES = ["startAt", "endAt", "maxRuns", "dependsOnPast"]
+    _IDENTIFIER = V1ScheduleKind.INTERVAL
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    start_at: Optional[DatetimeOrRef] = Field(alias="startAt")
+    end_at: Optional[DatetimeOrRef] = Field(alias="endAt")
+    max_runs: Optional[IntOrRef] = Field(alias="maxRuns")
+    frequency: TimeDeltaOrRef
+    depends_on_past: Optional[BoolOrRef] = Field(alias="dependsOnPast")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/schedules/kinds.py` & `polyaxon-2.0.0rc0/polyaxon/services/ephemeral.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,21 +1,21 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import polyaxon_sdk
 
+class EphemeralServices:
+    RUNNER = "runner"
 
-class V1ScheduleKind(polyaxon_sdk.V1ScheduleKind):
-    pass
+    VALUES = [RUNNER]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/templates/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/templates/__init__.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,41 +1,31 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional, Union
 
-import polyaxon_sdk
+from pydantic import StrictStr
 
-from marshmallow import fields
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields.ref_or_obj import BoolOrRef, RefField
 
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
 
-
-class TemplateSchema(BaseCamelSchema):
-    enabled = fields.Bool(allow_none=True)
-    description = fields.Str(allow_none=True)
-    fields = fields.List(fields.Str(), allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1Template
-
-
-class V1Template(BaseConfig, polyaxon_sdk.V1Template):
+class V1Template(BaseSchemaModel):
     """A template is way for users to define
     specifications (components/operations) and signal to the CLI/API
     that they are not executable without modification.
 
     Oftentimes, a user might create a component or an operation that depends on a connection,
     if the user decides to share this specification they will have to face two choices:
      * Remove the connection, other users will be wondering why the specification does not work.
@@ -99,25 +89,21 @@
 
     ```yaml
     >>> template:
     >>>   fields: ["environment.annotations", "environment.labels"]
     ```
     """
 
-    IDENTIFIER = "template"
-    SCHEMA = TemplateSchema
-    REDUCED_ATTRIBUTES = ["enabled", "description", "fields"]
-
-
-class TemplateMixinSchema(BaseCamelSchema):
-    template = fields.Nested(TemplateSchema, allow_none=True)
+    _IDENTIFIER = "template"
 
+    enabled: Optional[BoolOrRef]
+    description: Optional[StrictStr]
+    fields: Optional[Union[List[StrictStr], RefField]]
 
-class TemplateMixinConfig(BaseConfig):
-    REDUCED_ATTRIBUTES = ["template"]
 
+class TemplateMixinConfig:
     def disable_template(self):
         if self.is_template():
             self.template.enabled = False
 
     def is_template(self):
         return self.template and self.template.enabled
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyflow/termination/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/termination/__init__.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,42 +1,31 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-import polyaxon_sdk
+from pydantic import Field
 
-from marshmallow import fields
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields.ref_or_obj import IntOrRef
 
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
 
-
-class TerminationSchema(BaseCamelSchema):
-    max_retries = RefOrObject(fields.Int(allow_none=True))
-    ttl = RefOrObject(fields.Int(allow_none=True))
-    timeout = RefOrObject(fields.Int(allow_none=True))
-
-    @staticmethod
-    def schema_config():
-        return V1Termination
-
-
-class V1Termination(BaseConfig, polyaxon_sdk.V1Termination):
+class V1Termination(BaseSchemaModel):
     """The termination section allows to define and control when
     to stop an operation and how long to keep its resources on the cluster.
 
     Args:
         max_retries: int, optional
         ttl: int, optional
         timeout: int, optional
@@ -119,10 +108,12 @@
 
     ```yaml
     >>> termination:
     >>>   timeout: 1000
     ```
     """
 
-    IDENTIFIER = "termination"
-    SCHEMA = TerminationSchema
-    REDUCED_ATTRIBUTES = ["maxRetries", "timeout", "ttl"]
+    _IDENTIFIER = "termination"
+
+    max_retries: Optional[IntOrRef] = Field(alias="maxRetries")
+    ttl: Optional[IntOrRef]
+    timeout: Optional[IntOrRef]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polyplot/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyboard/events.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,16 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from polyaxon.polyplot.run_plot import MultiRunPlot, RunPlot
+
+# To keep backwards compatibility
+
+from traceml.events import *
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/common/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/common/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/common/accelerators.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/common/accelerators.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/common/constants.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/common/constants.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -16,12 +16,12 @@
 
 DEFAULT_PORT = 2222
 ENV_VAR_TEMPLATE = '{name: "{var_name}", value: "{var_value}"}'
 VOLUME_CLAIM_NAME = "plx-pvc-{vol_name}"
 CONFIG_MAP_NAME = "plx-config-{uuid}"
 SECRET_NAME = "plx-secret-{uuid}"  # noqa, secret
 
-CONTEXT_VOLUME_DOCKER = "docker"
-CONTEXT_VOLUME_SHM = "shm"
-CONTEXT_VOLUME_CONFIGS = "configs-context"
-CONTEXT_VOLUME_ARTIFACTS = "artifacts-context"
-CONTEXT_VOLUME_CONNECTIONS_FORMAT = "connections-context-{}"
+VOLUME_MOUNT_DOCKER = "docker"
+VOLUME_MOUNT_SHM = "shm"
+VOLUME_MOUNT_CONFIGS = "configs-context"
+VOLUME_MOUNT_ARTIFACTS = "artifacts-context"
+VOLUME_MOUNT_CONNECTIONS_FORMAT = "connections-context-{}"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/common/container_resources.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/common/container_resources.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/common/containers.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/common/containers.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,45 +1,46 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from collections.abc import Mapping
-from typing import Dict, List
+from typing import Dict, List, Optional
+
+from clipped.list_utils import to_list
+from clipped.sanitizers import sanitize_value
 
 from polyaxon.containers.names import generate_container_name
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polypod.common.container_resources import sanitize_resources
-from polyaxon.utils.list_utils import to_list
-from polyaxon.utils.sanitizers import sanitize_value
 
 
 def patch_container(
     container: k8s_schemas.V1Container,
-    name: str = None,
-    command: List[str] = None,
-    args: List[str] = None,
-    image: str = None,
-    image_pull_policy: str = None,
-    env: List[k8s_schemas.V1EnvVar] = None,
-    env_from: List[k8s_schemas.V1EnvFromSource] = None,
-    volume_mounts: List[k8s_schemas.V1VolumeMount] = None,
-    ports: List[k8s_schemas.V1ContainerPort] = None,
-    resources: k8s_schemas.V1ResourceRequirements = None,
+    name: Optional[str] = None,
+    command: Optional[List[str]] = None,
+    args: Optional[List[str]] = None,
+    image: Optional[str] = None,
+    image_pull_policy: Optional[str] = None,
+    env: Optional[List[k8s_schemas.V1EnvVar]] = None,
+    env_from: Optional[List[k8s_schemas.V1EnvFromSource]] = None,
+    volume_mounts: Optional[List[k8s_schemas.V1VolumeMount]] = None,
+    ports: Optional[List[k8s_schemas.V1ContainerPort]] = None,
+    resources: Optional[k8s_schemas.V1ResourceRequirements] = None,
 ) -> k8s_schemas.V1Container:
     container.name = sanitize_container_name(name or container.name)
     container.env = to_list(container.env, check_none=True) + to_list(
         env, check_none=True
     )
     container.env_from = to_list(container.env_from, check_none=True) + to_list(
         env_from, check_none=True
@@ -47,15 +48,15 @@
     container.volume_mounts = to_list(
         container.volume_mounts, check_none=True
     ) + to_list(volume_mounts, check_none=True)
     container.ports = to_list(container.ports, check_none=True) + to_list(
         ports, check_none=True
     )
     container.resources = container.resources or resources
-    container.image_pull_policy = container.image_pull_policy or image_pull_policy
+    container._image_pull_policy = container.image_pull_policy or image_pull_policy
     container.image = container.image or image
 
     if not any([container.command, container.args]):
         container.command = command
         container.args = args
 
     return sanitize_container(container)
@@ -63,15 +64,15 @@
 
 def sanitize_container_name(name: str) -> str:
     name = name.replace("_", "-")
     return name.lower()
 
 
 def ensure_container_name(
-    container: k8s_schemas.V1Container, prefix: str = None
+    container: k8s_schemas.V1Container, prefix: Optional[str] = None
 ) -> k8s_schemas.V1Container:
     if not container:
         return container
 
     name = container.name
     if not name:
         container.name = generate_container_name(prefix=prefix)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/common/env_vars.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/common/env_vars.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,45 +1,50 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import json
+import os
 
 from typing import Any, Iterable, List, Optional
 
+from clipped.enums_utils import get_enum_value
+from clipped.list_utils import to_list
+
 from polyaxon.connections.reader import (
     get_connection_context_path_env_name,
     get_connection_schema_env_name,
 )
 from polyaxon.env_vars.keys import (
-    POLYAXON_KEYS_API_VERSION,
-    POLYAXON_KEYS_AUTH_TOKEN,
-    POLYAXON_KEYS_AUTHENTICATION_TYPE,
-    POLYAXON_KEYS_HEADER,
-    POLYAXON_KEYS_HEADER_SERVICE,
-    POLYAXON_KEYS_HOST,
-    POLYAXON_KEYS_IS_MANAGED,
-    POLYAXON_KEYS_K8S_NAMESPACE,
-    POLYAXON_KEYS_K8S_NODE_NAME,
-    POLYAXON_KEYS_K8S_POD_ID,
-    POLYAXON_KEYS_RUN_INSTANCE,
-    POLYAXON_KEYS_SECRET_INTERNAL_TOKEN,
-    POLYAXON_KEYS_SECRET_KEY,
+    EV_KEYS_API_VERSION,
+    EV_KEYS_AUTH_TOKEN,
+    EV_KEYS_AUTHENTICATION_TYPE,
+    EV_KEYS_HEADER,
+    EV_KEYS_HEADER_SERVICE,
+    EV_KEYS_HOST,
+    EV_KEYS_IS_MANAGED,
+    EV_KEYS_K8S_NAMESPACE,
+    EV_KEYS_K8S_NODE_NAME,
+    EV_KEYS_K8S_POD_ID,
+    EV_KEYS_LOG_LEVEL,
+    EV_KEYS_RUN_INSTANCE,
+    EV_KEYS_SECRET_INTERNAL_TOKEN,
+    EV_KEYS_SECRET_KEY,
 )
 from polyaxon.exceptions import PolypodException
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polypod.common.accelerators import requests_gpu
 from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
 from polyaxon.services.headers import PolyaxonServiceHeaders
 
@@ -115,39 +120,39 @@
     )
     value_from = k8s_schemas.V1EnvVarSource(secret_key_ref=secret_key_ref)
     return k8s_schemas.V1EnvVar(name=key_name, value_from=value_from)
 
 
 def get_items_from_secret(secret: V1K8sResourceType) -> List[k8s_schemas.V1EnvVar]:
     items_from = []
-    if not secret or not secret.schema.items or secret.schema.mount_path:
+    if not secret or not secret.schema_.items or secret.schema_.mount_path:
         return items_from
 
-    for item in secret.schema.items:
+    for item in secret.schema_.items:
         items_from.append(
             get_from_secret(
-                key_name=item, secret_key_name=item, secret_ref_name=secret.schema.name
+                key_name=item, secret_key_name=item, secret_ref_name=secret.schema_.name
             )
         )
     return items_from
 
 
 def get_items_from_config_map(
     config_map: V1K8sResourceType,
 ) -> List[k8s_schemas.V1EnvVar]:
     items_from = []
-    if not config_map or not config_map.schema.items:
+    if not config_map or not config_map.schema_.items:
         return items_from
 
-    for item in config_map.schema.items:
+    for item in config_map.schema_.items:
         items_from.append(
             get_from_config_map(
                 key_name=item,
                 config_map_key_name=item,
-                config_map_ref_name=config_map.schema.name,
+                config_map_ref_name=config_map.schema_.name,
             )
         )
     return items_from
 
 
 def get_from_field_ref(name: str, field_path: str) -> k8s_schemas.V1EnvVar:
     field_ref = k8s_schemas.V1ObjectFieldSelector(field_path=field_path)
@@ -169,35 +174,35 @@
 
     return env_vars
 
 
 def get_env_from_secret(
     secret: V1K8sResourceType,
 ) -> Optional[k8s_schemas.V1EnvFromSource]:
-    if not secret or secret.schema.items or secret.schema.mount_path:
+    if not secret or secret.schema_.items or secret.schema_.mount_path:
         return None
 
-    return k8s_schemas.V1EnvFromSource(secret_ref={"name": secret.schema.name})
+    return k8s_schemas.V1EnvFromSource(secret_ref={"name": secret.schema_.name})
 
 
 def get_env_from_secrets(
     secrets: Iterable[V1K8sResourceType],
 ) -> List[k8s_schemas.V1EnvFromSource]:
     secrets = secrets or []
     results = [get_env_from_secret(secret=secret) for secret in secrets]
     return [r for r in results if r]
 
 
 def get_env_from_config_map(
     config_map: V1K8sResourceType,
 ) -> Optional[k8s_schemas.V1EnvFromSource]:
-    if not config_map or config_map.schema.items or config_map.schema.mount_path:
+    if not config_map or config_map.schema_.items or config_map.schema_.mount_path:
         return None
 
-    return k8s_schemas.V1EnvFromSource(config_map_ref={"name": config_map.schema.name})
+    return k8s_schemas.V1EnvFromSource(config_map_ref={"name": config_map.schema_.name})
 
 
 def get_env_from_config_maps(
     config_maps: Iterable[V1K8sResourceType],
 ) -> List[k8s_schemas.V1EnvFromSource]:
     config_maps = config_maps or []
     results = [
@@ -214,109 +219,160 @@
 
     env_vars = []
     env_vars += get_env_from_secrets(secrets=secrets)
     env_vars += get_env_from_config_maps(config_maps=config_maps)
     return env_vars
 
 
-def get_base_env_vars():
-    return [
-        get_from_field_ref(
-            name=POLYAXON_KEYS_K8S_NODE_NAME, field_path="spec.nodeName"
-        ),
-        get_from_field_ref(
-            name=POLYAXON_KEYS_K8S_NAMESPACE, field_path="metadata.namespace"
-        ),
-        get_from_field_ref(name=POLYAXON_KEYS_K8S_POD_ID, field_path="metadata.name"),
+def get_base_env_vars(
+    use_proxy_env_vars_use_in_ops: bool, log_level: Optional[str] = None
+):
+    env = [
+        get_from_field_ref(name=EV_KEYS_K8S_NODE_NAME, field_path="spec.nodeName"),
+        get_from_field_ref(name=EV_KEYS_K8S_NAMESPACE, field_path="metadata.namespace"),
+        get_from_field_ref(name=EV_KEYS_K8S_POD_ID, field_path="metadata.name"),
     ]
+    if log_level:
+        env.append(get_env_var(name=EV_KEYS_LOG_LEVEL, value=log_level))
+    env += get_proxy_env_vars(use_proxy_env_vars_use_in_ops)
+    return env
 
 
 def get_service_env_vars(
     header: str,
     service_header: str,
     include_secret_key: bool,
     include_internal_token: bool,
     include_agent_token: bool,
     authentication_type: str,
     polyaxon_default_secret_ref: str,
     polyaxon_agent_secret_ref: str,
     api_host: str,
     api_version: str,
     run_instance: str,
+    use_proxy_env_vars_use_in_ops: bool,
+    log_level: str,
 ) -> List[k8s_schemas.V1EnvVar]:
-    env_vars = get_base_env_vars() + [
-        get_env_var(name=POLYAXON_KEYS_HOST, value=api_host),
-        get_env_var(name=POLYAXON_KEYS_IS_MANAGED, value=True),
-        get_env_var(name=POLYAXON_KEYS_API_VERSION, value=api_version),
+    env_vars = get_base_env_vars(use_proxy_env_vars_use_in_ops) + [
+        get_env_var(name=EV_KEYS_HOST, value=api_host),
+        get_env_var(name=EV_KEYS_IS_MANAGED, value=True),
+        get_env_var(name=EV_KEYS_API_VERSION, value=api_version),
         get_run_instance_env_var(run_instance),
     ]
+    if log_level:
+        env_vars.append(get_env_var(name=EV_KEYS_LOG_LEVEL, value=log_level))
     if header:
         env_vars.append(
             get_env_var(
-                name=POLYAXON_KEYS_HEADER,
+                name=EV_KEYS_HEADER,
                 value=PolyaxonServiceHeaders.get_header(header),
             )
         )
     if service_header:
         env_vars.append(
-            get_env_var(name=POLYAXON_KEYS_HEADER_SERVICE, value=service_header)
+            get_env_var(
+                name=EV_KEYS_HEADER_SERVICE, value=get_enum_value(service_header)
+            )
         )
     if include_secret_key:
         env_vars.append(
             get_from_secret(
-                key_name=POLYAXON_KEYS_SECRET_KEY,
-                secret_key_name=POLYAXON_KEYS_SECRET_KEY,
+                key_name=EV_KEYS_SECRET_KEY,
+                secret_key_name=EV_KEYS_SECRET_KEY,
                 secret_ref_name=polyaxon_default_secret_ref,
             )
         )
     internal = False
     if include_internal_token and polyaxon_default_secret_ref:
         internal = True
         env_vars.append(
             get_from_secret(
-                POLYAXON_KEYS_SECRET_INTERNAL_TOKEN,
-                POLYAXON_KEYS_SECRET_INTERNAL_TOKEN,
+                EV_KEYS_SECRET_INTERNAL_TOKEN,
+                EV_KEYS_SECRET_INTERNAL_TOKEN,
                 secret_ref_name=polyaxon_default_secret_ref,
             )
         )
     if include_agent_token and polyaxon_agent_secret_ref:
         if internal:
             raise PolypodException(
                 "A service cannot have internal token and agent token."
             )
         env_vars.append(
             get_from_secret(
-                POLYAXON_KEYS_AUTH_TOKEN,
-                POLYAXON_KEYS_AUTH_TOKEN,
+                EV_KEYS_AUTH_TOKEN,
+                EV_KEYS_AUTH_TOKEN,
                 secret_ref_name=polyaxon_agent_secret_ref,
             )
         )
     if authentication_type:
         env_vars.append(
-            get_env_var(
-                name=POLYAXON_KEYS_AUTHENTICATION_TYPE, value=authentication_type
-            )
+            get_env_var(name=EV_KEYS_AUTHENTICATION_TYPE, value=authentication_type)
         )
     return env_vars
 
 
 def get_run_instance_env_var(run_instance: str) -> k8s_schemas.V1EnvVar:
-    return get_env_var(name=POLYAXON_KEYS_RUN_INSTANCE, value=run_instance)
+    return get_env_var(name=EV_KEYS_RUN_INSTANCE, value=run_instance)
 
 
 def get_connection_env_var(
     connection: V1ConnectionType, secret: Optional[V1K8sResourceType]
 ):
     env_vars = []
     if not connection:
         return env_vars
 
     connection_schema_env_name = get_connection_schema_env_name(connection.name)
     env_vars = [get_env_var(connection_schema_env_name, connection.to_dict())]
 
-    if not secret or not secret.schema.mount_path:
+    if connection.env:
+        env_vars += to_list(connection.env, check_none=True)
+
+    if not secret or not secret.schema_.mount_path:
         return env_vars
 
     context_secret_env_name = get_connection_context_path_env_name(connection.name)
-    env_vars += [get_env_var(context_secret_env_name, secret.schema.mount_path)]
+    env_vars += [get_env_var(context_secret_env_name, secret.schema_.mount_path)]
 
     return env_vars
+
+
+def get_proxy_env_var(key: str):
+    value = os.environ.get(key)
+    if not value:
+        value = os.environ.get(key.lower())
+    if not value:
+        value = os.environ.get(key.upper())
+
+    return value
+
+
+def add_proxy_env_var(name: str, value: str) -> List[k8s_schemas.V1EnvVar]:
+    return [
+        get_env_var(name.upper(), value),
+        get_env_var(name, value),
+    ]
+
+
+def get_proxy_env_vars(use_proxy_env_vars_use_in_ops: bool):
+    if use_proxy_env_vars_use_in_ops:
+        env_vars = []
+        https_proxy = get_proxy_env_var("HTTPS_PROXY")
+        if not https_proxy:
+            https_proxy = get_proxy_env_var("https_proxy")
+        if https_proxy:
+            env_vars += add_proxy_env_var(name="HTTPS_PROXY", value=https_proxy)
+            env_vars += add_proxy_env_var(name="https_proxy", value=https_proxy)
+        http_proxy = get_proxy_env_var("HTTP_PROXY")
+        if not http_proxy:
+            http_proxy = get_proxy_env_var("http_proxy")
+        if http_proxy:
+            env_vars += add_proxy_env_var(name="HTTP_PROXY", value=http_proxy)
+            env_vars += add_proxy_env_var(name="http_proxy", value=http_proxy)
+        no_proxy = get_proxy_env_var("NO_PROXY")
+        if not no_proxy:
+            no_proxy = get_proxy_env_var("no_proxy")
+        if no_proxy:
+            env_vars += add_proxy_env_var(name="NO_PROXY", value=no_proxy)
+            env_vars += add_proxy_env_var(name="no_proxy", value=no_proxy)
+        return env_vars
+    return []
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/common/mounts.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/common/mounts.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,67 +12,62 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import List, Optional
 
-from polyaxon.containers.contexts import (
-    CONTEXT_MOUNT_ARTIFACTS,
-    CONTEXT_MOUNT_CONFIGS,
-    CONTEXT_MOUNT_DOCKER,
-    CONTEXT_MOUNT_SHM,
-)
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polypod.common import constants
 from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
 
 
 def get_mount_from_store(
     store: V1ConnectionType,
 ) -> Optional[k8s_schemas.V1VolumeMount]:
     if not store or not store.is_mount:
         return None
 
     return k8s_schemas.V1VolumeMount(
         name=store.name,
-        mount_path=store.schema.mount_path,
-        read_only=store.schema.read_only,
+        mount_path=store.schema_.mount_path,
+        read_only=store.schema_.read_only,
     )
 
 
 def get_mount_from_resource(
     resource: V1K8sResourceType,
 ) -> Optional[k8s_schemas.V1VolumeMount]:
-    if not resource or not resource.schema.mount_path:
+    if not resource or not resource.schema_.mount_path:
         return None
 
     return k8s_schemas.V1VolumeMount(
-        name=resource.name, mount_path=resource.schema.mount_path, read_only=True
+        name=resource.name, mount_path=resource.schema_.mount_path, read_only=True
     )
 
 
 def get_docker_context_mount() -> k8s_schemas.V1VolumeMount:
     return k8s_schemas.V1VolumeMount(
-        name=constants.CONTEXT_VOLUME_DOCKER, mount_path=CONTEXT_MOUNT_DOCKER
+        name=constants.VOLUME_MOUNT_DOCKER, mount_path=ctx_paths.CONTEXT_MOUNT_DOCKER
     )
 
 
 def get_auth_context_mount(read_only=None) -> k8s_schemas.V1VolumeMount:
     return k8s_schemas.V1VolumeMount(
-        name=constants.CONTEXT_VOLUME_CONFIGS,
-        mount_path=CONTEXT_MOUNT_CONFIGS,
+        name=constants.VOLUME_MOUNT_CONFIGS,
+        mount_path=ctx_paths.CONTEXT_MOUNT_CONFIGS,
         read_only=read_only,
     )
 
 
 def get_artifacts_context_mount(read_only=None) -> k8s_schemas.V1VolumeMount:
     return k8s_schemas.V1VolumeMount(
-        name=constants.CONTEXT_VOLUME_ARTIFACTS,
-        mount_path=CONTEXT_MOUNT_ARTIFACTS,
+        name=constants.VOLUME_MOUNT_ARTIFACTS,
+        mount_path=ctx_paths.CONTEXT_MOUNT_ARTIFACTS,
         read_only=read_only,
     )
 
 
 def get_connections_context_mount(
     name: str, mount_path: str
 ) -> k8s_schemas.V1VolumeMount:
@@ -84,15 +79,15 @@
     Mount an tmpfs volume to /dev/shm.
     This will set /dev/shm size to half of the RAM of node.
     By default, /dev/shm is very small, only 64MB.
     Some experiments will fail due to lack of share memory,
     such as some experiments running on Pytorch.
     """
     return k8s_schemas.V1VolumeMount(
-        name=constants.CONTEXT_VOLUME_SHM, mount_path=CONTEXT_MOUNT_SHM
+        name=constants.VOLUME_MOUNT_SHM, mount_path=ctx_paths.CONTEXT_MOUNT_SHM
     )
 
 
 def get_mounts(
     use_auth_context: bool,
     use_docker_context: bool,
     use_shm_context: bool,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/common/setter.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/common/setter.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,15 +13,15 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 
 from typing import Dict, List
 
-from polyaxon.polyflow import V1Notification, V1Termination
+from polyaxon.polyflow import V1Notification, V1SchedulingPolicy, V1Termination
 
 
 def set_termination(custom_object: Dict, termination: V1Termination) -> Dict:
     if not termination:
         return custom_object
 
     termination_spec = {}
@@ -65,13 +65,15 @@
         # Sets default clean pod policy
         clean_pod_policy = "All"
 
     template_spec["cleanPodPolicy"] = clean_pod_policy.capitalize()
     return template_spec
 
 
-def set_slots_per_worker(template_spec: Dict, slots_per_worker: int) -> Dict:
-    if not slots_per_worker:
+def set_scheduling_policy(
+    template_spec: Dict, scheduling_policy: V1SchedulingPolicy = None
+) -> Dict:
+    if not scheduling_policy:
         return template_spec
 
-    template_spec["slotsPerWorker"] = slots_per_worker
+    template_spec["schedulingPolicy"] = scheduling_policy.to_light_dict()
     return template_spec
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/common/stores.py` & `polyaxon-2.0.0rc0/polyaxon/utils/fixtures/build.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,32 +1,33 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from typing import Dict, List
 
-from polyaxon.polyflow import V1ArtifactsMount
-from polyaxon.schemas.types import V1ConnectionType
-
-
-def override_stores(
-    stores: List[V1ConnectionType], store_refs_by_name: Dict[str, V1ArtifactsMount]
-) -> List[V1ConnectionType]:
-    results = []
-    if not stores or not store_refs_by_name:
-        return results
-    for store in stores:
-        if store.name in store_refs_by_name:
-            results.append(store.override(store_refs_by_name.get(store.name)))
-    return results
+def set_build_fixture(config, owner):
+    config["build"] = {
+        "params": {
+            "context": {"value": "/path/context"},
+        },
+        "runPatch": {
+            "init": [
+                {
+                    "git": {"revision": "branch2"},
+                    "connection": "connection-repo",
+                }
+            ]
+        },
+        "hubRef": f"{owner}/kaniko",
+    }
+    return config
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/common/volumes.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/common/volumes.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,76 +13,79 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import uuid
 
 from typing import Optional
 
-from polyaxon.containers.contexts import CONTEXT_MOUNT_DOCKER
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polypod.common import constants
 from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
 
 
 def get_volume_name(path: str) -> str:
     name = uuid.uuid5(namespace=uuid.NAMESPACE_DNS, name=path).hex
-    return constants.CONTEXT_VOLUME_CONNECTIONS_FORMAT.format(name)
+    return constants.VOLUME_MOUNT_CONNECTIONS_FORMAT.format(name)
 
 
 def get_volume_from_connection(
     connection: V1ConnectionType,
 ) -> Optional[k8s_schemas.V1Volume]:
     if not connection:
         return None
     if connection.is_volume_claim:
         pv_claim = k8s_schemas.V1PersistentVolumeClaimVolumeSource(
-            claim_name=connection.schema.volume_claim,
-            read_only=connection.schema.read_only,
+            claim_name=connection.schema_.volume_claim,
+            read_only=connection.schema_.read_only,
         )
         return k8s_schemas.V1Volume(
             name=connection.name, persistent_volume_claim=pv_claim
         )
 
     if connection.is_host_path:
         return k8s_schemas.V1Volume(
             name=connection.name,
             host_path=k8s_schemas.V1HostPathVolumeSource(
-                path=connection.schema.host_path
+                path=connection.schema_.host_path
             ),
         )
 
 
 def get_volume_from_secret(secret: V1K8sResourceType) -> Optional[k8s_schemas.V1Volume]:
     if not secret:
         return None
-    if secret.schema.mount_path:
+    if secret.schema_.mount_path:
         secret_volume = k8s_schemas.V1SecretVolumeSource(
             secret_name=secret.name,
-            items=secret.schema.items,
-            default_mode=secret.schema.default_mode,
+            items=secret.schema_.items,
+            default_mode=secret.schema_.default_mode,
         )
         return k8s_schemas.V1Volume(name=secret.name, secret=secret_volume)
 
 
 def get_volume_from_config_map(
     config_map: V1K8sResourceType,
 ) -> Optional[k8s_schemas.V1Volume]:
     if not config_map:
         return None
-    if config_map.schema.mount_path:
+    if config_map.schema_.mount_path:
         config_map_volume = k8s_schemas.V1ConfigMapVolumeSource(
             name=config_map.name,
-            items=config_map.schema.items,
-            default_mode=config_map.schema.default_mode,
+            items=config_map.schema_.items,
+            default_mode=config_map.schema_.default_mode,
         )
         return k8s_schemas.V1Volume(name=config_map.name, config_map=config_map_volume)
 
 
 def get_volume(
-    volume: str, claim_name: str = None, host_path: str = None, read_only: bool = None
+    volume: str,
+    claim_name: Optional[str] = None,
+    host_path: Optional[str] = None,
+    read_only: Optional[bool] = None,
 ) -> k8s_schemas.V1Volume:
     if claim_name:
         pv_claim = k8s_schemas.V1PersistentVolumeClaimVolumeSource(
             claim_name=claim_name, read_only=read_only
         )
         return k8s_schemas.V1Volume(name=volume, persistent_volume_claim=pv_claim)
 
@@ -93,24 +96,24 @@
 
     empty_dir = k8s_schemas.V1EmptyDirVolumeSource()
     return k8s_schemas.V1Volume(name=volume, empty_dir=empty_dir)
 
 
 def get_docker_context_volume() -> k8s_schemas.V1Volume:
     return get_volume(
-        volume=constants.CONTEXT_VOLUME_DOCKER, host_path=CONTEXT_MOUNT_DOCKER
+        volume=constants.VOLUME_MOUNT_DOCKER, host_path=ctx_paths.CONTEXT_MOUNT_DOCKER
     )
 
 
 def get_configs_context_volume() -> k8s_schemas.V1Volume:
-    return get_volume(volume=constants.CONTEXT_VOLUME_CONFIGS)
+    return get_volume(volume=constants.VOLUME_MOUNT_CONFIGS)
 
 
 def get_artifacts_context_volume() -> k8s_schemas.V1Volume:
-    return get_volume(volume=constants.CONTEXT_VOLUME_ARTIFACTS)
+    return get_volume(volume=constants.VOLUME_MOUNT_ARTIFACTS)
 
 
 def get_connections_context_volume(name: str) -> k8s_schemas.V1Volume:
     return get_volume(volume=name)
 
 
 def get_shm_context_volume() -> k8s_schemas.V1Volume:
@@ -118,10 +121,10 @@
     Mount an tmpfs volume to /dev/shm.
     This will set /dev/shm size to half of the RAM of node.
     By default, /dev/shm is very small, only 64MB.
     Some experiments will fail due to lack of share memory,
     such as some experiments running on Pytorch.
     """
     return k8s_schemas.V1Volume(
-        name=constants.CONTEXT_VOLUME_SHM,
+        name=constants.VOLUME_MOUNT_SHM,
         empty_dir=k8s_schemas.V1EmptyDirVolumeSource(medium="Memory"),
     )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/__init__.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,41 +1,44 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from typing import Any, Dict, Optional
+from typing import TYPE_CHECKING, Dict, Optional, Type
 
-from polyaxon.polyflow import V1CompiledOperation
+from polyaxon.polyflow import V1CompiledOperation, V1RunKind
 from polyaxon.polypod.compiler import converter, resolver
 
+if TYPE_CHECKING:
+    from polyaxon.polypod.compiler.converters import BaseConverter
+
 
 def make(
     owner_name: str,
     project_name: str,
     project_uuid: str,
     run_name: str,
     run_uuid: str,
     run_path: str,
     compiled_operation: V1CompiledOperation,
     params: Optional[Dict],
-    default_sa: str = None,
+    default_sa: Optional[str] = None,
     internal_auth: bool = False,
     default_auth: bool = False,
-    converters: Dict[str, Any] = converter.CORE_CONVERTERS,
+    converters: Dict[V1RunKind, Type["BaseConverter"]] = converter.CORE_CONVERTERS,
 ):
     resolver_obj, compiled_operation = resolver.resolve(
         compiled_operation=compiled_operation,
         owner_name=owner_name,
         project_name=project_name,
         project_uuid=project_uuid,
         run_name=run_name,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/base.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/base.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,17 +13,18 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 
 from typing import Dict, List
 
+from clipped.list_utils import to_list
+
 from polyaxon.polyflow import V1CompiledOperation, V1Init
 from polyaxon.schemas.types import V1ConnectionType
-from polyaxon.utils.list_utils import to_list
 
 
 class BaseContextsManager:
     @classmethod
     def _resolve_init_contexts(
         cls,
         contexts: Dict,
@@ -44,18 +45,20 @@
         contexts: Dict,
         connections: List[str],
         connection_by_names: Dict[str, V1ConnectionType],
         key: str = "connections",
     ) -> Dict:
         connections = to_list(connections, check_none=True)
         for connection in connections:
-            if connection_by_names[connection].schema:
+            if connection_by_names[connection].schema_:
                 contexts[key][connection] = connection_by_names[
                     connection
-                ].schema.to_dict()
+                ].schema_.to_dict()
+            else:
+                contexts[key][connection] = {}
         return contexts
 
     @classmethod
     def _resolver_replica(
         cls,
         contexts: Dict,
         init: List[V1Init],
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/job.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/kubeflow/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/__init__.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,21 +1,28 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from polyaxon.polypod.compiler.contexts.kubeflow.mpi_job import MPIJobContextsManager
+from polyaxon.polypod.compiler.contexts.kubeflow.mx_job import MXJobContextsManager
+from polyaxon.polypod.compiler.contexts.kubeflow.paddle_job import (
+    PaddleJobContextsManager,
+)
 from polyaxon.polypod.compiler.contexts.kubeflow.pytroch_job import (
     PytorchJobContextsManager,
 )
 from polyaxon.polypod.compiler.contexts.kubeflow.tf_job import TfJobContextsManager
+from polyaxon.polypod.compiler.contexts.kubeflow.xgb_job import (
+    XGBoostJobContextsManager,
+)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/kubeflow/mpi_job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/mpi_job.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/kubeflow/pytroch_job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/pytroch_job.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/kubeflow/tf_job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/tf_job.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/contexts/service.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/contexts/kubeflow/xgb_job.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,56 +1,54 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+import copy
 
-from typing import Dict
+from typing import Dict, Optional
 
-from polyaxon.api import REWRITE_SERVICES_V1, SERVICES_V1
-from polyaxon.polyflow import V1CompiledOperation
+from polyaxon.polyflow import V1CompiledOperation, V1KFReplica, V1XGBoostJob
 from polyaxon.polypod.compiler.contexts.base import BaseContextsManager
 from polyaxon.schemas.types import V1ConnectionType
 
 
-class ServiceContextsManager(BaseContextsManager):
+class XGBoostJobContextsManager(BaseContextsManager):
     @classmethod
     def resolve(
         cls,
         namespace: str,
         owner_name: str,
         project_name: str,
         run_uuid: str,
         contexts: Dict,
         compiled_operation: V1CompiledOperation,
         connection_by_names: Dict[str, V1ConnectionType],
     ) -> Dict:
-        contexts = cls._resolver_replica(
-            contexts=contexts,
-            init=compiled_operation.run.init,
-            connections=compiled_operation.run.connections,
-            connection_by_names=connection_by_names,
-        )
-        if compiled_operation.is_service_run:
-            contexts["globals"]["ports"] = compiled_operation.run.ports
-            base_url = "/{service}/{namespace}/{owner_name}/{project_name}/runs/{run_uuid}".format(
-                service=REWRITE_SERVICES_V1
-                if compiled_operation.run.rewrite_path
-                else SERVICES_V1,
-                namespace=namespace,
-                owner_name=owner_name,
-                project_name=project_name,
-                run_uuid=run_uuid,
+        contexts["init"] = {}
+        contexts["connections"] = {}
+        job = compiled_operation.run  # type: V1XGBoostJob
+
+        def _get_replica(replica: Optional[V1KFReplica]) -> Dict:
+            if not replica:
+                return contexts
+            return cls._resolver_replica(
+                contexts={"globals": copy.copy(contexts["globals"])},
+                init=replica.init,
+                connections=replica.connections,
+                connection_by_names=connection_by_names,
             )
-            contexts["globals"]["base_url"] = base_url
 
-        return contexts
+        return {
+            "master": _get_replica(job.master),
+            "worker": _get_replica(job.worker),
+        }
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converter.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/job.py`

 * *Files 21% similar despite different names*

```diff
@@ -1,84 +1,79 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from typing import Any, Dict, Iterable, Optional
+from typing import Dict, Iterable, Optional
 
-from kubernetes import client as k8s_client
-
-from polyaxon.auxiliaries import V1PolyaxonInitContainer, V1PolyaxonSidecarContainer
-from polyaxon.exceptions import PolyaxonCompilerError
-from polyaxon.polyflow import V1CompiledOperation
-from polyaxon.polypod.compiler.converters import CORE_CONVERTERS
+from polyaxon.polyflow import V1CompiledOperation, V1Job, V1Plugins
+from polyaxon.polypod.compiler.converters.base import (
+    BaseConverter,
+    PlatformConverterMixin,
+)
+from polyaxon.polypod.custom_resources import get_job_custom_resource
+from polyaxon.polypod.mixins import JobMixin
+from polyaxon.polypod.specs.contexts import PluginsContextsSpec
 from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
 
 
-def convert(
-    namespace: str,
-    owner_name: str,
-    project_name: str,
-    run_name: str,
-    run_uuid: str,
-    run_path: str,
-    compiled_operation: V1CompiledOperation,
-    artifacts_store: Optional[V1ConnectionType],
-    connection_by_names: Optional[Dict[str, V1ConnectionType]],
-    secrets: Optional[Iterable[V1K8sResourceType]],
-    config_maps: Optional[Iterable[V1K8sResourceType]],
-    polyaxon_sidecar: V1PolyaxonSidecarContainer = None,
-    polyaxon_init: V1PolyaxonInitContainer = None,
-    default_sa: str = None,
-    converters: Dict[str, Any] = CORE_CONVERTERS,
-    internal_auth: bool = False,
-    default_auth: bool = False,
-) -> Dict:
-    if compiled_operation.has_pipeline:
-        raise PolyaxonCompilerError(
-            "Converter Error. "
-            "Specification with matrix/dag/schedule section is not supported in this function."
-        )
-
-    run_kind = compiled_operation.get_run_kind()
-    if run_kind not in converters:
-        raise PolyaxonCompilerError(
-            "Converter Error. "
-            "Specification with run kind: {} is not supported in this deployment version.".format(
-                run_kind
-            )
-        )
-
-    converter = converters[run_kind](
-        owner_name=owner_name,
-        project_name=project_name,
-        run_name=run_name,
-        run_uuid=run_uuid,
-        namespace=namespace,
-        polyaxon_init=polyaxon_init,
-        polyaxon_sidecar=polyaxon_sidecar,
-        internal_auth=internal_auth,
-        run_path=run_path,
-    )
-    if converter:
-        resource = converter.get_resource(
-            compiled_operation=compiled_operation,
+class JobConverter(JobMixin, BaseConverter):
+    def get_resource(
+        self,
+        compiled_operation: V1CompiledOperation,
+        artifacts_store: V1ConnectionType,
+        connection_by_names: Dict[str, V1ConnectionType],
+        secrets: Optional[Iterable[V1K8sResourceType]],
+        config_maps: Optional[Iterable[V1K8sResourceType]],
+        default_sa: Optional[str] = None,
+        default_auth: bool = False,
+    ) -> Dict:
+        job = compiled_operation.run  # type: V1Job
+        plugins = compiled_operation.plugins or V1Plugins()
+        contexts = PluginsContextsSpec.from_config(plugins, default_auth=default_auth)
+        kv_env_vars = compiled_operation.get_env_io()
+        replica_spec = self.get_replica_resource(
+            plugins=plugins,
+            contexts=contexts,
+            environment=job.environment,
+            volumes=job.volumes or [],
+            init=job.init or [],
+            sidecars=job.sidecars or [],
+            container=job.container,
             artifacts_store=artifacts_store,
+            connections=job.connections or [],
             connection_by_names=connection_by_names,
             secrets=secrets,
             config_maps=config_maps,
+            kv_env_vars=kv_env_vars,
             default_sa=default_sa,
-            default_auth=default_auth,
         )
-        api = k8s_client.ApiClient()
-        return api.sanitize_for_serialization(resource)
+        return get_job_custom_resource(
+            namespace=self.namespace,
+            main_container=replica_spec.main_container,
+            sidecar_containers=replica_spec.sidecar_containers,
+            init_containers=replica_spec.init_containers,
+            resource_name=self.resource_name,
+            volumes=replica_spec.volumes,
+            environment=replica_spec.environment,
+            termination=compiled_operation.termination,
+            collect_logs=contexts.collect_logs,
+            sync_statuses=contexts.sync_statuses,
+            notifications=plugins.notifications,
+            labels=replica_spec.labels,
+            annotations=replica_spec.annotations,
+        )
+
+
+class PlatformJobConverter(PlatformConverterMixin, JobConverter):
+    pass
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/__init__.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -23,43 +23,58 @@
     PlatformNotifierConverter,
     PlatformTunerConverter,
     TunerConverter,
 )
 from polyaxon.polypod.compiler.converters.job import JobConverter, PlatformJobConverter
 from polyaxon.polypod.compiler.converters.kubeflow import (
     MPIJobConverter,
+    MXJobConverter,
+    PaddleJobConverter,
     PytorchJobConverter,
     TfJobConverter,
+    XGBoostJobConverter,
 )
 from polyaxon.polypod.compiler.converters.kubeflow.mpi_job import (
     PlatformMPIJobConverter,
 )
+from polyaxon.polypod.compiler.converters.kubeflow.mx_job import PlatformMXJobConverter
+from polyaxon.polypod.compiler.converters.kubeflow.paddle_job import (
+    PlatformPaddleJobConverter,
+)
 from polyaxon.polypod.compiler.converters.kubeflow.pytroch_job import (
     PlatformPytorchJobConverter,
 )
 from polyaxon.polypod.compiler.converters.kubeflow.tf_job import PlatformTfJobConverter
+from polyaxon.polypod.compiler.converters.kubeflow.xgboost_job import (
+    PlatformXGBoostJobConverter,
+)
 from polyaxon.polypod.compiler.converters.service import (
     PlatformServiceConverter,
     ServiceConverter,
 )
 
 CORE_CONVERTERS = {
     V1RunKind.CLEANER: CleanerConverter,
     V1RunKind.NOTIFIER: NotifierConverter,
     V1RunKind.TUNER: TunerConverter,
     V1RunKind.JOB: JobConverter,
     V1RunKind.SERVICE: ServiceConverter,
     V1RunKind.MPIJOB: MPIJobConverter,
     V1RunKind.TFJOB: TfJobConverter,
+    V1RunKind.XGBJOB: XGBoostJobConverter,
+    V1RunKind.MXJOB: MXJobConverter,
     V1RunKind.PYTORCHJOB: PytorchJobConverter,
 }
 
 PLATFORM_CONVERTERS = {
     V1RunKind.CLEANER: PlatformCleanerConverter,
     V1RunKind.NOTIFIER: PlatformNotifierConverter,
     V1RunKind.TUNER: PlatformTunerConverter,
     V1RunKind.JOB: PlatformJobConverter,
     V1RunKind.SERVICE: PlatformServiceConverter,
     V1RunKind.MPIJOB: PlatformMPIJobConverter,
     V1RunKind.TFJOB: PlatformTfJobConverter,
+    V1RunKind.PADDLEJOB: PlatformPaddleJobConverter,
     V1RunKind.PYTORCHJOB: PlatformPytorchJobConverter,
+    V1RunKind.MXJOB: PlatformMXJobConverter,
+    V1RunKind.XGBJOB: PlatformXGBoostJobConverter,
 }
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/base.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/base.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,72 +14,81 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import copy
 
 from typing import Any, Dict, Iterable, List, Optional
 
+from clipped.http_utils import clean_host
+from clipped.list_utils import to_list
+from clipped.sanitizers import sanitize_string_dict
+from clipped.string_utils import slugify
+
 from polyaxon import pkg, settings
 from polyaxon.api import VERSION_V1
 from polyaxon.auxiliaries import V1PolyaxonInitContainer, V1PolyaxonSidecarContainer
 from polyaxon.connections.kinds import V1ConnectionKind
+from polyaxon.connections.schemas.connections import patch_git
 from polyaxon.containers.names import INIT_PREFIX, SIDECAR_PREFIX
-from polyaxon.env_vars.keys import POLYAXON_KEYS_NO_API
+from polyaxon.env_vars.keys import EV_KEYS_LOG_LEVEL, EV_KEYS_NO_API
 from polyaxon.exceptions import PolypodException
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polyflow import V1Environment, V1Init, V1Plugins
+from polyaxon.polypod.common.annotations import get_connection_annotations
 from polyaxon.polypod.common.containers import ensure_container_name, sanitize_container
 from polyaxon.polypod.common.env_vars import (
     get_base_env_vars,
     get_env_var,
+    get_proxy_env_vars,
     get_service_env_vars,
 )
 from polyaxon.polypod.common.mounts import get_mounts
 from polyaxon.polypod.init.artifacts import get_artifacts_path_container
 from polyaxon.polypod.init.auth import get_auth_context_container
 from polyaxon.polypod.init.custom import get_custom_init_container
 from polyaxon.polypod.init.dockerfile import get_dockerfile_init_container
 from polyaxon.polypod.init.file import get_file_init_container
 from polyaxon.polypod.init.git import get_git_init_container
 from polyaxon.polypod.init.store import get_store_container
+from polyaxon.polypod.init.tensorboard import get_tensorboard_init_container
 from polyaxon.polypod.main.container import get_main_container
 from polyaxon.polypod.pod.volumes import get_pod_volumes
 from polyaxon.polypod.sidecar.container import get_sidecar_container
 from polyaxon.polypod.specs.contexts import PluginsContextsSpec
 from polyaxon.polypod.specs.replica import ReplicaSpec
 from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
 from polyaxon.services.auth import AuthenticationTypes
-from polyaxon.services.headers import PolyaxonServiceHeaders, PolyaxonServices
+from polyaxon.services.headers import PolyaxonServiceHeaders
+from polyaxon.services.values import PolyaxonServices
 from polyaxon.utils.fqn_utils import get_resource_name, get_run_instance
 from polyaxon.utils.host_utils import get_api_host
-from polyaxon.utils.http_utils import clean_host
-from polyaxon.utils.list_utils import to_list
-from polyaxon.utils.sanitizers import sanitize_string_dict
-from polyaxon.utils.string_utils import slugify
 
 
 class ConverterAbstract:
     def get_main_env_vars(
-        self, external_host: bool = False, **kwargs
+        self, external_host: bool = False, log_level: Optional[str] = None, **kwargs
     ) -> Optional[List[k8s_schemas.V1EnvVar]]:
         raise NotImplementedError
 
     def get_polyaxon_sidecar_service_env_vars(
         self,
         external_host: bool = False,
+        log_level: Optional[str] = None,
     ) -> Optional[List[k8s_schemas.V1EnvVar]]:
         raise NotImplementedError
 
     def get_auth_service_env_vars(
         self, external_host: bool = False
     ) -> Optional[List[k8s_schemas.V1EnvVar]]:
         raise NotImplementedError
 
     def get_init_service_env_vars(
-        self, external_host: bool = False
+        self,
+        external_host: bool = False,
+        log_level: Optional[str] = None,
     ) -> Optional[List[k8s_schemas.V1EnvVar]]:
         raise NotImplementedError
 
 
 class BaseConverter(ConverterAbstract):
     SPEC_KIND = None
     GROUP = None
@@ -170,54 +179,90 @@
         return {
             "operation.polyaxon.com/name": self.run_name,
             "operation.polyaxon.com/owner": self.owner_name,
             "operation.polyaxon.com/project": self.project_name,
             "operation.polyaxon.com/kind": self.K8S_ANNOTATIONS_KIND,
         }
 
-    def get_annotations(self, annotations: Dict):
+    def get_annotations(
+        self,
+        annotations: Dict,
+        artifacts_store: Optional[V1ConnectionType],
+        init_connections: Optional[List[V1Init]],
+        connections: List[str],
+        connection_by_names: Optional[Dict[str, V1ConnectionType]],
+    ):
         annotations = annotations or {}
         annotations = copy.copy(annotations)
+        connections_annotations = get_connection_annotations(
+            artifacts_store=artifacts_store,
+            init_connections=init_connections,
+            connections=connections,
+            connection_by_names=connection_by_names,
+        )
+        connections_annotations = connections_annotations or {}
+        annotations.update(connections_annotations)
         annotations.update(self.annotations)
         return sanitize_string_dict(annotations)
 
     def get_labels(self, version: str, labels: Dict):
         labels = labels or {}
         labels = copy.copy(labels)
         labels.update(self.get_recommended_labels(version=version))
         return sanitize_string_dict(labels)
 
     @staticmethod
     def get_by_name(values: List[Any]):
         return {c.name: c for c in values}
 
     def get_main_env_vars(
-        self, external_host: bool = False, **kwargs
+        self, external_host: bool = False, log_level: Optional[str] = None, **kwargs
     ) -> Optional[List[k8s_schemas.V1EnvVar]]:
-        return get_base_env_vars()
+        return get_base_env_vars(
+            settings.AGENT_CONFIG.use_proxy_env_vars_use_in_ops, log_level=log_level
+        )
 
     def get_polyaxon_sidecar_service_env_vars(
         self,
         external_host: bool = False,
+        log_level: Optional[str] = None,
     ) -> Optional[List[k8s_schemas.V1EnvVar]]:
+        env = []
         if settings.CLIENT_CONFIG.no_api:
-            return [get_env_var(name=POLYAXON_KEYS_NO_API, value=True)]
-        return None
+            env += [get_env_var(name=EV_KEYS_NO_API, value=True)]
+        if log_level:
+            env += [get_env_var(name=EV_KEYS_LOG_LEVEL, value=log_level)]
+        proxy_env = get_proxy_env_vars(
+            settings.AGENT_CONFIG.use_proxy_env_vars_use_in_ops
+        )
+        if proxy_env:
+            env += proxy_env
+        return env
 
     def get_auth_service_env_vars(
         self, external_host: bool = False
     ) -> Optional[List[k8s_schemas.V1EnvVar]]:
         return None
 
     def get_init_service_env_vars(
-        self, external_host: bool = False
+        self,
+        external_host: bool = False,
+        log_level: Optional[str] = None,
     ) -> Optional[List[k8s_schemas.V1EnvVar]]:
+        env = []
         if settings.CLIENT_CONFIG.no_api:
-            return [get_env_var(name=POLYAXON_KEYS_NO_API, value=True)]
-        return None
+            env.append(get_env_var(name=EV_KEYS_NO_API, value=True))
+        if log_level:
+            env.append(get_env_var(name=EV_KEYS_LOG_LEVEL, value=log_level))
+        proxy_env = get_proxy_env_vars(
+            settings.AGENT_CONFIG.use_proxy_env_vars_use_in_ops
+        )
+        if proxy_env:
+            env += proxy_env
+        return env
 
     def get_main_container(
         self,
         main_container: k8s_schemas.V1Container,
         contexts: PluginsContextsSpec,
         artifacts_store: V1ConnectionType,
         connections: List[str],
@@ -226,28 +271,28 @@
         log_level: str,
         secrets: Optional[Iterable[V1K8sResourceType]],
         config_maps: Optional[Iterable[V1K8sResourceType]],
         kv_env_vars: List[List] = None,
         ports: List[int] = None,
     ) -> k8s_schemas.V1Container:
         env = self.get_main_env_vars(
-            external_host=contexts.external_host if contexts else False
+            external_host=contexts.external_host if contexts else False,
+            log_level=log_level,
         )
         volume_mounts = get_mounts(
             use_auth_context=contexts.auth,
             use_artifacts_context=False,  # Main container has a check and handling for this
             use_docker_context=contexts.docker,
             use_shm_context=contexts.shm,
         )
 
         return get_main_container(
             container_id=self.MAIN_CONTAINER_ID,
             main_container=main_container,
             volume_mounts=volume_mounts,
-            log_level=log_level,
             contexts=contexts,
             artifacts_store=artifacts_store,
             connections=connections,
             init=init_connections,
             connection_by_names=connection_by_names,
             secrets=secrets,
             config_maps=config_maps,
@@ -259,24 +304,26 @@
 
     def get_sidecar_containers(
         self,
         polyaxon_sidecar: V1PolyaxonSidecarContainer,
         contexts: PluginsContextsSpec,
         artifacts_store: V1ConnectionType,
         sidecar_containers: List[k8s_schemas.V1Container],
+        log_level: Optional[str] = None,
     ) -> List[k8s_schemas.V1Container]:
         sidecar_containers = [
             ensure_container_name(container=c, prefix=SIDECAR_PREFIX)
             for c in to_list(sidecar_containers, check_none=True)
         ]
         polyaxon_sidecar_container = get_sidecar_container(
             container_id=self.MAIN_CONTAINER_ID,
             polyaxon_sidecar=polyaxon_sidecar,
             env=self.get_polyaxon_sidecar_service_env_vars(
-                external_host=contexts.external_host if contexts else False
+                external_host=contexts.external_host if contexts else False,
+                log_level=log_level,
             ),
             artifacts_store=artifacts_store,
             contexts=contexts,
             run_path=self.run_path,
         )
         containers = to_list(polyaxon_sidecar_container, check_none=True)
         containers += sidecar_containers
@@ -285,162 +332,193 @@
     def handle_init_connections(
         self,
         polyaxon_init: V1PolyaxonInitContainer,
         artifacts_store: V1ConnectionType,
         init_connections: List[V1Init],
         connection_by_names: Dict[str, V1ConnectionType],
         contexts: PluginsContextsSpec,
+        log_level: Optional[str] = None,
     ) -> List[k8s_schemas.V1Container]:
         containers = []
         external_host = contexts.external_host if contexts else False
 
         # Prepare connections that Polyaxon can init automatically
         for init_connection in init_connections:
             if init_connection.connection:
                 connection_spec = connection_by_names.get(init_connection.connection)
                 # Handling ssh with git
                 if (
                     V1ConnectionKind.is_ssh(connection_spec.kind)
                     and init_connection.git
                 ):
-                    connection_spec.schema.patch_git(init_connection.git)
+                    patch_git(connection_spec.schema_, init_connection.git)
                     containers.append(
                         get_git_init_container(
                             polyaxon_init=polyaxon_init,
                             connection=connection_spec,
                             container=init_connection.container,
                             env=self.get_init_service_env_vars(
-                                external_host=external_host
+                                external_host=external_host,
+                                log_level=log_level,
                             ),
                             mount_path=init_connection.path,
                             contexts=contexts,
                             track=True,
                         )
                     )
                 elif V1ConnectionKind.is_git(connection_spec.kind):
                     if init_connection.git:  # Update the default schema
-                        connection_spec.schema.patch(init_connection.git)
+                        connection_spec.schema_.patch(init_connection.git)
                     containers.append(
                         get_git_init_container(
                             polyaxon_init=polyaxon_init,
                             connection=connection_spec,
                             container=init_connection.container,
                             env=self.get_init_service_env_vars(
-                                external_host=external_host
+                                external_host=external_host,
+                                log_level=log_level,
                             ),
                             mount_path=init_connection.path,
                             contexts=contexts,
                             track=True,
                         )
                     )
                 elif V1ConnectionKind.is_artifact(connection_spec.kind):
                     containers.append(
                         get_store_container(
                             polyaxon_init=polyaxon_init,
                             connection=connection_spec,
                             artifacts=init_connection.artifacts,
+                            paths=init_connection.paths,
                             container=init_connection.container,
                             env=self.get_init_service_env_vars(
-                                external_host=external_host
+                                external_host=external_host,
+                                log_level=log_level,
                             ),
                             mount_path=init_connection.path,
                             is_default_artifacts_store=artifacts_store
                             and init_connection.connection == artifacts_store.name,
                         )
                     )
                 else:
                     containers.append(
                         get_custom_init_container(
                             connection=connection_spec,
                             container=init_connection.container,
                             env=self.get_init_service_env_vars(
-                                external_host=external_host
+                                external_host=external_host,
+                                log_level=log_level,
                             ),
                             mount_path=init_connection.path,
                             contexts=contexts,
                         )
                     )
             else:
                 # artifacts init without connection should default to the artifactsStore
-                if init_connection.artifacts:
+                if init_connection.artifacts or init_connection.paths:
                     containers.append(
                         get_store_container(
                             polyaxon_init=polyaxon_init,
                             connection=artifacts_store,
                             artifacts=init_connection.artifacts,
+                            paths=init_connection.paths,
                             container=init_connection.container,
                             env=self.get_init_service_env_vars(
-                                external_host=external_host
+                                external_host=external_host,
+                                log_level=log_level,
                             ),
                             mount_path=init_connection.path,
                             is_default_artifacts_store=True,
                         )
                     )
                 # git init without connection
                 if init_connection.git:
                     git_name = init_connection.git.get_name()
                     containers.append(
                         get_git_init_container(
                             polyaxon_init=polyaxon_init,
                             connection=V1ConnectionType(
                                 name=git_name,
                                 kind=V1ConnectionKind.GIT,
-                                schema=init_connection.git,
+                                schema_=init_connection.git,
                                 secret=None,
                             ),
                             container=init_connection.container,
                             env=self.get_init_service_env_vars(
-                                external_host=external_host
+                                external_host=external_host,
+                                log_level=log_level,
                             ),
                             mount_path=init_connection.path,
                             contexts=contexts,
                             track=False,
                         )
                     )
                 # Dockerfile initialization
                 if init_connection.dockerfile:
                     containers.append(
                         get_dockerfile_init_container(
                             polyaxon_init=polyaxon_init,
                             dockerfile_args=init_connection.dockerfile,
                             env=self.get_init_service_env_vars(
-                                external_host=external_host
+                                external_host=external_host,
+                                log_level=log_level,
                             ),
                             mount_path=init_connection.path,
+                            container=init_connection.container,
                             contexts=contexts,
                             run_path=self.run_path,
                             run_instance=self.run_instance,
                         )
                     )
                 # File initialization
                 if init_connection.file:
                     containers.append(
                         get_file_init_container(
                             polyaxon_init=polyaxon_init,
                             file_args=init_connection.file,
                             env=self.get_init_service_env_vars(
-                                external_host=external_host
+                                external_host=external_host,
+                                log_level=log_level,
                             ),
                             mount_path=init_connection.path,
+                            container=init_connection.container,
                             contexts=contexts,
                             run_path=self.run_path,
                             run_instance=self.run_instance,
                         )
                     )
+                # Tensorboard initialization
+                if init_connection.tensorboard:
+                    containers.append(
+                        get_tensorboard_init_container(
+                            polyaxon_init=polyaxon_init,
+                            artifacts_store=artifacts_store,
+                            tb_args=init_connection.tensorboard,
+                            env=self.get_init_service_env_vars(
+                                external_host=external_host,
+                                log_level=log_level,
+                            ),
+                            mount_path=init_connection.path,
+                            container=init_connection.container,
+                            contexts=contexts,
+                            run_instance=self.run_instance,
+                        )
+                    )
 
         return containers
 
     def get_init_containers(
         self,
         polyaxon_init: V1PolyaxonInitContainer,
         contexts: PluginsContextsSpec,
         artifacts_store: V1ConnectionType,
         init_connections: List[V1Init],
         init_containers: List[k8s_schemas.V1Container],
         connection_by_names: Dict[str, V1ConnectionType],
+        log_level: Optional[str] = None,
     ) -> List[k8s_schemas.V1Container]:
         init_containers = [
             ensure_container_name(container=c, prefix=INIT_PREFIX)
             for c in to_list(init_containers, check_none=True)
         ]
         init_connections = to_list(init_connections, check_none=True)
         containers = []
@@ -460,24 +538,28 @@
         if contexts and contexts.collect_artifacts:
             containers += to_list(
                 get_artifacts_path_container(
                     polyaxon_init=polyaxon_init,
                     artifacts_store=artifacts_store,
                     run_path=self.run_path,
                     auto_resume=contexts.auto_resume,
+                    env=get_proxy_env_vars(
+                        settings.AGENT_CONFIG.use_proxy_env_vars_use_in_ops
+                    ),
                 ),
                 check_none=True,
             )
 
         containers += self.handle_init_connections(
             polyaxon_init=polyaxon_init,
             artifacts_store=artifacts_store,
             init_connections=init_connections,
             connection_by_names=connection_by_names,
             contexts=contexts,
+            log_level=log_level,
         )
         init_containers = containers + init_containers
         return [sanitize_container(c) for c in init_containers]
 
     def filter_containers_from_init(
         self, init: List[V1Init]
     ) -> List[k8s_schemas.V1Container]:
@@ -496,17 +578,18 @@
         sidecars: List[k8s_schemas.V1Container],
         container: k8s_schemas.V1Container,
         artifacts_store: V1ConnectionType,
         connections: List[str],
         connection_by_names: Dict[str, V1ConnectionType],
         secrets: Optional[Iterable[V1K8sResourceType]],
         config_maps: Optional[Iterable[V1K8sResourceType]],
-        default_sa: str = None,
+        kv_env_vars: List[List],
+        default_sa: Optional[str] = None,
         ports: List[int] = None,
-        num_replicas: int = None,
+        num_replicas: Optional[int] = None,
     ) -> ReplicaSpec:
         volumes = volumes or []
         init = init or []
         sidecars = sidecars or []
         connections = connections or []
         environment = environment or V1Environment()
         environment.service_account_name = (
@@ -531,38 +614,47 @@
         init_containers = self.get_init_containers(
             polyaxon_init=self.polyaxon_init,
             contexts=contexts,
             artifacts_store=artifacts_store,
             init_connections=init_connections,
             init_containers=self.filter_containers_from_init(init=init),
             connection_by_names=connection_by_names,
+            log_level=plugins.log_level,
         )
 
         sidecar_containers = self.get_sidecar_containers(
             polyaxon_sidecar=self.polyaxon_sidecar,
             contexts=contexts,
             artifacts_store=artifacts_store,
             sidecar_containers=sidecars,
+            log_level=plugins.log_level,
         )
 
         main_container = self.get_main_container(
             main_container=container,
             contexts=contexts,
             artifacts_store=artifacts_store,
             connections=connections,
             init_connections=init_connections,
             connection_by_names=connection_by_names,
             log_level=plugins.log_level,
             secrets=secrets,
             config_maps=config_maps,
             ports=ports,
+            kv_env_vars=kv_env_vars,
         )
 
         labels = self.get_labels(version=pkg.VERSION, labels=environment.labels)
-        annotations = self.get_annotations(annotations=environment.annotations)
+        annotations = self.get_annotations(
+            annotations=environment.annotations,
+            artifacts_store=artifacts_store,
+            connections=connections,
+            init_connections=init_connections,
+            connection_by_names=connection_by_names,
+        )
         return ReplicaSpec(
             volumes=volumes,
             init_containers=init_containers,
             sidecar_containers=sidecar_containers,
             main_container=main_container,
             labels=labels,
             annotations=annotations,
@@ -580,44 +672,52 @@
             return get_api_host(default=settings.CLIENT_CONFIG.host)
         else:
             return clean_host(settings.CLIENT_CONFIG.host)
 
     def get_service_env_vars(
         self,
         service_header: str,
-        header: str = None,
+        header: Optional[str] = None,
         include_secret_key: bool = False,
         include_internal_token: bool = False,
         include_agent_token: bool = False,
-        authentication_type: str = None,
+        authentication_type: Optional[str] = None,
         external_host: bool = False,
+        log_level: Optional[str] = None,
     ) -> List[k8s_schemas.V1EnvVar]:
         header = header or PolyaxonServiceHeaders.SERVICE
         return get_service_env_vars(
             header=header,
             service_header=service_header,
             authentication_type=authentication_type,
             include_secret_key=include_secret_key,
             include_internal_token=include_internal_token,
             include_agent_token=include_agent_token,
             polyaxon_default_secret_ref=settings.AGENT_CONFIG.app_secret_name,
             polyaxon_agent_secret_ref=settings.AGENT_CONFIG.agent_secret_name,
             api_host=self.get_api_host(external_host),
+            log_level=log_level,
             api_version=VERSION_V1,
             run_instance=self.run_instance,
+            use_proxy_env_vars_use_in_ops=settings.AGENT_CONFIG.use_proxy_env_vars_use_in_ops,
         )
 
-    def get_main_env_vars(self, external_host: bool = False, **kwargs):
+    def get_main_env_vars(
+        self, external_host: bool = False, log_level: Optional[str] = None, **kwargs
+    ):
         return self.get_service_env_vars(
             service_header=PolyaxonServices.RUNNER,
             external_host=external_host,
+            log_level=log_level,
         )
 
     def get_auth_service_env_vars(
-        self, external_host: bool = False
+        self,
+        external_host: bool = False,
+        log_level: Optional[str] = None,
     ) -> List[k8s_schemas.V1EnvVar]:
         return self.get_service_env_vars(
             service_header=PolyaxonServices.INITIALIZER,
             include_internal_token=self.internal_auth,
             include_agent_token=not self.internal_auth,
             authentication_type=(
                 AuthenticationTypes.INTERNAL_TOKEN
@@ -626,28 +726,33 @@
             ),
             header=(
                 PolyaxonServiceHeaders.INTERNAL
                 if self.internal_auth
                 else PolyaxonServiceHeaders.SERVICE
             ),
             external_host=external_host,
+            log_level=log_level,
         )
 
     def get_polyaxon_sidecar_service_env_vars(
-        self, external_host: bool = False
+        self, external_host: bool = False, log_level: Optional[str] = None
     ) -> List[k8s_schemas.V1EnvVar]:
         return self.get_service_env_vars(
             service_header=PolyaxonServices.SIDECAR,
             authentication_type=AuthenticationTypes.TOKEN,
             header=PolyaxonServiceHeaders.SERVICE,
             external_host=external_host,
+            log_level=log_level,
         )
 
     def get_init_service_env_vars(
-        self, external_host: bool = False
+        self,
+        external_host: bool = False,
+        log_level: Optional[str] = None,
     ) -> List[k8s_schemas.V1EnvVar]:
         return self.get_service_env_vars(
             service_header=PolyaxonServices.INITIALIZER,
             authentication_type=AuthenticationTypes.TOKEN,
             header=PolyaxonServiceHeaders.SERVICE,
             external_host=external_host,
+            log_level=log_level,
         )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/helpers.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/helpers.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/pytroch_job.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,66 +12,79 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Dict, Iterable, Optional
 
-from polyaxon.polyflow import V1CompiledOperation, V1Job, V1Plugins
+from polyaxon import pkg
+from polyaxon.polyflow import V1CompiledOperation, V1KFReplica, V1Plugins, V1PytorchJob
 from polyaxon.polypod.compiler.converters.base import (
     BaseConverter,
     PlatformConverterMixin,
 )
-from polyaxon.polypod.custom_resources import get_job_custom_resource
-from polyaxon.polypod.mixins import JobMixin
+from polyaxon.polypod.custom_resources import get_pytorch_job_custom_resource
+from polyaxon.polypod.mixins import PytorchJobMixin
 from polyaxon.polypod.specs.contexts import PluginsContextsSpec
+from polyaxon.polypod.specs.replica import ReplicaSpec
 from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
 
 
-class JobConverter(JobMixin, BaseConverter):
+class PytorchJobConverter(PytorchJobMixin, BaseConverter):
     def get_resource(
         self,
         compiled_operation: V1CompiledOperation,
         artifacts_store: V1ConnectionType,
         connection_by_names: Dict[str, V1ConnectionType],
         secrets: Optional[Iterable[V1K8sResourceType]],
         config_maps: Optional[Iterable[V1K8sResourceType]],
-        default_sa: str = None,
+        default_sa: Optional[str] = None,
         default_auth: bool = False,
     ) -> Dict:
-        job = compiled_operation.run  # type: V1Job
+        job = compiled_operation.run  # type: V1PytorchJob
+
+        def _get_replica(replica: Optional[V1KFReplica]) -> Optional[ReplicaSpec]:
+            if not replica:
+                return None
+            return self.get_replica_resource(
+                plugins=plugins,
+                contexts=contexts,
+                environment=replica.environment,
+                volumes=replica.volumes or [],
+                init=replica.init or [],
+                sidecars=replica.sidecars or [],
+                container=replica.container,
+                artifacts_store=artifacts_store,
+                connections=replica.connections or [],
+                connection_by_names=connection_by_names,
+                secrets=secrets,
+                config_maps=config_maps,
+                kv_env_vars=kv_env_vars,
+                default_sa=default_sa,
+                num_replicas=replica.replicas,
+            )
+
+        kv_env_vars = compiled_operation.get_env_io()
         plugins = compiled_operation.plugins or V1Plugins()
         contexts = PluginsContextsSpec.from_config(plugins, default_auth=default_auth)
-        replica_spec = self.get_replica_resource(
-            plugins=plugins,
-            contexts=contexts,
-            environment=job.environment,
-            volumes=job.volumes or [],
-            init=job.init or [],
-            sidecars=job.sidecars or [],
-            container=job.container,
-            artifacts_store=artifacts_store,
-            connections=job.connections or [],
-            connection_by_names=connection_by_names,
-            secrets=secrets,
-            config_maps=config_maps,
-            default_sa=default_sa,
-        )
-        return get_job_custom_resource(
+        master = _get_replica(job.master)
+        worker = _get_replica(job.worker)
+        labels = self.get_labels(version=pkg.VERSION, labels={})
+
+        return get_pytorch_job_custom_resource(
             namespace=self.namespace,
-            main_container=replica_spec.main_container,
-            sidecar_containers=replica_spec.sidecar_containers,
-            init_containers=replica_spec.init_containers,
             resource_name=self.resource_name,
-            volumes=replica_spec.volumes,
-            environment=replica_spec.environment,
+            master=master,
+            worker=worker,
             termination=compiled_operation.termination,
+            clean_pod_policy=job.clean_pod_policy,
+            scheduling_policy=job.scheduling_policy,
             collect_logs=contexts.collect_logs,
             sync_statuses=contexts.sync_statuses,
             notifications=plugins.notifications,
-            labels=replica_spec.labels,
-            annotations=replica_spec.annotations,
+            labels=labels,
+            annotations=self.annotations,
         )
 
 
-class PlatformJobConverter(PlatformConverterMixin, JobConverter):
+class PlatformPytorchJobConverter(PlatformConverterMixin, PytorchJobConverter):
     pass
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/kubeflow/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/__init__.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,21 +1,26 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from polyaxon.polypod.compiler.converters.kubeflow.mpi_job import MPIJobConverter
+from polyaxon.polypod.compiler.converters.kubeflow.mx_job import MXJobConverter
+from polyaxon.polypod.compiler.converters.kubeflow.paddle_job import PaddleJobConverter
 from polyaxon.polypod.compiler.converters.kubeflow.pytroch_job import (
     PytorchJobConverter,
 )
 from polyaxon.polypod.compiler.converters.kubeflow.tf_job import TfJobConverter
+from polyaxon.polypod.compiler.converters.kubeflow.xgboost_job import (
+    XGBoostJobConverter,
+)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/kubeflow/mpi_job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/mpi_job.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -33,15 +33,15 @@
     def get_resource(
         self,
         compiled_operation: V1CompiledOperation,
         artifacts_store: V1ConnectionType,
         connection_by_names: Dict[str, V1ConnectionType],
         secrets: Optional[Iterable[V1K8sResourceType]],
         config_maps: Optional[Iterable[V1K8sResourceType]],
-        default_sa: str = None,
+        default_sa: Optional[str] = None,
         default_auth: bool = False,
     ) -> Dict:
         job = compiled_operation.run  # type: V1MPIJob
 
         def _get_replica(replica: Optional[V1KFReplica]) -> Optional[ReplicaSpec]:
             if not replica:
                 return None
@@ -54,30 +54,33 @@
                 sidecars=replica.sidecars or [],
                 container=replica.container,
                 artifacts_store=artifacts_store,
                 connections=replica.connections or [],
                 connection_by_names=connection_by_names,
                 secrets=secrets,
                 config_maps=config_maps,
+                kv_env_vars=kv_env_vars,
                 default_sa=default_sa,
                 num_replicas=replica.replicas,
             )
 
+        kv_env_vars = compiled_operation.get_env_io()
         plugins = compiled_operation.plugins or V1Plugins()
         contexts = PluginsContextsSpec.from_config(plugins, default_auth=default_auth)
         launcher = _get_replica(job.launcher)
         worker = _get_replica(job.worker)
         labels = self.get_labels(version=pkg.VERSION, labels={})
 
         return get_mpi_job_custom_resource(
             namespace=self.namespace,
             resource_name=self.resource_name,
             launcher=launcher,
             worker=worker,
             clean_pod_policy=job.clean_pod_policy,
+            scheduling_policy=job.scheduling_policy,
             slots_per_worker=job.slots_per_worker,
             termination=compiled_operation.termination,
             collect_logs=contexts.collect_logs,
             sync_statuses=contexts.sync_statuses,
             notifications=plugins.notifications,
             labels=labels,
             annotations=self.annotations,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/kubeflow/pytroch_job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/paddle_job.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,38 +13,38 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Dict, Iterable, Optional
 
 from polyaxon import pkg
-from polyaxon.polyflow import V1CompiledOperation, V1KFReplica, V1Plugins, V1PytorchJob
+from polyaxon.polyflow import V1CompiledOperation, V1KFReplica, V1PaddleJob, V1Plugins
 from polyaxon.polypod.compiler.converters.base import (
     BaseConverter,
     PlatformConverterMixin,
 )
-from polyaxon.polypod.custom_resources import get_pytorch_job_custom_resource
-from polyaxon.polypod.mixins import PytorchJobMixin
+from polyaxon.polypod.custom_resources import get_paddle_job_custom_resource
+from polyaxon.polypod.mixins import PaddleJobMixin
 from polyaxon.polypod.specs.contexts import PluginsContextsSpec
 from polyaxon.polypod.specs.replica import ReplicaSpec
 from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
 
 
-class PytorchJobConverter(PytorchJobMixin, BaseConverter):
+class PaddleJobConverter(PaddleJobMixin, BaseConverter):
     def get_resource(
         self,
         compiled_operation: V1CompiledOperation,
         artifacts_store: V1ConnectionType,
         connection_by_names: Dict[str, V1ConnectionType],
         secrets: Optional[Iterable[V1K8sResourceType]],
         config_maps: Optional[Iterable[V1K8sResourceType]],
-        default_sa: str = None,
+        default_sa: Optional[str] = None,
         default_auth: bool = False,
     ) -> Dict:
-        job = compiled_operation.run  # type: V1PytorchJob
+        job = compiled_operation.run  # type: V1PaddleJob
 
         def _get_replica(replica: Optional[V1KFReplica]) -> Optional[ReplicaSpec]:
             if not replica:
                 return None
             return self.get_replica_resource(
                 plugins=plugins,
                 contexts=contexts,
@@ -54,34 +54,37 @@
                 sidecars=replica.sidecars or [],
                 container=replica.container,
                 artifacts_store=artifacts_store,
                 connections=replica.connections or [],
                 connection_by_names=connection_by_names,
                 secrets=secrets,
                 config_maps=config_maps,
+                kv_env_vars=kv_env_vars,
                 default_sa=default_sa,
                 num_replicas=replica.replicas,
             )
 
+        kv_env_vars = compiled_operation.get_env_io()
         plugins = compiled_operation.plugins or V1Plugins()
         contexts = PluginsContextsSpec.from_config(plugins, default_auth=default_auth)
         master = _get_replica(job.master)
         worker = _get_replica(job.worker)
         labels = self.get_labels(version=pkg.VERSION, labels={})
 
-        return get_pytorch_job_custom_resource(
+        return get_paddle_job_custom_resource(
             namespace=self.namespace,
             resource_name=self.resource_name,
             master=master,
             worker=worker,
             termination=compiled_operation.termination,
             clean_pod_policy=job.clean_pod_policy,
+            scheduling_policy=job.scheduling_policy,
             collect_logs=contexts.collect_logs,
             sync_statuses=contexts.sync_statuses,
             notifications=plugins.notifications,
             labels=labels,
             annotations=self.annotations,
         )
 
 
-class PlatformPytorchJobConverter(PlatformConverterMixin, PytorchJobConverter):
+class PlatformPaddleJobConverter(PlatformConverterMixin, PaddleJobConverter):
     pass
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/kubeflow/tf_job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/kubeflow/tf_job.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -31,15 +31,15 @@
     def get_resource(
         self,
         compiled_operation: V1CompiledOperation,
         artifacts_store: V1ConnectionType,
         connection_by_names: Dict[str, V1ConnectionType],
         secrets: Optional[Iterable[V1K8sResourceType]],
         config_maps: Optional[Iterable[V1K8sResourceType]],
-        default_sa: str = None,
+        default_sa: Optional[str] = None,
         default_auth: bool = False,
     ) -> Dict:
         job = compiled_operation.run  # type: V1TFJob
 
         def _get_replica(replica: Optional[V1KFReplica]) -> Optional[ReplicaSpec]:
             if not replica:
                 return None
@@ -52,18 +52,20 @@
                 sidecars=replica.sidecars or [],
                 container=replica.container,
                 artifacts_store=artifacts_store,
                 connections=replica.connections or [],
                 connection_by_names=connection_by_names,
                 secrets=secrets,
                 config_maps=config_maps,
+                kv_env_vars=kv_env_vars,
                 default_sa=default_sa,
                 num_replicas=replica.replicas,
             )
 
+        kv_env_vars = compiled_operation.get_env_io()
         plugins = compiled_operation.plugins or V1Plugins()
         contexts = PluginsContextsSpec.from_config(plugins, default_auth=default_auth)
         chief = _get_replica(job.chief)
         worker = _get_replica(job.worker)
         ps = _get_replica(job.ps)
         evaluator = _get_replica(job.evaluator)
         labels = self.get_labels(version=pkg.VERSION, labels={})
@@ -74,14 +76,16 @@
             chief=chief,
             worker=worker,
             ps=ps,
             evaluator=evaluator,
             termination=compiled_operation.termination,
             collect_logs=contexts.collect_logs,
             clean_pod_policy=job.clean_pod_policy,
+            scheduling_policy=job.scheduling_policy,
+            enable_dynamic_worker=job.enable_dynamic_worker,
             sync_statuses=contexts.sync_statuses,
             notifications=plugins.notifications,
             labels=labels,
             annotations=self.annotations,
         )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/converters/service.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/converters/service.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -31,33 +31,35 @@
     def get_resource(
         self,
         compiled_operation: V1CompiledOperation,
         artifacts_store: V1ConnectionType,
         connection_by_names: Dict[str, V1ConnectionType],
         secrets: Optional[Iterable[V1K8sResourceType]],
         config_maps: Optional[Iterable[V1K8sResourceType]],
-        default_sa: str = None,
+        default_sa: Optional[str] = None,
         default_auth: bool = False,
     ) -> Dict:
         service = compiled_operation.run  # type: V1Service
         plugins = compiled_operation.plugins or V1Plugins()
         contexts = PluginsContextsSpec.from_config(plugins, default_auth=default_auth)
+        kv_env_vars = compiled_operation.get_env_io()
         replica_spec = self.get_replica_resource(
             plugins=plugins,
             contexts=contexts,
             environment=service.environment,
             volumes=service.volumes,
             init=service.init,
             sidecars=service.sidecars,
             container=service.container,
             artifacts_store=artifacts_store,
             connections=service.connections,
             connection_by_names=connection_by_names,
             secrets=secrets,
             config_maps=config_maps,
+            kv_env_vars=kv_env_vars,
             default_sa=default_sa,
             ports=service.ports,
         )
         return get_service_custom_resource(
             namespace=self.namespace,
             main_container=replica_spec.main_container,
             sidecar_containers=replica_spec.sidecar_containers,
@@ -68,12 +70,14 @@
             termination=compiled_operation.termination,
             collect_logs=contexts.collect_logs,
             sync_statuses=contexts.sync_statuses,
             notifications=plugins.notifications,
             labels=replica_spec.labels,
             annotations=replica_spec.annotations,
             ports=service.ports,
+            is_external=service.is_external,
+            replicas=service.replicas,
         )
 
 
 class PlatformServiceConverter(PlatformConverterMixin, ServiceConverter):
     pass
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/lineage/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/io/__init__.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,17 +1,17 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.polypod.compiler.lineage.collector import resolve_artifacts_lineage
+from polyaxon.polyflow.io.io import V1IO
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/lineage/artifacts_collector.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/lineage/artifacts_collector.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,20 +13,22 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import os
 
 from typing import Optional
 
-from polyaxon.polyboard.artifacts import V1ArtifactKind, V1RunArtifact
 from polyaxon.utils.fqn_utils import to_fqn_name
+from traceml.artifacts import V1ArtifactKind, V1RunArtifact
 
 
 def collect_lineage_artifacts_path(artifact_path: str) -> Optional[V1RunArtifact]:
-    name = os.path.basename(artifact_path)
+    name = os.path.basename(
+        artifact_path.rstrip("/")
+    )  # Trim handles cases like `foo/` -> ''
     return V1RunArtifact(
-        name=to_fqn_name(name),
+        name=to_fqn_name(name) if name else "_",
         kind=V1ArtifactKind.DIR,
         path=artifact_path,
         summary={"path": artifact_path},
         is_input=True,
     )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/lineage/collector.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/lineage/collector.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,18 +12,18 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Dict, List
 
-from polyaxon.polyboard.artifacts import V1RunArtifact
 from polyaxon.polyflow import ParamSpec, V1CompiledOperation
 from polyaxon.polypod.compiler.lineage.io_collector import collect_io_artifacts
 from polyaxon.schemas.types import V1ConnectionType
+from traceml.artifacts import V1RunArtifact
 
 
 def resolve_artifacts_lineage(
     owner_name: str,
     project_name: str,
     project_uuid: str,
     run_uuid: str,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/lineage/io_collector.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/lineage/io_collector.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,32 +12,33 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Dict, List, Optional
 
-from polyaxon.polyboard.artifacts import V1ArtifactKind, V1RunArtifact
+from clipped.list_utils import to_list
+
 from polyaxon.polyflow import V1IO, V1CompiledOperation
 from polyaxon.schemas.types import V1ConnectionType
 from polyaxon.types import IMAGE, LINEAGE_VALUES
-from polyaxon.utils.list_utils import to_list
+from traceml.artifacts import V1ArtifactKind, V1RunArtifact
 
 
 def collect_artifacts_from_io(
     io: V1IO, connection_by_names: Dict[str, V1ConnectionType], is_input: bool
 ) -> Optional[V1RunArtifact]:
     if io.type not in LINEAGE_VALUES:
         return None
 
     if io.type == IMAGE:
         image = io.value
         connection = connection_by_names.get(io.connection)
-        if connection and connection.schema and connection.schema.url:
-            image = "{}/{}".format(connection.schema.url, image)
+        if connection and connection.schema_ and connection.schema_.url:
+            image = "{}/{}".format(connection.schema_.url, image)
         return V1RunArtifact(
             name=io.name,
             kind=V1ArtifactKind.DOCKER_IMAGE,
             connection=io.connection,
             summary={"image": image},
             is_input=is_input,
         )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/lineage/params_collector.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/lineage/params_collector.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/resolver/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/resolver/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/resolver/base.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/resolver/base.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -30,15 +30,18 @@
 
 class BaseResolver:
     KINDS = {
         V1RunKind.JOB,
         V1RunKind.SERVICE,
         V1RunKind.MPIJOB,
         V1RunKind.TFJOB,
+        V1RunKind.PADDLEJOB,
         V1RunKind.PYTORCHJOB,
+        V1RunKind.MXJOB,
+        V1RunKind.XGBJOB,
         V1RunKind.NOTIFIER,
         V1RunKind.CLEANER,
         V1RunKind.TUNER,
         V1RunKind.WATCHDOG,
     }
 
     def __init__(
@@ -48,18 +51,19 @@
         owner_name: str,
         project_name: str,
         project_uuid: str,
         run_name: str,
         run_uuid: str,
         run_path: str,
         params: Optional[Dict],
-        created_at: datetime = None,
-        compiled_at: datetime = None,
+        created_at: Optional[datetime] = None,
+        compiled_at: Optional[datetime] = None,
         cloning_kind: V1CloningKind = None,
-        original_uuid: str = None,
+        original_uuid: Optional[str] = None,
+        is_independent: bool = True,
         eager: bool = False,
     ):
         if not compiled_operation:
             raise PolyaxonCompilerError("A run spec is required for resolution.")
         self.run = run
         self.compiled_operation = compiled_operation
         self.owner_name = owner_name
@@ -86,14 +90,15 @@
         self.schedule_at = None
         self.started_at = None
         self.finished_at = None
         self.duration = None
         self.eager = eager
         self.cloning_kind = cloning_kind
         self.original_uuid = original_uuid
+        self.is_independent = is_independent
         self._param_spec = {}
 
     @classmethod
     def is_valid(cls, compiled_operation: V1CompiledOperation):
         compiled_operation.validate_build()
         run_kind = compiled_operation.get_run_kind()
         if run_kind not in cls.KINDS:
@@ -112,20 +117,27 @@
 
     def resolve_globals_contexts(self):
         self.globals = resolve_globals_contexts(
             namespace=self.namespace,
             owner_name=self.owner_name,
             project_name=self.project_name,
             project_uuid=self.project_uuid,
+            run_uuid=self.run_uuid,
             run_name=self.run_name,
             run_path=self.run_path,
-            run_uuid=self.run_uuid,
             iteration=self.iteration,
             created_at=self.created_at,
             compiled_at=self.compiled_at,
+            schedule_at=self.schedule_at,
+            started_at=self.started_at,
+            finished_at=self.finished_at,
+            duration=self.duration,
+            cloning_kind=self.cloning_kind,
+            original_uuid=self.original_uuid,
+            is_independent=self.is_independent,
         )
 
     def resolve_params(self):
         pass
 
     def apply_params(self, should_be_resolved: bool = True):
         self.compiled_operation = CompiledOperationSpecification.apply_params(
@@ -175,26 +187,32 @@
     def resolve_io(self):
         pass
 
     def resolve_access(self):
         pass
 
     def resolve_connections(self):
-        polypod_config = PolypodConfig()
+        polypod_config = PolypodConfig.construct()
         polypod_config.resolve(
             compiled_operation=self.compiled_operation, agent_config=self.agent_config
         )
         self.polyaxon_sidecar = polypod_config.polyaxon_sidecar
         self.polyaxon_init = polypod_config.polyaxon_init
         self.namespace = polypod_config.namespace
         self.secrets = polypod_config.secrets
         self.config_maps = polypod_config.config_maps
         self.connection_by_names = polypod_config.connection_by_names
         self.artifacts_store = polypod_config.artifacts_store
 
+    def resolve_init_refs(self):
+        pass
+
+    def clean_init_refs(self):
+        pass
+
     def resolve_actions(self):
         pass
 
     def resolve_artifacts_lineage(self):
         self.artifacts += resolve_artifacts_lineage(
             owner_name=self.owner_name,
             project_name=self.project_name,
@@ -210,25 +228,30 @@
 
     def _resolve_contexts(self):
         return resolve_contexts(
             namespace=self.namespace,
             owner_name=self.owner_name,
             project_name=self.project_name,
             project_uuid=self.project_uuid,
+            run_uuid=self.run_uuid,
             run_name=self.run_name,
             run_path=self.run_path,
-            run_uuid=self.run_uuid,
             compiled_operation=self.compiled_operation,
-            connection_by_names=self.connection_by_names,
             artifacts_store=self.artifacts_store,
+            connection_by_names=self.connection_by_names,
             iteration=self.iteration,
             created_at=self.created_at,
             compiled_at=self.compiled_at,
+            schedule_at=self.schedule_at,
+            started_at=self.started_at,
+            finished_at=self.finished_at,
+            duration=self.duration,
             cloning_kind=self.cloning_kind,
             original_uuid=self.original_uuid,
+            is_independent=self.is_independent,
         )
 
     def _apply_runtime_contexts(self):
         contexts = self._resolve_contexts()
         return CompiledOperationSpecification.apply_runtime_contexts(
             self.compiled_operation, contexts=contexts
         )
@@ -269,14 +292,16 @@
         self.resolve_params()
         self.apply_params()
         self.resolve_presets()
         self.resolve_agent()
         self.resolve_connections_params()
         self.apply_operation_contexts()
         self.resolve_io()
+        self.resolve_init_refs()
         self.resolve_access()
         self.resolve_connections()
         self.resolve_artifacts_lineage()
+        self.clean_init_refs()
         self.resolve_state()
         self.apply_runtime_contexts()
         self.persist_state()
         return self.compiled_operation
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/compiler/resolver/resolver.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/compiler/resolver/resolver.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -27,18 +27,19 @@
     run_name: str,
     run_uuid: str,
     run_path: str,
     compiled_operation: V1CompiledOperation,
     params: Optional[Dict[str, Dict]],
     run=None,
     resolver_cls=None,
-    created_at: datetime = None,
-    compiled_at: datetime = None,
+    created_at: Optional[datetime] = None,
+    compiled_at: Optional[datetime] = None,
     cloning_kind: V1CloningKind = None,
-    original_uuid: str = None,
+    original_uuid: Optional[str] = None,
+    is_independent: bool = True,
     eager: bool = False,
 ):
     resolver_cls = resolver_cls or BaseResolver
     resolver_cls.is_valid(compiled_operation)
 
     resolver = resolver_cls(
         run=run,
@@ -50,14 +51,15 @@
         run_path=run_path,
         run_uuid=run_uuid,
         params=params,
         created_at=created_at,
         compiled_at=compiled_at,
         cloning_kind=cloning_kind,
         original_uuid=original_uuid,
+        is_independent=is_independent,
         eager=eager,
     )
     if resolver:
         # If build section is present resolve the build
         if compiled_operation.build:
             return resolver, resolver.resolve_build()
         return resolver, resolver.resolve()
@@ -70,27 +72,27 @@
     run_name: str,
     run_uuid: str,
     run_path: str,
     compiled_operation: V1CompiledOperation,
     params: Optional[Dict[str, Dict]],
     run=None,
     resolver_cls=None,
-    created_at: datetime = None,
-    compiled_at: datetime = None,
+    created_at: Optional[datetime] = None,
+    compiled_at: Optional[datetime] = None,
     cloning_kind: V1CloningKind = None,
-    original_uuid: str = None,
+    original_uuid: Optional[str] = None,
     eager: bool = False,
 ) -> List[V1Operation]:
     resolver_cls = resolver_cls or BaseResolver
     resolver_cls.is_valid(compiled_operation)
 
     if run:
         # Add outputs to compiled operation
         compiled_operation.outputs = [
-            V1IO(name=k, type=None, value=v, is_optional=True)
+            V1IO.construct(name=k, type=None, value=v, is_optional=True)
             for k, v in (run.outputs or {}).items()
         ]
     return resolver_cls(
         run=run,
         compiled_operation=compiled_operation,
         owner_name=owner_name,
         project_name=project_name,
@@ -99,9 +101,10 @@
         run_name=run_name,
         run_path=run_path,
         params=params,
         compiled_at=compiled_at,
         created_at=created_at,
         cloning_kind=cloning_kind,
         original_uuid=original_uuid,
+        is_independent=False,
         eager=eager,
     ).resolve_hooks()
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/__init__.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,11 +13,14 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from polyaxon.polypod.custom_resources.job import get_job_custom_resource
 from polyaxon.polypod.custom_resources.kubeflow import (
     get_mpi_job_custom_resource,
+    get_mx_job_custom_resource,
+    get_paddle_job_custom_resource,
     get_pytorch_job_custom_resource,
     get_tf_job_custom_resource,
+    get_xgb_job_custom_resource,
 )
 from polyaxon.polypod.custom_resources.service import get_service_custom_resource
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/job.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/kubeflow/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/cleaner.py`

 * *Files 21% similar despite different names*

```diff
@@ -1,22 +1,25 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from polyaxon.polypod.custom_resources.kubeflow.mpi_job import (
-    get_mpi_job_custom_resource,
-)
-from polyaxon.polypod.custom_resources.kubeflow.pytorch_job import (
-    get_pytorch_job_custom_resource,
-)
-from polyaxon.polypod.custom_resources.kubeflow.tf_job import get_tf_job_custom_resource
+from typing_extensions import Literal
+
+from polyaxon.polyflow.run.job import V1Job
+from polyaxon.polyflow.run.kinds import V1RunKind
+
+
+class V1CleanerJob(V1Job):
+    _IDENTIFIER = V1RunKind.CLEANER
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/kubeflow/mpi_job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/mpi_job.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,20 +13,20 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Dict, List, Optional
 
 from polyaxon.k8s.custom_resources.operation import get_operation_custom_object
-from polyaxon.polyflow import V1Notification, V1Termination
+from polyaxon.polyflow import V1Notification, V1SchedulingPolicy, V1Termination
 from polyaxon.polypod.common.setter import (
     set_clean_pod_policy,
     set_collect_logs,
     set_notify,
-    set_slots_per_worker,
+    set_scheduling_policy,
     set_sync_statuses,
     set_termination,
 )
 from polyaxon.polypod.custom_resources.kubeflow.common import get_kf_replicas_template
 from polyaxon.polypod.specs.replica import ReplicaSpec
 
 
@@ -36,14 +36,15 @@
     launcher: Optional[ReplicaSpec],
     worker: Optional[ReplicaSpec],
     termination: V1Termination,
     collect_logs: bool,
     sync_statuses: bool,
     notifications: List[V1Notification],
     clean_pod_policy: Optional[str],
+    scheduling_policy: Optional[V1SchedulingPolicy],
     slots_per_worker: Optional[int],
     labels: Dict[str, str],
     annotations: Dict[str, str],
 ) -> Dict:
     template_spec = {}
 
     get_kf_replicas_template(
@@ -65,18 +66,22 @@
         template_spec=template_spec,
     )
     template_spec = {"replicaSpecs": template_spec}
 
     template_spec = set_clean_pod_policy(
         template_spec=template_spec, clean_pod_policy=clean_pod_policy
     )
-    template_spec = set_slots_per_worker(
-        template_spec=template_spec, slots_per_worker=slots_per_worker
+
+    template_spec = set_scheduling_policy(
+        template_spec=template_spec, scheduling_policy=scheduling_policy
     )
 
+    if slots_per_worker:
+        template_spec["slotsPerWorker"] = slots_per_worker
+
     custom_object = {"mpiJobSpec": template_spec}
     custom_object = set_termination(
         custom_object=custom_object, termination=termination
     )
     custom_object = set_collect_logs(
         custom_object=custom_object, collect_logs=collect_logs
     )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/kubeflow/pytorch_job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/tf_job.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,44 +13,49 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Dict, List, Optional
 
 from polyaxon.k8s.custom_resources.operation import get_operation_custom_object
-from polyaxon.polyflow import V1Notification, V1Termination
+from polyaxon.polyflow import V1Notification, V1SchedulingPolicy, V1Termination
 from polyaxon.polypod.common.setter import (
     set_clean_pod_policy,
     set_collect_logs,
     set_notify,
+    set_scheduling_policy,
     set_sync_statuses,
     set_termination,
 )
 from polyaxon.polypod.custom_resources.kubeflow.common import get_kf_replicas_template
 from polyaxon.polypod.specs.replica import ReplicaSpec
 
 
-def get_pytorch_job_custom_resource(
+def get_tf_job_custom_resource(
     resource_name: str,
     namespace: str,
-    master: Optional[ReplicaSpec],
+    chief: Optional[ReplicaSpec],
     worker: Optional[ReplicaSpec],
+    ps: Optional[ReplicaSpec],
+    evaluator: Optional[ReplicaSpec],
     termination: V1Termination,
     collect_logs: bool,
     sync_statuses: bool,
     notifications: List[V1Notification],
     clean_pod_policy: Optional[str],
+    scheduling_policy: Optional[V1SchedulingPolicy],
+    enable_dynamic_worker: bool,
     labels: Dict[str, str],
     annotations: Dict[str, str],
 ) -> Dict:
     template_spec = {}
 
     get_kf_replicas_template(
-        replica_name="Master",
-        replica=master,
+        replica_name="Chief",
+        replica=chief,
         namespace=namespace,
         resource_name=resource_name,
         labels=labels,
         annotations=annotations,
         template_spec=template_spec,
     )
     get_kf_replicas_template(
@@ -58,21 +63,47 @@
         replica=worker,
         namespace=namespace,
         resource_name=resource_name,
         labels=labels,
         annotations=annotations,
         template_spec=template_spec,
     )
+    get_kf_replicas_template(
+        replica_name="PS",
+        replica=ps,
+        namespace=namespace,
+        resource_name=resource_name,
+        labels=labels,
+        annotations=annotations,
+        template_spec=template_spec,
+    )
+    get_kf_replicas_template(
+        replica_name="Evaluator",
+        replica=evaluator,
+        namespace=namespace,
+        resource_name=resource_name,
+        labels=labels,
+        annotations=annotations,
+        template_spec=template_spec,
+    )
+
+    if enable_dynamic_worker:
+        template_spec["enableDynamicWorker"] = enable_dynamic_worker
+
     template_spec = {"replicaSpecs": template_spec}
 
     template_spec = set_clean_pod_policy(
         template_spec=template_spec, clean_pod_policy=clean_pod_policy
     )
 
-    custom_object = {"pytorchJobSpec": template_spec}
+    template_spec = set_scheduling_policy(
+        template_spec=template_spec, scheduling_policy=scheduling_policy
+    )
+
+    custom_object = {"tfJobSpec": template_spec}
     custom_object = set_termination(
         custom_object=custom_object, termination=termination
     )
     custom_object = set_collect_logs(
         custom_object=custom_object, collect_logs=collect_logs
     )
     custom_object = set_sync_statuses(
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/kubeflow/tf_job.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/kubeflow/paddle_job.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,46 +13,46 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Dict, List, Optional
 
 from polyaxon.k8s.custom_resources.operation import get_operation_custom_object
-from polyaxon.polyflow import V1Notification, V1Termination
+from polyaxon.polyflow import V1Notification, V1SchedulingPolicy, V1Termination
 from polyaxon.polypod.common.setter import (
     set_clean_pod_policy,
     set_collect_logs,
     set_notify,
+    set_scheduling_policy,
     set_sync_statuses,
     set_termination,
 )
 from polyaxon.polypod.custom_resources.kubeflow.common import get_kf_replicas_template
 from polyaxon.polypod.specs.replica import ReplicaSpec
 
 
-def get_tf_job_custom_resource(
+def get_paddle_job_custom_resource(
     resource_name: str,
     namespace: str,
-    chief: Optional[ReplicaSpec],
+    master: Optional[ReplicaSpec],
     worker: Optional[ReplicaSpec],
-    ps: Optional[ReplicaSpec],
-    evaluator: Optional[ReplicaSpec],
     termination: V1Termination,
     collect_logs: bool,
     sync_statuses: bool,
     notifications: List[V1Notification],
     clean_pod_policy: Optional[str],
+    scheduling_policy: Optional[V1SchedulingPolicy],
     labels: Dict[str, str],
     annotations: Dict[str, str],
 ) -> Dict:
     template_spec = {}
 
     get_kf_replicas_template(
-        replica_name="Chief",
-        replica=chief,
+        replica_name="Master",
+        replica=master,
         namespace=namespace,
         resource_name=resource_name,
         labels=labels,
         annotations=annotations,
         template_spec=template_spec,
     )
     get_kf_replicas_template(
@@ -60,39 +60,25 @@
         replica=worker,
         namespace=namespace,
         resource_name=resource_name,
         labels=labels,
         annotations=annotations,
         template_spec=template_spec,
     )
-    get_kf_replicas_template(
-        replica_name="PS",
-        replica=ps,
-        namespace=namespace,
-        resource_name=resource_name,
-        labels=labels,
-        annotations=annotations,
-        template_spec=template_spec,
-    )
-    get_kf_replicas_template(
-        replica_name="Evaluator",
-        replica=evaluator,
-        namespace=namespace,
-        resource_name=resource_name,
-        labels=labels,
-        annotations=annotations,
-        template_spec=template_spec,
-    )
     template_spec = {"replicaSpecs": template_spec}
 
     template_spec = set_clean_pod_policy(
         template_spec=template_spec, clean_pod_policy=clean_pod_policy
     )
 
-    custom_object = {"tfJobSpec": template_spec}
+    template_spec = set_scheduling_policy(
+        template_spec=template_spec, scheduling_policy=scheduling_policy
+    )
+
+    custom_object = {"paddleJobSpec": template_spec}
     custom_object = set_termination(
         custom_object=custom_object, termination=termination
     )
     custom_object = set_collect_logs(
         custom_object=custom_object, collect_logs=collect_logs
     )
     custom_object = set_sync_statuses(
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/custom_resources/service.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/custom_resources/service.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -37,14 +37,16 @@
     volumes: List[k8s_schemas.V1Volume],
     termination: V1Termination,
     collect_logs: bool,
     sync_statuses: bool,
     notifications: List[V1Notification],
     environment: V1Environment,
     ports: List[int],
+    replicas: Optional[int],
+    is_external: bool,
     labels: Dict[str, str],
     annotations: Dict[str, str],
 ) -> Dict:
     metadata, pod_spec = get_pod_spec(
         namespace=namespace,
         main_container=main_container,
         sidecar_containers=sidecar_containers,
@@ -59,14 +61,20 @@
     template_spec = {
         "template": get_pod_template_spec(metadata=metadata, pod_spec=pod_spec)
     }
 
     if ports:
         template_spec["ports"] = ports
 
+    if replicas is not None:
+        template_spec["replicas"] = replicas
+
+    if is_external:
+        template_spec["isExternal"] = is_external
+
     custom_object = {"serviceSpec": template_spec}
     custom_object = set_termination(
         custom_object=custom_object, termination=termination
     )
     custom_object = set_collect_logs(
         custom_object=custom_object, collect_logs=collect_logs
     )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/init/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/init/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/init/artifacts.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/init/artifacts.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,24 +12,23 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import List, Optional
 
+from clipped.list_utils import to_list
+
 from polyaxon.auxiliaries import V1PolyaxonInitContainer
 from polyaxon.constants.globals import DEFAULT
-from polyaxon.containers.contexts import (
-    CONTEXT_MOUNT_ARTIFACTS,
-    CONTEXT_MOUNT_ARTIFACTS_FORMAT,
-)
 from polyaxon.containers.names import (
     INIT_ARTIFACTS_CONTAINER_PREFIX,
     generate_container_name,
 )
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.exceptions import PolypodException
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polypod.common.mounts import get_artifacts_context_mount
 from polyaxon.polypod.init.store import get_base_store_container, get_volume_args
 from polyaxon.schemas.types import V1ArtifactsType, V1ConnectionType
 
 
@@ -45,51 +44,55 @@
         return "{} {}".format(get_or_create, delete_dir)
     return "{}".format(get_or_create)
 
 
 def init_artifact_context_args(run_path: str) -> List[str]:
     return [
         'if [ ! -d "{dir}" ]; then mkdir -m 0777 -p {dir}; fi;'.format(
-            dir=CONTEXT_MOUNT_ARTIFACTS_FORMAT.format(run_path)
+            dir=ctx_paths.CONTEXT_MOUNT_ARTIFACTS_FORMAT.format(run_path)
         ),
         'if [ ! -d "{dir}" ]; then mkdir -m 0777 -p {dir}; fi;'.format(
-            dir=CONTEXT_MOUNT_ARTIFACTS_FORMAT.format(run_path) + "/outputs"
+            dir=ctx_paths.CONTEXT_MOUNT_ARTIFACTS_FORMAT.format(run_path) + "/outputs"
         ),
     ]
 
 
 def get_artifacts_path_container(
     polyaxon_init: V1PolyaxonInitContainer,
     artifacts_store: V1ConnectionType,
     run_path: str,
     auto_resume: bool,
+    env: Optional[List[k8s_schemas.V1EnvVar]] = None,
 ) -> Optional[k8s_schemas.V1Container]:
     if not artifacts_store:
         raise PolypodException("Init artifacts container requires a store.")
 
+    env = to_list(env, check_none=True)
     init_args = init_artifact_context_args(run_path=run_path)
     if auto_resume:
         init_args.append(
             get_volume_args(
                 store=artifacts_store,
-                mount_path=CONTEXT_MOUNT_ARTIFACTS,
+                mount_path=ctx_paths.CONTEXT_MOUNT_ARTIFACTS,
                 artifacts=V1ArtifactsType(dirs=[run_path]),
+                paths=None,
+                sync_fw=True,
             )
         )
 
     container_name = generate_container_name(
         INIT_ARTIFACTS_CONTAINER_PREFIX, DEFAULT, False
     )
     container = k8s_schemas.V1Container(name=container_name)
 
     return get_base_store_container(
         container_name=container_name,
         container=container,
         polyaxon_init=polyaxon_init,
         store=artifacts_store,
-        env=[],
+        env=env,
         env_from=[],
         volume_mounts=[get_artifacts_context_mount()],
         # If we are dealing with a volume we need to make sure the path exists for the user
         # We also clean the path if this is not a resume run
         args=[" ".join(init_args)],
     )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/init/auth.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/init/auth.py`

 * *Files 21% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,27 +12,30 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import List
 
+from clipped.list_utils import to_list
+
 from polyaxon.auxiliaries import V1PolyaxonInitContainer
 from polyaxon.containers.names import INIT_AUTH_CONTAINER
 from polyaxon.k8s import k8s_schemas
+from polyaxon.polypod.common.containers import patch_container
 from polyaxon.polypod.common.mounts import get_auth_context_mount
-from polyaxon.utils.list_utils import to_list
 
 
 def get_auth_context_container(
     polyaxon_init: V1PolyaxonInitContainer, env: List[k8s_schemas.V1EnvVar] = None
 ) -> k8s_schemas.V1Container:
     env = to_list(env, check_none=True)
-    return k8s_schemas.V1Container(
+    container = k8s_schemas.V1Container(
         name=INIT_AUTH_CONTAINER,
         image=polyaxon_init.get_image(),
         image_pull_policy=polyaxon_init.image_pull_policy,
         command=["polyaxon", "initializer", "auth"],
         env=env,
         resources=polyaxon_init.get_resources(),
         volume_mounts=[get_auth_context_mount(read_only=False)],
     )
+    return patch_container(container)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/init/custom.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/init/custom.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,19 +12,21 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import List, Optional
 
-from polyaxon.containers.contexts import CONTEXT_MOUNT_ARTIFACTS
+from clipped.list_utils import to_list
+
 from polyaxon.containers.names import (
     INIT_CUSTOM_CONTAINER_PREFIX,
     generate_container_name,
 )
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.exceptions import PolypodException
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polypod.common import constants
 from polyaxon.polypod.common.containers import patch_container
 from polyaxon.polypod.common.env_vars import (
     get_connection_env_var,
     get_env_from_config_map,
@@ -36,33 +38,30 @@
     get_auth_context_mount,
     get_connections_context_mount,
     get_mount_from_resource,
 )
 from polyaxon.polypod.common.volumes import get_volume_name
 from polyaxon.polypod.specs.contexts import PluginsContextsSpec
 from polyaxon.schemas.types import V1ConnectionType
-from polyaxon.utils.list_utils import to_list
 
 
 def get_custom_init_container(
     connection: V1ConnectionType,
     contexts: PluginsContextsSpec,
     container: Optional[k8s_schemas.V1Container],
     env: List[k8s_schemas.V1EnvVar] = None,
-    mount_path: str = None,
+    mount_path: Optional[str] = None,
 ) -> k8s_schemas.V1Container:
     if not connection:
         raise PolypodException("A connection is required to create a repo context.")
 
     volume_name = (
-        get_volume_name(mount_path)
-        if mount_path
-        else constants.CONTEXT_VOLUME_ARTIFACTS
+        get_volume_name(mount_path) if mount_path else constants.VOLUME_MOUNT_ARTIFACTS
     )
-    mount_path = mount_path or CONTEXT_MOUNT_ARTIFACTS
+    mount_path = mount_path or ctx_paths.CONTEXT_MOUNT_ARTIFACTS
     volume_mounts = [
         get_connections_context_mount(name=volume_name, mount_path=mount_path)
     ]
 
     if contexts and contexts.auth:
         volume_mounts.append(get_auth_context_mount(read_only=True))
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/init/dockerfile.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/init/file.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,68 +12,74 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import List, Optional
 
+from clipped.list_utils import to_list
+
 from polyaxon.auxiliaries import V1PolyaxonInitContainer
-from polyaxon.containers.contexts import (
-    CONTEXT_MOUNT_ARTIFACTS,
-    CONTEXT_MOUNT_RUN_OUTPUTS_FORMAT,
-)
 from polyaxon.containers.names import (
-    INIT_DOCKERFILE_CONTAINER_PREFIX,
+    INIT_FILE_CONTAINER_PREFIX,
     generate_container_name,
 )
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polypod.common import constants
+from polyaxon.polypod.common.containers import patch_container
 from polyaxon.polypod.common.env_vars import get_run_instance_env_var
 from polyaxon.polypod.common.mounts import (
     get_auth_context_mount,
     get_connections_context_mount,
 )
 from polyaxon.polypod.common.volumes import get_volume_name
 from polyaxon.polypod.specs.contexts import PluginsContextsSpec
-from polyaxon.schemas.types import V1DockerfileType
-from polyaxon.utils.list_utils import to_list
+from polyaxon.schemas.types import V1FileType
 
 
-def get_dockerfile_init_container(
+def get_file_init_container(
     polyaxon_init: V1PolyaxonInitContainer,
-    dockerfile_args: V1DockerfileType,
+    file_args: V1FileType,
     contexts: PluginsContextsSpec,
     run_path: str,
     run_instance: str,
+    container: Optional[k8s_schemas.V1Container] = None,
     env: List[k8s_schemas.V1EnvVar] = None,
     mount_path: Optional[str] = None,
 ) -> k8s_schemas.V1Container:
     env = to_list(env, check_none=True)
     env = env + [get_run_instance_env_var(run_instance)]
 
+    container_name = generate_container_name(INIT_FILE_CONTAINER_PREFIX)
+    if not container:
+        container = k8s_schemas.V1Container(name=container_name)
+
     volume_name = (
-        get_volume_name(mount_path)
-        if mount_path
-        else constants.CONTEXT_VOLUME_ARTIFACTS
+        get_volume_name(mount_path) if mount_path else constants.VOLUME_MOUNT_ARTIFACTS
     )
-    mount_path = mount_path or CONTEXT_MOUNT_ARTIFACTS
+    mount_path = mount_path or ctx_paths.CONTEXT_MOUNT_ARTIFACTS
     volume_mounts = [
         get_connections_context_mount(name=volume_name, mount_path=mount_path)
     ]
     if contexts and contexts.auth:
         volume_mounts.append(get_auth_context_mount(read_only=True))
 
-    return k8s_schemas.V1Container(
-        name=generate_container_name(INIT_DOCKERFILE_CONTAINER_PREFIX),
+    file_args.filename = file_args.filename or "file"
+    return patch_container(
+        container=container,
+        name=container_name,
         image=polyaxon_init.get_image(),
         image_pull_policy=polyaxon_init.image_pull_policy,
-        command=["polyaxon", "docker", "generate"],
+        command=["polyaxon", "initializer", "file"],
         args=[
-            "--build-context={}".format(dockerfile_args.to_dict(dump=True)),
-            "--destination={}".format(mount_path),
-            "--copy-path={}".format(CONTEXT_MOUNT_RUN_OUTPUTS_FORMAT.format(run_path)),
+            "--file-context={}".format(file_args.to_json()),
+            "--filepath={}".format(mount_path),
+            "--copy-path={}".format(
+                ctx_paths.CONTEXT_MOUNT_RUN_OUTPUTS_FORMAT.format(run_path)
+            ),
             "--track",
         ],
         env=env,
-        resources=polyaxon_init.get_resources(),
         volume_mounts=volume_mounts,
+        resources=polyaxon_init.get_resources(),
     )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/init/file.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/pod/spec.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,80 +1,87 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from typing import List, Optional
+from typing import Dict, List, Optional, Tuple
 
-from polyaxon.auxiliaries import V1PolyaxonInitContainer
-from polyaxon.containers.contexts import (
-    CONTEXT_MOUNT_ARTIFACTS,
-    CONTEXT_MOUNT_RUN_OUTPUTS_FORMAT,
-)
-from polyaxon.containers.names import (
-    INIT_FILE_CONTAINER_PREFIX,
-    generate_container_name,
-)
+from clipped.list_utils import to_list
+from clipped.sanitizers import sanitize_string_dict
+
+from polyaxon.exceptions import PolypodException
 from polyaxon.k8s import k8s_schemas
-from polyaxon.polypod.common import constants
-from polyaxon.polypod.common.env_vars import get_run_instance_env_var
-from polyaxon.polypod.common.mounts import (
-    get_auth_context_mount,
-    get_connections_context_mount,
-)
-from polyaxon.polypod.common.volumes import get_volume_name
-from polyaxon.polypod.specs.contexts import PluginsContextsSpec
-from polyaxon.schemas.types import V1FileType
-from polyaxon.utils.list_utils import to_list
-
-
-def get_file_init_container(
-    polyaxon_init: V1PolyaxonInitContainer,
-    file_args: V1FileType,
-    contexts: PluginsContextsSpec,
-    run_path: str,
-    run_instance: str,
-    env: List[k8s_schemas.V1EnvVar] = None,
-    mount_path: Optional[str] = None,
-) -> k8s_schemas.V1Container:
-    env = to_list(env, check_none=True)
-    env = env + [get_run_instance_env_var(run_instance)]
-
-    volume_name = (
-        get_volume_name(mount_path)
-        if mount_path
-        else constants.CONTEXT_VOLUME_ARTIFACTS
+from polyaxon.polyflow import V1Environment
+
+
+def get_pod_spec(
+    resource_name: str,
+    namespace: str,
+    main_container: k8s_schemas.V1Container,
+    sidecar_containers: Optional[List[k8s_schemas.V1Container]],
+    init_containers: Optional[List[k8s_schemas.V1Container]],
+    environment: Optional[V1Environment],
+    labels: Dict[str, str],
+    annotations: Dict[str, str],
+    volumes: Optional[List[k8s_schemas.V1Volume]],
+) -> Tuple[k8s_schemas.V1ObjectMeta, k8s_schemas.V1PodSpec]:
+    if not main_container:
+        raise PolypodException("A main container is required")
+    environment = environment or V1Environment()
+
+    metadata = k8s_schemas.V1ObjectMeta(
+        name=resource_name,
+        namespace=namespace,
+        labels=labels,
+        annotations=annotations,
     )
-    mount_path = mount_path or CONTEXT_MOUNT_ARTIFACTS
-    volume_mounts = [
-        get_connections_context_mount(name=volume_name, mount_path=mount_path)
-    ]
-    if contexts and contexts.auth:
-        volume_mounts.append(get_auth_context_mount(read_only=True))
-
-    file_args.filename = file_args.filename or "file"
-    return k8s_schemas.V1Container(
-        name=generate_container_name(INIT_FILE_CONTAINER_PREFIX),
-        image=polyaxon_init.get_image(),
-        image_pull_policy=polyaxon_init.image_pull_policy,
-        command=["polyaxon", "initializer", "file"],
-        args=[
-            "--file-context={}".format(file_args.to_dict(dump=True)),
-            "--filepath={}".format(mount_path),
-            "--copy-path={}".format(CONTEXT_MOUNT_RUN_OUTPUTS_FORMAT.format(run_path)),
-            "--track",
-        ],
-        env=env,
-        resources=polyaxon_init.get_resources(),
-        volume_mounts=volume_mounts,
+
+    init_containers = to_list(init_containers, check_none=True)
+    containers = [main_container] + to_list(sidecar_containers, check_none=True)
+    image_pull_secrets = None
+    if environment.image_pull_secrets:
+        image_pull_secrets = [
+            k8s_schemas.V1LocalObjectReference(name=i)
+            for i in environment.image_pull_secrets
+        ]
+
+    pod_spec = k8s_schemas.V1PodSpec(
+        init_containers=init_containers,
+        containers=containers,
+        volumes=volumes,
+        restart_policy=environment.restart_policy,
+        image_pull_secrets=image_pull_secrets,
+        security_context=environment.security_context,
+        service_account_name=environment.service_account_name,
+        node_selector=sanitize_string_dict(environment.node_selector),
+        tolerations=environment.tolerations,
+        affinity=environment.affinity,
+        dns_config=environment.dns_config,
+        dns_policy=environment.dns_policy,
+        host_aliases=environment.host_aliases,
+        host_network=environment.host_network,
+        host_pid=str(environment.host_pid)
+        if environment.host_pid is not None
+        else environment.host_pid,
+        node_name=environment.node_name,
+        priority=environment.priority,
+        priority_class_name=environment.priority_class_name,
+        scheduler_name=environment.scheduler_name,
     )
+    return metadata, pod_spec
+
+
+def get_pod_template_spec(
+    metadata: k8s_schemas.V1ObjectMeta, pod_spec: k8s_schemas.V1PodSpec
+) -> k8s_schemas.V1PodTemplateSpec:
+    return k8s_schemas.V1PodTemplateSpec(metadata=metadata, spec=pod_spec)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/init/git.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/init/git.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,31 +1,35 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+import os
+
 from typing import List, Optional
 
 import ujson
 
+from clipped.list_utils import to_list
+
 from polyaxon.auxiliaries import V1PolyaxonInitContainer
 from polyaxon.connections.kinds import V1ConnectionKind
-from polyaxon.containers.contexts import CONTEXT_MOUNT_ARTIFACTS
 from polyaxon.containers.names import INIT_GIT_CONTAINER_PREFIX, generate_container_name
-from polyaxon.env_vars.keys import POLYAXON_KEYS_SSH_PATH
+from polyaxon.contexts import paths as ctx_paths
+from polyaxon.env_vars.keys import EV_KEYS_SSH_PATH
 from polyaxon.exceptions import PolypodException
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polypod.common import constants
 from polyaxon.polypod.common.containers import patch_container
 from polyaxon.polypod.common.env_vars import (
     get_connection_env_var,
     get_env_from_config_map,
@@ -38,31 +42,33 @@
     get_auth_context_mount,
     get_connections_context_mount,
     get_mount_from_resource,
 )
 from polyaxon.polypod.common.volumes import get_volume_name
 from polyaxon.polypod.specs.contexts import PluginsContextsSpec
 from polyaxon.schemas.types import V1ConnectionType
-from polyaxon.utils.list_utils import to_list
 
 
 def get_repo_context_args(
     name: str,
     url: str,
     revision: str,
     mount_path: str,
-    connection: str = None,
-    flags: List[str] = None,
+    connection: Optional[str] = None,
+    flags: Optional[List[str]] = None,
 ) -> List[str]:
     if not name:
         raise PolypodException("A repo name is required to create a repo context.")
     if not url:
         raise PolypodException("A repo url is required to create a repo context.")
 
-    args = ["--repo-path={}/{}".format(mount_path, name), "--url={}".format(url)]
+    args = [
+        "--repo-path={}".format(os.path.join(mount_path, name)),
+        "--url={}".format(url),
+    ]
 
     if revision:
         args.append("--revision={}".format(revision))
 
     if connection:
         args.append("--connection={}".format(connection))
 
@@ -74,29 +80,27 @@
 
 def get_git_init_container(
     polyaxon_init: V1PolyaxonInitContainer,
     connection: V1ConnectionType,
     contexts: PluginsContextsSpec,
     container: Optional[k8s_schemas.V1Container] = None,
     env: List[k8s_schemas.V1EnvVar] = None,
-    mount_path: str = None,
+    mount_path: Optional[str] = None,
     track: bool = False,
 ) -> k8s_schemas.V1Container:
     if not connection:
         raise PolypodException("A connection is required to create a repo context.")
     container_name = generate_container_name(INIT_GIT_CONTAINER_PREFIX, connection.name)
     if not container:
         container = k8s_schemas.V1Container(name=container_name)
 
     volume_name = (
-        get_volume_name(mount_path)
-        if mount_path
-        else constants.CONTEXT_VOLUME_ARTIFACTS
+        get_volume_name(mount_path) if mount_path else constants.VOLUME_MOUNT_ARTIFACTS
     )
-    mount_path = mount_path or CONTEXT_MOUNT_ARTIFACTS
+    mount_path = mount_path or ctx_paths.CONTEXT_MOUNT_ARTIFACTS
     volume_mounts = [
         get_connections_context_mount(name=volume_name, mount_path=mount_path)
     ]
 
     if contexts and contexts.auth:
         volume_mounts.append(get_auth_context_mount(read_only=True))
 
@@ -109,33 +113,33 @@
         )
         env += to_list(get_items_from_secret(secret=secret), check_none=True)
         env_from = to_list(get_env_from_secret(secret=secret), check_none=True)
     env += to_list(
         get_connection_env_var(connection=connection, secret=secret), check_none=True
     )
     # Add special handling to auto-inject ssh mount path
-    if connection.kind == V1ConnectionKind.SSH and secret.schema.mount_path:
-        env += [get_env_var(POLYAXON_KEYS_SSH_PATH, secret.schema.mount_path)]
+    if connection.kind == V1ConnectionKind.SSH and secret.schema_.mount_path:
+        env += [get_env_var(EV_KEYS_SSH_PATH, secret.schema_.mount_path)]
     config_map = connection.get_config_map()
     if config_map:
         volume_mounts += to_list(
             get_mount_from_resource(resource=config_map), check_none=True
         )
         env += to_list(
             get_items_from_config_map(config_map=config_map), check_none=True
         )
         env_from = to_list(
             get_env_from_config_map(config_map=config_map), check_none=True
         )
     args = get_repo_context_args(
         name=connection.name,
         # Handle the case of custom connection
-        url=getattr(connection.schema, "url", None),
-        revision=getattr(connection.schema, "revision", None),
-        flags=getattr(connection.schema, "flags", None),
+        url=getattr(connection.schema_, "url", None),
+        revision=getattr(connection.schema_, "revision", None),
+        flags=getattr(connection.schema_, "flags", None),
         mount_path=mount_path,
         connection=connection.name if track else None,
     )
     return patch_container(
         container=container,
         name=container_name,
         image=polyaxon_init.get_image(),
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/main/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/main/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/main/container.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/main/container.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,44 +12,44 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Dict, Iterable, List, Optional
 
+from clipped.list_utils import to_list
+
 from polyaxon.exceptions import PolypodException
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polyflow import V1Init
 from polyaxon.polypod.common.containers import patch_container
 from polyaxon.polypod.common.env_vars import get_env_from_k8s_resources
 from polyaxon.polypod.main.env_vars import get_env_vars
 from polyaxon.polypod.main.k8s_resources import (
     get_requested_config_maps,
     get_requested_secrets,
 )
 from polyaxon.polypod.main.volumes import get_volume_mounts
 from polyaxon.polypod.specs.contexts import PluginsContextsSpec
 from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
-from polyaxon.utils.list_utils import to_list
 
 
 def get_main_container(
     container_id: str,
     main_container: k8s_schemas.V1Container,
     volume_mounts: List[k8s_schemas.V1VolumeMount],
     contexts: PluginsContextsSpec,
     artifacts_store: Optional[V1ConnectionType],
     init: Optional[List[V1Init]],
     connections: Optional[List[str]],
     connection_by_names: Dict[str, V1ConnectionType],
     secrets: Optional[Iterable[V1K8sResourceType]],
     config_maps: Optional[Iterable[V1K8sResourceType]],
-    log_level: str,
     run_path: Optional[str],
-    kv_env_vars=None,
+    kv_env_vars: List[List] = None,
     env: List[k8s_schemas.V1EnvVar] = None,
     ports: List[int] = None,
 ) -> k8s_schemas.V1Container:
     """Pod job container for task."""
     connections = connections or []
     connection_by_names = connection_by_names or {}
     secrets = secrets or []
@@ -84,15 +84,14 @@
         config_maps=requested_config_maps,
     )
 
     # Env vars
     env = to_list(env, check_none=True)
     env = env + get_env_vars(
         contexts=contexts,
-        log_level=log_level,
         kv_env_vars=kv_env_vars,
         artifacts_store_name=artifacts_store.name if artifacts_store else None,
         connections=requested_connections,
         secrets=requested_secrets,
         config_maps=requested_config_maps,
     )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/main/env_vars.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/main/env_vars.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,59 +12,53 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Iterable, List
 
+from clipped.list_utils import to_list
+
 from polyaxon.env_vars.keys import (
-    POLYAXON_KEYS_ARTIFACTS_STORE_NAME,
-    POLYAXON_KEYS_COLLECT_ARTIFACTS,
-    POLYAXON_KEYS_COLLECT_RESOURCES,
-    POLYAXON_KEYS_LOG_LEVEL,
+    EV_KEYS_ARTIFACTS_STORE_NAME,
+    EV_KEYS_COLLECT_ARTIFACTS,
+    EV_KEYS_COLLECT_RESOURCES,
 )
 from polyaxon.exceptions import PolyaxonSchemaError, PolypodException
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polypod.common.env_vars import (
     get_connection_env_var,
     get_env_var,
     get_env_vars_from_k8s_resources,
     get_kv_env_vars,
 )
 from polyaxon.polypod.specs.contexts import PluginsContextsSpec
 from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
-from polyaxon.utils.list_utils import to_list
 
 
 def get_env_vars(
     contexts: PluginsContextsSpec,
-    log_level: str,
     kv_env_vars: List[List],
     artifacts_store_name: str,
     connections: Iterable[V1ConnectionType],
     secrets: Iterable[V1K8sResourceType],
     config_maps: Iterable[V1K8sResourceType],
 ) -> List[k8s_schemas.V1EnvVar]:
     env_vars = []
     connections = connections or []
 
-    if log_level:
-        env_vars.append(get_env_var(name=POLYAXON_KEYS_LOG_LEVEL, value=log_level))
-
     if contexts and contexts.collect_artifacts:
-        env_vars.append(get_env_var(name=POLYAXON_KEYS_COLLECT_ARTIFACTS, value=True))
+        env_vars.append(get_env_var(name=EV_KEYS_COLLECT_ARTIFACTS, value=True))
 
     if contexts and contexts.collect_resources:
-        env_vars.append(get_env_var(name=POLYAXON_KEYS_COLLECT_RESOURCES, value=True))
+        env_vars.append(get_env_var(name=EV_KEYS_COLLECT_RESOURCES, value=True))
 
     if artifacts_store_name:
         env_vars.append(
-            get_env_var(
-                name=POLYAXON_KEYS_ARTIFACTS_STORE_NAME, value=artifacts_store_name
-            )
+            get_env_var(name=EV_KEYS_ARTIFACTS_STORE_NAME, value=artifacts_store_name)
         )
 
     # Add connection env vars information
     for connection in connections:
         try:
             secret = connection.get_secret()
             env_vars += to_list(
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/main/k8s_resources.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/main/k8s_resources.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/main/volumes.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/main/volumes.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,28 +12,29 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Iterable, List, Optional
 
-from polyaxon.containers.contexts import CONTEXT_MOUNT_ARTIFACTS
+from clipped.list_utils import to_list
+
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polyflow import V1Init
 from polyaxon.polypod.common import constants
 from polyaxon.polypod.common.mounts import (
     get_artifacts_context_mount,
     get_connections_context_mount,
     get_mount_from_resource,
     get_mount_from_store,
 )
 from polyaxon.polypod.common.volumes import get_volume_name
 from polyaxon.polypod.specs.contexts import PluginsContextsSpec
 from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
-from polyaxon.utils.list_utils import to_list
 
 
 def get_volume_mounts(
     contexts: PluginsContextsSpec,
     init: Optional[List[V1Init]],
     connections: Iterable[V1ConnectionType],
     secrets: Iterable[V1K8sResourceType],
@@ -46,22 +47,22 @@
 
     volume_mounts = []
     volume_names = set()
     if contexts and contexts.collect_artifacts:
         volume_mounts += to_list(
             get_artifacts_context_mount(read_only=False), check_none=True
         )
-        volume_names.add(constants.CONTEXT_VOLUME_ARTIFACTS)
+        volume_names.add(constants.VOLUME_MOUNT_ARTIFACTS)
     for init_connection in init:
         volume_name = (
             get_volume_name(init_connection.path)
             if init_connection.path
-            else constants.CONTEXT_VOLUME_ARTIFACTS
+            else constants.VOLUME_MOUNT_ARTIFACTS
         )
-        mount_path = init_connection.path or CONTEXT_MOUNT_ARTIFACTS
+        mount_path = init_connection.path or ctx_paths.CONTEXT_MOUNT_ARTIFACTS
         if volume_name in volume_names:
             continue
         volume_names.add(volume_name)
         volume_mounts += to_list(
             get_connections_context_mount(name=volume_name, mount_path=mount_path),
             check_none=True,
         )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/mixins.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/mixins.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,27 +1,31 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict
 
 from polyaxon.containers.names import (
     MAIN_JOB_CONTAINER,
+    MXJOBS_CONTAINER,
+    PADDLEJOBS_CONTAINER,
     PYTORCHJOBS_CONTAINER,
     TFJOBS_CONTAINER,
+    XGBJOBS_CONTAINER,
 )
 from polyaxon.k8s.custom_resources import operation
 from polyaxon.polyflow import V1RunKind
 
 
 class BaseMixin:
     SPEC_KIND = operation.KIND
@@ -69,21 +73,41 @@
 
 class PytorchJobMixin(BaseMixin):
     K8S_ANNOTATIONS_KIND = V1RunKind.PYTORCHJOB
     K8S_LABELS_COMPONENT = "polyaxon-pytorch-jobs"
     MAIN_CONTAINER_ID = PYTORCHJOBS_CONTAINER
 
 
+class PaddleJobMixin(BaseMixin):
+    K8S_ANNOTATIONS_KIND = V1RunKind.PADDLEJOB
+    K8S_LABELS_COMPONENT = "polyaxon-paddle-jobs"
+    MAIN_CONTAINER_ID = PADDLEJOBS_CONTAINER
+
+
+class MXJobMixin(BaseMixin):
+    K8S_ANNOTATIONS_KIND = V1RunKind.MXJOB
+    K8S_LABELS_COMPONENT = "polyaxon-mxjobs"
+    MAIN_CONTAINER_ID = MXJOBS_CONTAINER
+
+
+class XGBoostJobMixin(BaseMixin):
+    K8S_ANNOTATIONS_KIND = V1RunKind.XGBJOB
+    K8S_LABELS_COMPONENT = "polyaxon-xgbjobs"
+    MAIN_CONTAINER_ID = XGBJOBS_CONTAINER
+
+
 class MPIJobMixin(BaseMixin):
     K8S_ANNOTATIONS_KIND = V1RunKind.MPIJOB
     K8S_LABELS_COMPONENT = "polyaxon-mpi-jobs"
     MAIN_CONTAINER_ID = MAIN_JOB_CONTAINER
 
 
-MIXIN_MAPPING = {
+MIXIN_MAPPING: Dict = {
     V1RunKind.NOTIFIER: NotifierMixin,
     V1RunKind.JOB: JobMixin,
     V1RunKind.SERVICE: ServiceMixin,
     V1RunKind.TFJOB: TFJobMixin,
     V1RunKind.PYTORCHJOB: PytorchJobMixin,
+    V1RunKind.MXJOB: MXJobMixin,
+    V1RunKind.XGBJOB: XGBoostJobMixin,
     V1RunKind.MPIJOB: MPIJobMixin,
 }
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/pod/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/pod/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/pod/volumes.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/pod/volumes.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,14 +12,16 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Dict, Iterable, List, Optional
 
+from clipped.list_utils import to_list
+
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polyflow import V1Init
 from polyaxon.polypod.common import constants
 from polyaxon.polypod.common.volumes import (
     get_artifacts_context_volume,
     get_configs_context_volume,
     get_connections_context_volume,
@@ -32,15 +34,14 @@
 )
 from polyaxon.polypod.main.k8s_resources import (
     get_requested_config_maps,
     get_requested_secrets,
 )
 from polyaxon.polypod.specs.contexts import PluginsContextsSpec
 from polyaxon.schemas.types import V1ConnectionType, V1K8sResourceType
-from polyaxon.utils.list_utils import to_list
 
 
 def get_pod_volumes(
     contexts: PluginsContextsSpec,
     artifacts_store: Optional[V1ConnectionType],
     init_connections: Optional[List[V1Init]],
     connections: List[str],
@@ -92,15 +93,15 @@
     volume_names = set()
     connection_ids = set()
     # Handle context volumes from init section
     for init_connection in init_connections:
         volume_name = (
             get_volume_name(init_connection.path)
             if init_connection.path
-            else constants.CONTEXT_VOLUME_ARTIFACTS
+            else constants.VOLUME_MOUNT_ARTIFACTS
         )
         if volume_name in volume_names:
             continue
         volume_names.add(volume_name)
         volumes.append(get_connections_context_volume(name=volume_name))
 
     # Add volumes from artifact stores
@@ -113,17 +114,17 @@
     for secret in requested_secrets:
         add_volume_from_resource(resource=secret, is_secret=True)
     for config_map in requested_config_maps:
         add_volume_from_resource(resource=config_map, is_secret=False)
 
     # Add logs/outputs stores
     if contexts and (contexts.collect_artifacts or contexts.collect_logs):
-        if constants.CONTEXT_VOLUME_ARTIFACTS not in volume_names:
+        if constants.VOLUME_MOUNT_ARTIFACTS not in volume_names:
             volumes.append(get_artifacts_context_volume())
-            volume_names.add(constants.CONTEXT_VOLUME_ARTIFACTS)
+            volume_names.add(constants.VOLUME_MOUNT_ARTIFACTS)
         if artifacts_store and artifacts_store.name not in connection_ids:
             connection_ids.add(artifacts_store.name)
             add_volume_from_connection(connection=artifacts_store)
 
     # Add utils contexts
     if contexts and contexts.shm:
         volumes.append(get_shm_context_volume())
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/sidecar/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/sidecar/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/sidecar/container.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/sidecar/container.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,17 +12,20 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import List, Optional
 
+from clipped.list_utils import to_list
+
 from polyaxon.auxiliaries import V1PolyaxonSidecarContainer
 from polyaxon.exceptions import PolypodException
 from polyaxon.k8s import k8s_schemas
+from polyaxon.polypod.common.containers import patch_container
 from polyaxon.polypod.common.env_vars import (
     get_connection_env_var,
     get_env_from_config_map,
     get_env_from_secret,
     get_items_from_config_map,
     get_items_from_secret,
 )
@@ -30,15 +33,14 @@
     get_mount_from_resource,
     get_mount_from_store,
     get_mounts,
 )
 from polyaxon.polypod.sidecar.env_vars import get_sidecar_env_vars
 from polyaxon.polypod.specs.contexts import PluginsContextsSpec
 from polyaxon.schemas.types import V1ConnectionType
-from polyaxon.utils.list_utils import to_list
 
 SIDECAR_CONTAINER = "polyaxon-sidecar"
 
 
 def get_sidecar_args(
     container_id: str, sleep_interval: int, sync_interval: int, monitor_logs: bool
 ) -> List[str]:
@@ -56,15 +58,14 @@
     container_id: str,
     polyaxon_sidecar: V1PolyaxonSidecarContainer,
     env: List[k8s_schemas.V1EnvVar],
     artifacts_store: V1ConnectionType,
     contexts: PluginsContextsSpec,
     run_path: Optional[str],
 ) -> Optional[k8s_schemas.V1Container]:
-
     if artifacts_store and not contexts:
         raise PolypodException(
             "Logs/artifacts store was passed and contexts was not passed."
         )
 
     has_artifacts = artifacts_store and contexts.collect_artifacts
     has_logs = artifacts_store and contexts.collect_logs
@@ -132,18 +133,20 @@
             get_mount_from_store(store=artifacts_store), check_none=True
         )
     env += to_list(
         get_connection_env_var(connection=artifacts_store, secret=secret),
         check_none=True,
     )
 
-    return k8s_schemas.V1Container(
+    container = k8s_schemas.V1Container(
         name=SIDECAR_CONTAINER,
         image=polyaxon_sidecar.get_image(),
         image_pull_policy=polyaxon_sidecar.image_pull_policy,
         command=["polyaxon", "sidecar"],
         args=sidecar_args,
         env=env,
         env_from=env_from,
         resources=polyaxon_sidecar.get_resources(),
         volume_mounts=volume_mounts,
     )
+
+    return patch_container(container)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/sidecar/env_vars.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/sidecar/env_vars.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,28 +12,25 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import List
 
-from polyaxon.env_vars.keys import (
-    POLYAXON_KEYS_ARTIFACTS_STORE_NAME,
-    POLYAXON_KEYS_CONTAINER_ID,
-)
+from clipped.list_utils import to_list
+
+from polyaxon.env_vars.keys import EV_KEYS_ARTIFACTS_STORE_NAME, EV_KEYS_CONTAINER_ID
 from polyaxon.k8s import k8s_schemas
 from polyaxon.polypod.common.env_vars import get_env_var
-from polyaxon.utils.list_utils import to_list
 
 
 def get_sidecar_env_vars(
     env_vars: List[k8s_schemas.V1EnvVar],
     container_id: str,
     artifacts_store_name: str,
 ) -> List[k8s_schemas.V1EnvVar]:
-
     env_vars = to_list(env_vars, check_none=True)[:]
-    env_vars.append(get_env_var(name=POLYAXON_KEYS_CONTAINER_ID, value=container_id))
+    env_vars.append(get_env_var(name=EV_KEYS_CONTAINER_ID, value=container_id))
     env_vars.append(
-        get_env_var(name=POLYAXON_KEYS_ARTIFACTS_STORE_NAME, value=artifacts_store_name)
+        get_env_var(name=EV_KEYS_ARTIFACTS_STORE_NAME, value=artifacts_store_name)
     )
     return env_vars
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/specs/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/specs/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/specs/contexts.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/specs/contexts.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polypod/specs/replica.py` & `polyaxon-2.0.0rc0/polyaxon/polypod/specs/replica.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/pql/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/matrix/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/api/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/schemas/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/cli/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/bayesian_optimization/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/sdk/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/grid_search/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/sdk/async_client/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/grid_search/manager.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/references/dag.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,40 +1,31 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing_extensions import Literal
 
-import itertools
+from pydantic import StrictStr
 
-from typing import Dict, List
+from polyaxon.polyflow.references.mixin import RefMixin
+from polyaxon.schemas.base import BaseDiscriminatedModel
 
-from polyaxon.polyflow import V1GridSearch
-from polyaxon.polytune.matrix.utils import to_numpy
-from polyaxon.polytune.search_managers.base import BaseManager
 
+class V1DagRef(BaseDiscriminatedModel, RefMixin):
+    _IDENTIFIER = "dag_ref"
 
-class GridSearchManager(BaseManager):
-    """Grid search strategy manager for hyperparameter optimization."""
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    name: StrictStr
 
-    CONFIG = V1GridSearch
-
-    def get_suggestions(self, params: List[Dict] = None) -> List[Dict]:
-        suggestions = []
-        keys = list(self.config.params.keys())
-        values = [to_numpy(v) for v in self.config.params.values()]
-        for v in itertools.product(*values):
-            suggestions.append(dict(zip(keys, v)))
-
-        if self.config.num_runs:
-            return suggestions[: self.config.num_runs]
-        return suggestions
+    def get_kind_value(self):
+        return self.name
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/hyperband/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/sdk/sync_client/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/hyperopt/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/services/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/mapping/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/sidecar/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/mapping/manager.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_run_connections_response.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,37 +1,28 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional
 
-import copy
+from pydantic import StrictStr
 
-from typing import Dict, List
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.responses.v1_run_connection import V1RunConnection
 
-from polyaxon.polyflow import V1Mapping
-from polyaxon.polytune.search_managers.base import BaseManager
 
-
-class MappingManager(BaseManager):
-    """Mapping strategy manager for running parallel operations."""
-
-    CONFIG = V1Mapping
-
-    def get_suggestions(self, params: Dict = None) -> List[Dict]:
-        suggestions = []
-        params = params or {}
-        for v in self.config.values:
-            suggestion_params = copy.deepcopy(params)
-            suggestion_params.update(copy.deepcopy(v))
-            suggestions.append(suggestion_params)
-        return suggestions
+class V1ListRunConnectionsResponse(BaseSchemaModel):
+    count: Optional[int]
+    results: Optional[List[V1RunConnection]]
+    previous: Optional[StrictStr]
+    next: Optional[StrictStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/random_search/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/stores/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/spec.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/fields/uuids.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,44 +1,39 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import uuid
+from uuid import UUID
 
-from collections import namedtuple
+from pydantic import StrictStr
 
 
-class SuggestionSpec(namedtuple("SuggestionSpec", "params")):
-    """A structure that defines an experiment hyperparam suggestion."""
-
-    def __eq__(self, other):
-        if self.params.keys() != other.params.keys():
-            return False
-
-        for key, value in self.params.items():
-            if value != other.params[key]:
-                return False
-
-        return True
-
-    def __repr__(self):
-        return ",".join(
-            ["{}:{}".format(key, val) for (key, val) in sorted(self.params.items())]
+class UUIDStr(StrictStr):
+    @classmethod
+    def __get_validators__(cls) -> "CallableGenerator":
+        yield cls.validate
+
+    @classmethod
+    def validate(cls, value, **kwargs):
+        if isinstance(value, str):
+            return UUID(value).hex
+        if isinstance(value, UUID):
+            return value.hex
+        if not value:
+            return value
+
+        field = kwargs.get("field")
+        raise TypeError(
+            f"Field `{field.name}` value be a valid UUID, received `{value}` instead."
         )
-
-    def __hash__(self):
-        return hash(self.__repr__())
-
-    def uuid(self):
-        return uuid.uuid5(uuid.NAMESPACE_DNS, self.__repr__())
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/polytune/search_managers/utils.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/pytorch_lightning.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,21 +1,22 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import numpy as np
+# To keep backwards compatibility
 
+from traceml.integrations.pytorch_lightning import Callback
 
-def get_random_generator(seed=None):
-    return np.random.RandomState(seed) if seed else np.random
+# alias
+PolyaxonCallback = Callback
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/pql/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/pql/builder.py` & `polyaxon-2.0.0rc0/polyaxon/pql/builder.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,18 +13,19 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from collections import namedtuple
 from typing import Any, Callable, Optional
 
-from polyaxon.exceptions import PolyaxonDateTimeFormatterException, PQLException
-from polyaxon.utils.bool_utils import to_bool
-from polyaxon.utils.date_utils import DateTimeFormatter
-from polyaxon.utils.list_utils import to_list
+from clipped.bool_utils import to_bool
+from clipped.date_utils import DateTimeFormatter, DateTimeFormatterException
+from clipped.list_utils import to_list
+
+from polyaxon.exceptions import PQLException
 
 
 class QueryCondSpec(namedtuple("QueryCondSpec", "cond params")):
     def items(self):
         return self._asdict().items()
 
 
@@ -50,15 +51,15 @@
     def apply(
         self, queryset: Any, name: str, params: Any, query_backend: Any, timezone: str
     ):
         raise NotImplementedError
 
 
 class BaseOperatorCondition(BaseCondition):
-    def __init__(self, op: str, negation: bool = False) -> None:
+    def __init__(self, op: str, negation: bool = False):
         if op not in self.VALUES and op not in self.REPRESENTATIONS:
             raise PQLException(
                 "Received an invalid operator `{}`, "
                 "possible values `{}` or `{}`.".format(
                     op, self.VALUES, self.REPRESENTATIONS
                 )
             )
@@ -84,15 +85,15 @@
             name=name, params=params, query_backend=query_backend, timezone=timezone
         )
 
 
 class CallbackCondition(BaseCondition):
     """The `CallbackCondition` represents a filter based on a callback to apply."""
 
-    def __init__(self, callback: Callable) -> None:
+    def __init__(self, callback: Callable):
         self.callback = callback
         self.negation = False
 
     def __call__(self, op, negation: bool = False) -> "CallbackCondition":
         self.negation = negation
         return self
 
@@ -178,17 +179,18 @@
 class BoolCondition(EqualityCondition):
     @staticmethod
     def _eq_operator(name: str, params: Any, query_backend: Any, timezone: str) -> Any:
         return query_backend(**{name: to_bool(params)})
 
 
 class ComparisonCondition(EqualityCondition):
-    VALUES = EqualityCondition.VALUES | {"lt", "lte", "gt", "gte"}
-    REPRESENTATIONS = EqualityCondition.REPRESENTATIONS | {"<", "<=", ">", ">="}
+    VALUES = EqualityCondition.VALUES | {"in", "lt", "lte", "gt", "gte"}
+    REPRESENTATIONS = EqualityCondition.REPRESENTATIONS | {"|", "<", "<=", ">", ">="}
     REPRESENTATION_MAPPING = EqualityCondition.REPRESENTATION_MAPPING + (
+        ("|", "in"),
         ("<", "lt"),
         ("<=", "lte"),
         (">", "gt"),
         (">=", "gte"),
     )
 
     @classmethod
@@ -216,14 +218,19 @@
             return cls._gt_operator
 
         if op == "gte" or op == ">=":
             if negation:
                 return cls._lt_operator
             return cls._gte_operator
 
+        if op == "in" or op == "|":
+            if negation:
+                return cls._nin_operator
+            return cls._in_operator
+
     @staticmethod
     def _lt_operator(name: str, params: Any, query_backend: Any, timezone: str) -> Any:
         name = "{}__lt".format(name)
         return query_backend(**{name: params})
 
     @staticmethod
     def _gt_operator(name: str, params: Any, query_backend: Any, timezone: str) -> Any:
@@ -236,44 +243,91 @@
         return query_backend(**{name: params})
 
     @staticmethod
     def _gte_operator(name: str, params: Any, query_backend: Any, timezone: str) -> Any:
         name = "{}__gte".format(name)
         return query_backend(**{name: params})
 
+    @staticmethod
+    def _in_operator(name: str, params: Any, query_backend: Any, timezone: str) -> Any:
+        assert isinstance(params, (list, tuple))
+        name = "{}__in".format(name)
+        return query_backend(**{name: params})
+
+    @classmethod
+    def _nin_operator(
+        cls, name: str, params: Any, query_backend: Any, timezone: str
+    ) -> Any:
+        return ~cls._in_operator(name, params, query_backend, timezone)
+
 
 class DateTimeCondition(ComparisonCondition):
     VALUES = ComparisonCondition.VALUES | {"range"}
     REPRESENTATIONS = ComparisonCondition.REPRESENTATIONS | {".."}
     REPRESENTATION_MAPPING = ComparisonCondition.REPRESENTATION_MAPPING + (
         ("..", "range"),
     )
 
     @classmethod
     def _get_operator(cls, op: str, negation: bool = False) -> Optional[Callable]:
         if op not in cls.VALUES and op not in cls.REPRESENTATIONS:
             return None
 
+        # handle eq in from current class
+        if op == "eq" or op == "=":
+            if negation:
+                return cls._neq_operator
+            return cls._eq_operator
         _op = ComparisonCondition._get_operator(op, negation)
         if _op:
             return _op
 
         if negation:
             return cls._nrange_operator
         return cls._range_operator
 
     @staticmethod
+    def _eq_operator(name: str, params: Any, query_backend: Any, timezone: str) -> Any:
+        try:
+            # Check If params is date
+            DateTimeFormatter.extract_timestamp(
+                params,
+                dt_format=DateTimeFormatter.DATE_FORMAT,
+                timezone=timezone,
+                force_tz=True,
+            )
+            return query_backend(**{f"{name}__date": params})
+        except (TypeError, ValueError):
+            pass
+        try:
+            # Extract full datetime
+            params_value = DateTimeFormatter.extract_datetime(
+                params,
+                timezone=timezone,
+                force_tz=True,
+            )
+            filters = {
+                f"{name}__date": params_value.date(),
+                f"{name}__hour": params_value.hour,
+                f"{name}__minute": params_value.minute,
+            }
+            return query_backend(**filters)
+        except (TypeError, ValueError):
+            pass
+        return query_backend(**{name: params})
+
+    @staticmethod
     def _range_operator(
         name: str, params: Any, query_backend: Any, timezone: str
     ) -> Any:
         assert len(params) == 2
         try:
             start_date = DateTimeFormatter.extract(params[0], timezone)
             end_date = DateTimeFormatter.extract(params[1], timezone)
-        except PolyaxonDateTimeFormatterException as e:
+        except DateTimeFormatterException as e:
             raise PQLException(e)
 
         name = "{}__range".format(name)
         return query_backend(**{name: (start_date, end_date)})
 
     @classmethod
     def _nrange_operator(
@@ -435,7 +489,55 @@
         return query_backend(**{name: params})
 
     @classmethod
     def _nin_operator(
         cls, name: str, params: Any, query_backend: Any, timezone: str
     ) -> Any:
         return ~cls._in_operator(name, params, query_backend, timezone)
+
+
+class KeysCondition(EqualityCondition):
+    VALUES = EqualityCondition.VALUES | {"in"}
+    REPRESENTATIONS = EqualityCondition.REPRESENTATIONS | {"|"}
+    REPRESENTATION_MAPPING = EqualityCondition.REPRESENTATION_MAPPING + (("|", "in"),)
+
+    @classmethod
+    def _get_operator(cls, op: str, negation: bool = False) -> Optional[Callable]:
+        if op not in cls.VALUES and op not in cls.REPRESENTATIONS:
+            return None
+
+        _op = cls._get_eq_operator(op, negation)
+        if _op:
+            return _op
+
+        if negation:
+            return cls._nin_operator
+        return cls._in_operator
+
+    @classmethod
+    def _get_eq_operator(cls, op: str, negation: bool = False) -> Optional[Callable]:
+        if (
+            op not in EqualityCondition.VALUES
+            and op not in EqualityCondition.REPRESENTATIONS
+        ):
+            return None
+
+        if negation:
+            return cls._neq_operator
+        return cls._eq_operator
+
+    @staticmethod
+    def _eq_operator(name: str, params: Any, query_backend: Any, timezone: str) -> Any:
+        name = "{}__has_key".format(name)
+        return query_backend(**{name: to_list(params)})
+
+    @staticmethod
+    def _in_operator(name: str, params: Any, query_backend: Any, timezone: str) -> Any:
+        assert isinstance(params, (list, tuple))
+        name = "{}__has_any_keys".format(name)
+        return query_backend(**{name: params})
+
+    @classmethod
+    def _nin_operator(
+        cls, name: str, params: Any, query_backend: Any, timezone: str
+    ) -> Any:
+        return ~cls._in_operator(name, params, query_backend, timezone)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/pql/manager.py` & `polyaxon-2.0.0rc0/polyaxon/pql/manager.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -20,19 +20,22 @@
 from polyaxon.pql.builder import QueryCondSpec
 from polyaxon.pql.parser import parse_field, tokenize_query
 
 
 class PQLManager:
     NAME = None
     FIELDS_USE_UUID = None
+    FIELDS_USE_STATE = None
+    FIELDS_USE_NAME = None
     FIELDS_PROXY = {}
     FIELDS_TRANS = {}
     FIELDS_ORDERING = None
     FIELDS_ORDERING_PROXY = None
     FIELDS_DEFAULT_ORDERING = None
+    FIELDS_DISTINCT = None
     CHECK_ALIVE = True
     PARSERS_BY_FIELD = {}
     CONDITIONS_BY_FIELD = {}
     QUERY_BACKEND = None
     TIMEZONE = None
 
     @classmethod
@@ -40,23 +43,31 @@
         field, suffix = parse_field(field)
         if field in cls.FIELDS_PROXY:
             field = cls.FIELDS_PROXY[field]
         if cls.FIELDS_USE_UUID and not suffix and field in cls.FIELDS_USE_UUID:
             suffix = "uuid"
         if cls.FIELDS_USE_UUID and field in cls.FIELDS_USE_UUID and suffix == "id":
             suffix = "uuid"
+        if cls.FIELDS_USE_STATE and not suffix and field in cls.FIELDS_USE_STATE:
+            suffix = "state"
+        if cls.FIELDS_USE_STATE and field in cls.FIELDS_USE_STATE and suffix == "id":
+            suffix = "state"
+        if cls.FIELDS_USE_NAME and not suffix and field in cls.FIELDS_USE_NAME:
+            suffix = "name"
+        if cls.FIELDS_USE_NAME and field in cls.FIELDS_USE_NAME and suffix == "id":
+            suffix = "name"
         return "{}__{}".format(field, suffix) if suffix else field
 
     @classmethod
     def trans_field(
         cls,
         key: str,
         tokenized_query: Dict[str, Iterable],
         update_tokenized_query: Dict[str, Iterable],
-    ) -> None:
+    ):
         field, suffix = parse_field(key)
         if field in cls.FIELDS_TRANS:
             field_trans = cls.FIELDS_TRANS[field]["field"]
             update_tokenized_query["{}_value".format(field_trans)] = tokenized_query[
                 key
             ]
             update_tokenized_query["{}_name".format(field_trans)] = [suffix]
@@ -64,14 +75,20 @@
                 update_tokenized_query[
                     "{}_type".format(field_trans)
                 ] = cls.FIELDS_TRANS[field]["type"]
         else:
             update_tokenized_query[key] = tokenized_query[key]
 
     @classmethod
+    def trigger_distinct(cls, key: str):
+        if cls.FIELDS_DISTINCT and key in cls.FIELDS_DISTINCT:
+            return True
+        return False
+
+    @classmethod
     def tokenize(cls, query_spec: str) -> Dict[str, Iterable]:
         tokenized_query = tokenize_query(query_spec)
         results = {}
         for key in tokenized_query.keys():
             field, _ = parse_field(key)
             if field and (
                 field not in cls.PARSERS_BY_FIELD
@@ -118,16 +135,19 @@
         built_query = cls.build(parsed_query=parsed_query)
         return built_query
 
     @classmethod
     def apply(cls, query_spec: str, queryset: Any) -> Any:
         built_query = cls.handle_query(query_spec=query_spec)
         operators = []
+        trigger_distinct = False
         for key, cond_specs in built_query.items():
             key = cls.proxy_field(key)
+            if not trigger_distinct:
+                trigger_distinct = cls.trigger_distinct(key)
             for cond_spec in cond_specs:
                 try:
                     operator = cond_spec.cond.apply_operator(
                         name=key,
                         params=cond_spec.params,
                         query_backend=cls.QUERY_BACKEND,
                         timezone=cls.TIMEZONE,
@@ -135,8 +155,11 @@
                 except Exception as e:
                     raise PQLException(
                         "Error applying operator for key `%s` by the query manager `%s`. "
                         "%s" % (key, cls.NAME, e)
                     )
                 operators.append(operator)
 
-        return queryset.filter(*operators)
+        queryset = queryset.filter(*operators)
+        if trigger_distinct:
+            queryset = queryset.distinct()
+        return queryset
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/pql/parser.py` & `polyaxon-2.0.0rc0/polyaxon/pql/parser.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,17 +13,18 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import json
 
 from collections import defaultdict, namedtuple
-from typing import Any, Dict, Iterable, List, Optional, Tuple
+from typing import Any, Callable, Dict, Iterable, List, Optional, Tuple
 
 from polyaxon.exceptions import PQLException
+from traceml.processors.units_processors import to_cpu_value, to_memory_bytes
 
 
 class QueryOpSpec(namedtuple("QueryOpSpec", "op negation params")):
     def items(self):
         return self._asdict().items()
 
 
@@ -135,15 +136,15 @@
             "Expression is not valid, it must be formatted as "
             "name:operation, "
             "Operation: {}".format(operation)
         )
     return QueryOpSpec(op, negation, _operation)
 
 
-def parse_scalar_operation(operation: str) -> "QueryOpSpec":
+def parse_scalar_operation(operation: str, loader: Callable = None) -> "QueryOpSpec":
     """Parse scalar operations.
 
     A scalar operation can be one of the following:
 
      * single value: start_date:12, metric1:>0.9, metric1:>=-0.12
      * negation single value: metric1:~1112, metric1:~<1112 equivalent to metric1:>=1112
 
@@ -174,39 +175,49 @@
 
     # Check comparison operators
     op, _operation = parse_comparison_operation(_operation)
     if not op:
         # Now the operation must be an equality param
         op = "="
 
+    if loader:
+        _operation = loader(_operation)
     # Check that params are scalar (int, float)
     try:
         int(_operation)
     except (ValueError, TypeError):
         try:
             float(_operation)
         except (ValueError, TypeError):
             raise PQLException(
                 "Scalar operation requires int or float params, "
                 "received {}.".format(operation)
             )
     return QueryOpSpec(op, negation, _operation)
 
 
+def parse_memory_operation(operation: str) -> "QueryOpSpec":
+    return parse_scalar_operation(operation, loader=to_memory_bytes)
+
+
+def parse_cpu_operation(operation: str) -> "QueryOpSpec":
+    return parse_scalar_operation(operation, loader=to_cpu_value)
+
+
 def parse_value_operation(operation: str) -> "QueryOpSpec":
     """Parse value operations.
 
     A value operation can be one of the following:
 
      * single value: tag1:foo
      * negation single value: tag1:~foo
      * multiple values: tag1:foo|bar|moo
      * negation multiple values: tag1:~foo|bar|moo
 
-    This parser does not allow `..`, '>', '<', '>=', and '<='.
+    This parser does not allow `..`.
     """
     _operation = operation.strip()
     if not _operation:
         raise PQLException("Operation is not valid: {}".format(operation))
     # Check range not allowed
     if ".." in _operation:
         raise PQLException(
@@ -218,22 +229,14 @@
     spec = parse_nil_operation(_operation)
     if spec:
         return spec
 
     # Check negation
     negation, _operation = parse_negation_operation(_operation)
 
-    # Check comparison not allowed
-    op, _operation = parse_comparison_operation(_operation)
-    if op:
-        raise PQLException(
-            "`{}` is not allowed for value conditions, "
-            "Operation: {}".format(op, operation)
-        )
-
     # Early return
     if _operation is not None and not isinstance(_operation, str):
         return QueryOpSpec("=", negation, _operation)
 
     # Check in operator
     if "|" in _operation:
         op = "|"
@@ -244,22 +247,27 @@
         if len(params) <= 1:
             raise PQLException(
                 "`{}` is not allowed for value conditions, "
                 "Operation: {}".format(op, operation)
             )
         return QueryOpSpec(op, negation, params)
 
-    if not _operation:
+    # Check comparison operators
+    op, _operation = parse_comparison_operation(_operation)
+    if not op:
+        # Now the operation must be an equality param
+        op = "="
+
+    if _operation is None:
         raise PQLException(
             "Expression is not valid, it must be formatted as "
             "name:operation, "
             "Operation: {}".format(operation)
         )
-    # Now the operation must be an equality param param
-    return QueryOpSpec("=", negation, _operation)
+    return QueryOpSpec(op, negation, _operation)
 
 
 def parse_search_operation(operation: str) -> "QueryOpSpec":
     """Parse search operations.
 
     A search operation can be one of the following:
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/utils/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/generators/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/mapping/__init__.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,19 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.proxies.generators.api import generate_api_conf
-from polyaxon.proxies.generators.gateway import generate_gateway_conf
-from polyaxon.proxies.generators.streams import generate_streams_conf
+# To keep backwards compatibility
+
+from hypertune.search_managers.mapping.manager import MappingManager
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/generators/api.py` & `polyaxon-2.0.0rc0/polyaxon/utils/host_utils.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,23 +1,25 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+import os
 
-from polyaxon.proxies.generators.base import write_to_conf_file
-from polyaxon.proxies.schemas.api import get_base_config, get_main_config
+from clipped.http_utils import clean_host
 
+from polyaxon.api import LOCALHOST
+from polyaxon.env_vars.keys import EV_KEYS_PLATFORM_HOST
 
-def generate_api_conf(path=None, root=None):
-    write_to_conf_file("polyaxon.main", get_main_config(root), path)
-    write_to_conf_file("polyaxon.base", get_base_config(), path)
+
+def get_api_host(default: str = LOCALHOST):
+    return clean_host(os.environ.get(EV_KEYS_PLATFORM_HOST, default))
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/generators/base.py` & `polyaxon-2.0.0rc0/polyaxon/polyboard/logging.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,20 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
+# To keep backwards compatibility
 
-def write_to_conf_file(name, content, path=None):
-    with open("{}/{}.conf".format(path or ".", name), "w") as f:
-        f.write(content)
+from traceml.logging.schemas import V1Log, V1Logs
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/generators/gateway.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/__init__.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,28 +1,18 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.proxies.generators.base import write_to_conf_file
-from polyaxon.proxies.schemas.gateway import (
-    get_base_config,
-    get_main_config,
-    get_redirect_config,
-)
-
-
-def generate_gateway_conf(path=None, root=None):
-    write_to_conf_file("polyaxon.main", get_main_config(root), path)
-    write_to_conf_file("polyaxon.base", get_base_config(), path)
-    write_to_conf_file("polyaxon.redirect", get_redirect_config(), path)
+from polyaxon.schemas.patch_strategy import V1PatchStrategy
+from polyaxon.schemas.pending import V1RunPending
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/generators/streams.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/scikit.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,22 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from polyaxon.proxies.generators.base import write_to_conf_file
-from polyaxon.proxies.schemas.streams import get_base_config, get_main_config
 
+# To keep backwards compatibility
 
-def generate_streams_conf(path=None, root=None):
-    write_to_conf_file("polyaxon.main", get_main_config(root), path)
-    write_to_conf_file("polyaxon.base", get_base_config(), path)
+from traceml.integrations.scikit import log_classifier, log_regressor
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/random_search/__init__.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,19 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.utils.imports import import_submodules
+# To keep backwards compatibility
 
-import_submodules(globals(), __name__, __path__)
+from hypertune.search_managers.random_search.manager import RandomSearchManager
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/api/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_project_versions_response.py`

 * *Files 21% similar despite different names*

```diff
@@ -1,18 +1,28 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional
 
-from polyaxon.proxies.schemas.api.base import get_base_config
-from polyaxon.proxies.schemas.api.main import get_main_config
+from pydantic import StrictStr
+
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.responses.v1_project_version import V1ProjectVersion
+
+
+class V1ListProjectVersionsResponse(BaseSchemaModel):
+    count: Optional[int]
+    results: Optional[List[V1ProjectVersion]]
+    previous: Optional[StrictStr]
+    next: Optional[StrictStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/api/main.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/schemas/root_user.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,32 +1,28 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.proxies.schemas.base import get_config
+from typing import Optional
 
-OPTIONS = """
-upstream polyaxon {{
-  server unix:{root}/web/polyaxon.sock;
-}}
+from pydantic import StrictStr, constr
 
-server {{
-    include polyaxon/polyaxon.base.conf;
-}}
-"""
+from polyaxon.schemas.base import NAME_REGEX, BaseSchemaModel
+from polyaxon.schemas.fields.email import EmailStr
 
 
-def get_main_config(root=None):
-    root = root or "/polyaxon"
-    return get_config(options=OPTIONS, indent=0, root=root)
+class RootUserConfig(BaseSchemaModel):
+    username: Optional[constr(regex=NAME_REGEX)]  # type: ignore[valid-type]
+    password: Optional[StrictStr]
+    email: Optional[EmailStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/base.py` & `polyaxon-2.0.0rc0/polyaxon/client/decorators/errors.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,38 +1,34 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, Optional
 
-from polyaxon import settings
+from polyaxon.exceptions import handle_api_error
+from polyaxon.logger import logger
 
 
-def _get_indent(indent):
-    return (
-        settings.PROXIES_CONFIG.nginx_indent_char
-        * settings.PROXIES_CONFIG.nginx_indent_width
-        * indent
+def handle_client_error(
+    e,
+    message: Optional[str] = None,
+    http_messages_mapping: Optional[Dict] = None,
+    sys_exit: bool = False,
+):
+    handle_api_error(
+        e=e,
+        logger=logger,
+        message=message,
+        http_messages_mapping=http_messages_mapping,
+        sys_exit=sys_exit,
     )
-
-
-def get_config(options, indent=0, **kwargs):
-    _options = options.format(**kwargs)
-    config = []
-    for p in _options.split("\n"):
-        config.append("{}{}".format(_get_indent(indent), p))
-
-    return clean_config(config)
-
-
-def clean_config(config):
-    return "\n".join(config).replace("    \n", "")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/buffering.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_dashboard_spec.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,28 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional
 
-from polyaxon.proxies.schemas.base import get_config
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.responses.v1_section_spec import V1SectionSpec
 
-OPTIONS = """
-client_max_body_size        4G;
-client_body_buffer_size     50m;
-client_body_in_file_only clean;
-sendfile on;
-"""
 
-
-def get_buffering_config():
-    return get_config(options=OPTIONS, indent=0)
+class V1DashboardSpec(BaseSchemaModel):
+    sections: Optional[List[V1SectionSpec]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/charset.py` & `polyaxon-2.0.0rc0/polyaxon/sidecar/container/monitors/__init__.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,25 +1,18 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.proxies.schemas.base import get_config
-
-OPTIONS = """
-charset utf-8;
-"""
-
-
-def get_charset_config():
-    return get_config(options=OPTIONS, indent=0)
+from polyaxon.sidecar.container.monitors.artifacts import sync_artifacts
+from polyaxon.sidecar.container.monitors.logs import sync_logs
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/error_page.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/tensorboard.py`

 * *Files 21% similar despite different names*

```diff
@@ -1,27 +1,22 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.proxies.schemas.base import get_config
+# To keep backwards compatibility
 
-OPTIONS = """
-error_page 500 502 503 504 /static/errors/50x.html;
-error_page 401 403 /static/errors/permission.html;
-error_page 404 /static/errors/404.html;
-"""
+from traceml.integrations.tensorboard import Logger
 
-
-def get_error_page_config():
-    return get_config(options=OPTIONS, indent=0)
+# alias
+PolyaxonTensorboardLogger = Logger
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/favicon.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/pending.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,27 +1,24 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.proxies.schemas.base import get_config
+from clipped.enums_utils import PEnum
 
-OPTIONS = """
-location = /favicon.ico {{
-    rewrite ^ /static/images/favicon.ico;
-}}
-"""
 
-
-def get_favicon_config():
-    return get_config(options=OPTIONS, indent=0)
+class V1RunPending(str, PEnum):
+    APPROVAL = "approval"
+    UPLOAD = "upload"
+    CACHE = "cache"
+    BUILD = "build"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/schemas/rbac.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,19 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.proxies.schemas.gateway.base import get_base_config
-from polyaxon.proxies.schemas.gateway.main import get_main_config
-from polyaxon.proxies.schemas.gateway.redirect import get_redirect_config
+from typing import Optional
+
+from polyaxon.schemas.base import BaseSchemaModel
+
+
+class RBACConfig(BaseSchemaModel):
+    enabled: Optional[bool]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/healthz.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/base.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,31 +1,30 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from polyaxon.schemas.base import BaseDiscriminatedModel
 
-from polyaxon.proxies.schemas.base import get_config
 
-HEALTHZ_LOCATION_OPTIONS = r"""
-location /healthz/ {{
-    access_log off;
-    return 200 "healthy";
-}}
-"""
+class BaseRun(BaseDiscriminatedModel):
+    def get_resources(self):
+        raise NotImplementedError
 
+    def get_all_containers(self):
+        raise NotImplementedError
 
-def get_healthz_location_config():
-    return get_config(
-        options=HEALTHZ_LOCATION_OPTIONS,
-        indent=0,
-    )
+    def get_all_connections(self):
+        raise NotImplementedError
+
+    def get_all_init(self):
+        raise NotImplementedError
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/main.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/schemas/deployment_types.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,30 +1,32 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.proxies.schemas.base import get_config
+from clipped.enums_utils import PEnum
 
-OPTIONS = r"""
-server {{
-    include polyaxon/polyaxon.base.conf;
-}}
 
-include polyaxon/polyaxon.redirect.conf;
-"""
+class DeploymentTypes(str, PEnum):
+    KUBERNETES = "kubernetes"
+    MINIKUBE = "minikube"
+    MICRO_K8S = "microk8s"
+    DOCKER_COMPOSE = "docker-compose"
+    DOCKER = "docker"
+    HEROKU = "heroku"
 
 
-def get_main_config(root=None):
-    root = root or "/polyaxon"
-    return get_config(options=OPTIONS, indent=0, root=root)
+class DeploymentCharts(str, PEnum):
+    PLATFORM = "platform"
+    AGENT = "agent"
+    GATEWAY = "gateway"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gateway/redirect.py` & `polyaxon-2.0.0rc0/polyaxon/client/init.py`

 * *Files 21% similar despite different names*

```diff
@@ -1,33 +1,30 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
 from polyaxon import settings
-from polyaxon.proxies.schemas.base import get_config
+from polyaxon.client import RunClient
+from polyaxon.exceptions import PolyaxonClientException, PolyaxonContainerException
 
-SSL_REDIRECT_OPTIONS = r"""
-server {{
-    listen 80;
-    return 301 https://$host$request_uri;
-}}
-"""
 
+def get_client_or_raise() -> Optional[RunClient]:
+    if settings.CLIENT_CONFIG.no_api:
+        return None
 
-def get_redirect_config():
-    return get_config(
-        options=SSL_REDIRECT_OPTIONS if settings.PROXIES_CONFIG.ssl_enabled else "",
-        indent=0,
-        ssl_path=settings.PROXIES_CONFIG.ssl_path,
-    )
+    try:
+        return RunClient()
+    except PolyaxonClientException as e:
+        raise PolyaxonContainerException(e)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/gzip.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/tuner.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,28 +1,25 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing_extensions import Literal
 
-from polyaxon.proxies.schemas.base import get_config
+from polyaxon.polyflow.run.job import V1Job
+from polyaxon.polyflow.run.kinds import V1RunKind
 
-OPTIONS = """
-gzip                        on;
-gzip_disable                "msie6";
-gzip_types                  *;
-gzip_proxied                any;
-"""
 
+class V1TunerJob(V1Job):
+    _IDENTIFIER = V1RunKind.TUNER
 
-def get_gzip_config():
-    return get_config(options=OPTIONS, indent=0)
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/listen.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/event.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,36 +1,27 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-from polyaxon import settings
-from polyaxon.proxies.schemas.base import get_config
+from pydantic import StrictStr
 
-HTTP_OPTIONS = """
-listen {port};
-"""
+from polyaxon.schemas.types.base import BaseTypeConfig
 
-SSL_OPTIONS = """
-listen 443 ssl;
-ssl on;
-"""
 
+class V1EventType(BaseTypeConfig):
+    _IDENTIFIER = "event"
 
-def get_listen_config(is_proxy: bool, port=80) -> str:
-    options = (
-        SSL_OPTIONS
-        if is_proxy and settings.PROXIES_CONFIG.ssl_enabled
-        else HTTP_OPTIONS
-    )
-    return get_config(options=options, indent=0, port=port)
+    name: Optional[StrictStr]
+    kind: Optional[StrictStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/logging.py` & `polyaxon-2.0.0rc0/polyaxon/__main__.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,29 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon import settings
-from polyaxon.proxies.schemas.base import get_config
+from polyaxon.main import main
 
-OPTIONS = """
-error_log /polyaxon/logs/error.log {level};
-"""
-
-
-def get_logging_config():
-    log_level = settings.PROXIES_CONFIG.log_level
-    if log_level and log_level.lower() == "warning":
-        log_level = "warn"
-    return get_config(options=OPTIONS, indent=0, level=log_level)
+main()
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/robots.py` & `polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/hyperband/__init__.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,27 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.proxies.schemas.base import get_config
+# To keep backwards compatibility
 
-OPTIONS = """
-location = /robots.txt {{
-    rewrite ^ /static/robots.txt;
-}}
-"""
-
-
-def get_robots_config():
-    return get_config(options=OPTIONS, indent=0)
+from hypertune.search_managers.hyperband.manager import HyperbandManager
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/streams/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_uuids.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,18 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional
 
-from polyaxon.proxies.schemas.streams.base import get_base_config
-from polyaxon.proxies.schemas.streams.main import get_main_config
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields import UUIDStr
+
+
+class V1Uuids(BaseSchemaModel):
+    uuids: Optional[List[UUIDStr]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/streams/main.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_run_edges_response.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,32 +1,28 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional
 
-from polyaxon.proxies.schemas.base import get_config
+from pydantic import StrictStr
 
-OPTIONS = """
-upstream polyaxon {{
-  server unix:{root}/web/polyaxon.sock;
-}}
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.responses.v1_run_edge import V1RunEdge
 
-server {{
-    include polyaxon/polyaxon.base.conf;
-}}
-"""
 
-
-def get_main_config(root=None):
-    root = root or "/polyaxon"
-    return get_config(options=OPTIONS, indent=0, root=root)
+class V1ListRunEdgesResponse(BaseSchemaModel):
+    count: Optional[int]
+    results: Optional[List[V1RunEdge]]
+    previous: Optional[StrictStr]
+    next: Optional[StrictStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/proxies/schemas/timeout.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_auth.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,34 +1,24 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-from polyaxon import settings
-from polyaxon.proxies.schemas.base import get_config
+from pydantic import StrictStr
 
-OPTIONS = """
-send_timeout {timeout};
-keepalive_timeout {timeout};
-uwsgi_read_timeout {timeout};
-uwsgi_send_timeout {timeout};
-client_header_timeout {timeout};
-proxy_read_timeout {timeout};
-keepalive_requests 10000;
-"""
+from polyaxon.schemas.base import BaseSchemaModel
 
 
-def get_timeout_config():
-    return get_config(
-        options=OPTIONS, indent=0, timeout=settings.PROXIES_CONFIG.nginx_timeout
-    )
+class V1Auth(BaseSchemaModel):
+    token: Optional[StrictStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/lightgbm.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,18 +1,22 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.schemas.patch_strategy import V1PatchStrategy
-from polyaxon.schemas.pending import V1RunPending
+# To keep backwards compatibility
+
+from traceml.integrations.lightgbm import callback
+
+# alias
+polyaxon_callback = callback
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/api/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/vendor/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/cli/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/run.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,15 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+
+# To keep backwards compatibility
+
+from traceml.tracking.run import Run
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/cli/checks_config.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/cli/checks_config.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,66 +1,61 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import os
 
-from datetime import timedelta
+from datetime import datetime, timedelta
+from typing import Optional
 
-from marshmallow import fields
+from clipped.tz_utils import now
 
-from polyaxon.env_vars.keys import POLYAXON_KEYS_INTERVALS_COMPATIBILITY_CHECK
-from polyaxon.schemas.base import BaseConfig, BaseSchema
-from polyaxon.utils.tz_utils import now
+from polyaxon.env_vars.keys import EV_KEYS_INTERVALS_COMPATIBILITY_CHECK
+from polyaxon.schemas.base import BaseSchemaModel
 
 
-class ChecksSchema(BaseSchema):
-    last_check = fields.DateTime(allow_none=True)
+class ChecksConfig(BaseSchemaModel):
+    _IDENTIFIER = "checks"
+    _INTERVAL = 30 * 60
 
-    @staticmethod
-    def schema_config():
-        return ChecksConfig
-
-
-class ChecksConfig(BaseConfig):
-    SCHEMA = ChecksSchema
-    IDENTIFIER = "checks"
-    INTERVAL = 30 * 60
+    last_check: Optional[datetime]
 
     def __init__(
         self,
         last_check=None,
+        **data,
     ):
-        self.last_check = self.get_last_check(last_check)
+        last_check = self.get_last_check(last_check)
+        super().__init__(last_check=last_check, **data)
 
-    def get_interval(self, interval: int = None):
+    def get_interval(self, interval: Optional[int] = None) -> int:
         if interval is not None:
             return interval
         interval = int(
-            os.environ.get(POLYAXON_KEYS_INTERVALS_COMPATIBILITY_CHECK, self.INTERVAL)
+            os.environ.get(EV_KEYS_INTERVALS_COMPATIBILITY_CHECK, self._INTERVAL)
         )
         if interval == -1:
             return interval
-        return max(interval, self.INTERVAL)
+        return max(interval, self._INTERVAL)
 
     @classmethod
-    def get_last_check(cls, last_check):
-        return last_check or now() - timedelta(cls.INTERVAL)
+    def get_last_check(cls, last_check) -> datetime:
+        return last_check or now() - timedelta(cls._INTERVAL)
 
-    def should_check(self, interval: int = None):
+    def should_check(self, interval: Optional[int] = None) -> bool:
         interval = self.get_interval(interval=interval)
         if interval == -1:
             return False
         if (now() - self.last_check).total_seconds() > interval:
             return True
         return False
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/fields/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_agent_state_response.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,24 +1,29 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Any, Dict, Optional
 
-from polyaxon.schemas.fields.dict_or_str import DictOrStr  # noqa
-from polyaxon.schemas.fields.float_or_str import FloatOrStr  # noqa
-from polyaxon.schemas.fields.indexed_dict import IndexedDict  # noqa
-from polyaxon.schemas.fields.int_or_str import IntOrStr  # noqa
-from polyaxon.schemas.fields.obj_list_obj import ObjectOrListObject  # noqa
-from polyaxon.schemas.fields.str_or_fct import StrOrFct  # noqa
-from polyaxon.schemas.fields.tensor import Tensor  # noqa
-from polyaxon.schemas.fields.uuids import UUID  # noqa
+from polyaxon.lifecycle import V1Statuses
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.responses.v1_agent_state_response_agent_state import (
+    V1AgentStateResponseAgentState,
+)
+
+
+class V1AgentStateResponse(BaseSchemaModel):
+    status: Optional[V1Statuses]
+    state: Optional[V1AgentStateResponseAgentState]
+    live_state: Optional[int]
+    compatible_updates: Optional[Dict[str, Any]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/fields/docker_image.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/fields/docker_image.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,39 +1,37 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from marshmallow import ValidationError
-
 from polyaxon.contexts.params import PARAM_REGEX
 
 
 def validate_image(image, allow_none=False):
     if not image:
         if allow_none:
             return
         else:
-            raise ValidationError("Image is required")
+            raise ValueError("Image is required")
     param = PARAM_REGEX.search(image)
     if param:
         return
     if " " in image:
-        raise ValidationError("Invalid docker image `{}`".format(image))
+        raise ValueError("Invalid docker image `{}`".format(image))
     tagged_image = image.split(":")
     if len(tagged_image) > 3:
-        raise ValidationError("Invalid docker image `{}`".format(image))
+        raise ValueError("Invalid docker image `{}`".format(image))
     if len(tagged_image) == 3 and (
         "/" not in tagged_image[1] or tagged_image[1].startswith("/")
     ):
-        raise ValidationError("Invalid docker image `{}`".format(image))
+        raise ValueError("Invalid docker image `{}`".format(image))
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/fields/indexed_dict.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/api/user.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,26 +1,30 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-from collections.abc import Mapping
+from pydantic import StrictStr
 
-from marshmallow import fields
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields import EmailStr
 
 
-class IndexedDict(fields.Dict):
-    def _validated(self, value):
-        """Check the dict has an index or raise a :exc:`ValidationError` if an error occurs."""
-        if not (isinstance(value, Mapping) or "index" in value):
-            self.fail("invalid")
+class UserConfig(BaseSchemaModel):
+    _IDENTIFIER = "user"
+
+    username: StrictStr
+    email: Optional[EmailStr]
+    name: Optional[StrictStr]
+    theme: Optional[int]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/fields/str_or_fct.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/ignite.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,26 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from marshmallow import fields
+# To keep backwards compatibility
 
+from traceml.integrations.ignite import Logger
 
-class StrOrFct(fields.Str):
-    def serialize(self, attr, obj, accessor=None, **kwargs):
-        value = getattr(obj, attr)
-        if hasattr(value, "__call__") and hasattr(value, "__name__"):
-            return value.__name__
-
-        return super().serialize(attr, obj, accessor)
+# alias
+PolyaxonLogger = Logger
+PolyaxonIgniteLogger = Logger
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/fields/uuids.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/matrix/base.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,25 +1,25 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from marshmallow import fields
+from polyaxon.schemas.base import BaseDiscriminatedModel
 
 
-class UUID(fields.UUID):
-    """A UUID field."""
+class BaseSearchConfig(BaseDiscriminatedModel):
+    def create_iteration(self, **kwargs) -> int:
+        return 0
 
-    def _serialize(self, value, attr, obj, **kwargs):
-        validated = str(self._validated(value).hex) if value is not None else None
-        return super(fields.String, self)._serialize(validated, attr, obj)  # noqa
+    def should_reschedule(self, **kwargs) -> bool:
+        return False
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/patch_strategy.py` & `polyaxon-2.0.0rc0/polyaxon/sidecar/ignore.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,21 +1,18 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import polyaxon_sdk
-
-
-class V1PatchStrategy(polyaxon_sdk.V1PatchStrategy):
-    pass
+IGNORE_FOLDERS = [".git"]
+CONTAINER_IGNORE_FOLDERS = IGNORE_FOLDERS + ["plxlogs"]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/pending.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/hugging_face.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,21 +1,22 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import polyaxon_sdk
+# To keep backwards compatibility
 
+from traceml.integrations.hugging_face import Callback
 
-class V1RunPending(polyaxon_sdk.V1RunPending):
-    pass
+# alias
+PolyaxonCallback = Callback
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/__init__.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,31 +1,29 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.schemas.types.artifacts import ArtifactsTypeSchema, V1ArtifactsType
-from polyaxon.schemas.types.auth import AuthTypeSchema, V1AuthType
-from polyaxon.schemas.types.connections import ConnectionTypeSchema, V1ConnectionType
-from polyaxon.schemas.types.dockerfile import DockerfileTypeSchema, V1DockerfileType
-from polyaxon.schemas.types.event import EventSchema, V1EventType
-from polyaxon.schemas.types.file import FileTypeSchema, V1FileType
-from polyaxon.schemas.types.gcs import GcsTypeSchema, V1GcsType
-from polyaxon.schemas.types.git import GitTypeSchema, V1GitType
-from polyaxon.schemas.types.k8s_resources import (
-    K8sResourceTypeSchema,
-    V1K8sResourceType,
-)
-from polyaxon.schemas.types.s3 import S3TypeSchema, V1S3Type
-from polyaxon.schemas.types.uri import UriTypeSchema, V1UriType
-from polyaxon.schemas.types.wasb import V1WasbType, WasbTypeSchema
+from polyaxon.schemas.types.artifacts import V1ArtifactsType
+from polyaxon.schemas.types.auth import V1AuthType
+from polyaxon.schemas.types.connections import V1ConnectionType
+from polyaxon.schemas.types.dockerfile import V1DockerfileType
+from polyaxon.schemas.types.event import V1EventType
+from polyaxon.schemas.types.file import V1FileType
+from polyaxon.schemas.types.gcs import V1GcsType
+from polyaxon.schemas.types.git import V1GitType
+from polyaxon.schemas.types.k8s_resources import V1K8sResourceType
+from polyaxon.schemas.types.s3 import V1S3Type
+from polyaxon.schemas.types.tensorboard import V1TensorboardType
+from polyaxon.schemas.types.uri import V1UriType
+from polyaxon.schemas.types.wasb import V1WasbType
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/artifacts.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/artifacts.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,58 +1,44 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional, Union
 
-import polyaxon_sdk
+from pydantic import StrictInt
 
-from marshmallow import fields
-
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
-from polyaxon.schemas.fields.str_or_list import StrOrList
+from polyaxon.schemas.fields.ref_or_obj import RefField
 from polyaxon.schemas.types.base import BaseTypeConfig
 
 
-class ArtifactsTypeSchema(BaseCamelSchema):
-    files = RefOrObject(fields.List(StrOrList(), allow_none=True))
-    dirs = RefOrObject(fields.List(StrOrList(), allow_none=True))
-    workers = RefOrObject(fields.Int(allow_none=True))
-
-    @staticmethod
-    def schema_config():
-        return V1ArtifactsType
-
-
-class V1ArtifactsType(BaseTypeConfig, polyaxon_sdk.V1ArtifactsType):
+class V1ArtifactsType(BaseTypeConfig):
     """Artifacts type allows to easily pass
     the files and directories to initialize as a single parameter.
 
     If used as an input type, Polyaxon can resolve several connections (blob storage and volumes)
     and will turn this input type into an initializer with logic to download/provide
     the requested files and/or directories into a context for your jobs and operations.
 
 
     Args:
         files: Union[List[str], List[[str, str]], optional,
              list of file subpaths or a list of [path from, path to].
         dirs: Union[List[str], List[[str, str]], optional,
              list of directory subpaths or a list of [path from, path to].
-        workers: int, optional, number of threads for downloading data from S3/GCS/Azure.
 
     ### YAML usage
 
     ### Usage in IO and params definition
 
     The inputs definition
 
@@ -145,15 +131,15 @@
     >>>     "test1": V1Param(value=types.V1ArtifactsType(files=["file1", "/path/to/file2"])),
     >>>     "test2": V1Param(
     >>>         value=types.V1ArtifactsType(dirs=["/tensorboard-logs"]),
     >>>         connection="foo",
     >>>         to_init=True
     >>>     ),
     >>>     "test3": V1Param(
-    >>>         value=types.V1ArtifactsType(dirs=["/"], workers=10),
+    >>>         value=types.V1ArtifactsType(dirs=["/"]),
     >>>         connection="s3-dataset",
     >>>         to_init=True
     >>>     ),
     >>> }
     ```
 
     ### Usage in initializers
@@ -169,20 +155,22 @@
     >>>                 artifacts=V1ArtifactsType(files=["file1", "/path/to/file2"])
     >>>             ),
     >>>             V1Init(
     >>>                 artifacts=V1ArtifactsType(dirs=["/tensorboard-logs"]),
     >>>                 connection="foo"
     >>>             ),
     >>>             V1Init(
-    >>>                 artifacts=V1ArtifactsType(dirs=["/"], workers=10),
+    >>>                 artifacts=V1ArtifactsType(dirs=["/"]),
     >>>                 connection="s3-dataset"
     >>>             ),
     >>>        ],
     >>>        container=k8s_schemas.V1Container(...)
     >>>     )
     >>> )
     ```
     """
 
-    IDENTIFIER = "artifacts"
-    SCHEMA = ArtifactsTypeSchema
-    REDUCED_ATTRIBUTES = ["files", "dirs", "workers"]
+    _IDENTIFIER = "artifacts"
+
+    files: Optional[Union[List[Union[str, List[str]]], RefField]]
+    dirs: Optional[Union[List[Union[str, List[str]]], RefField]]
+    workers: Optional[Union[StrictInt, RefField]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/auth.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/auth.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,42 +1,29 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import polyaxon_sdk
+from pydantic import StrictStr
 
-from marshmallow import fields
-
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
 from polyaxon.schemas.types.base import BaseTypeConfig
 
 
-class AuthTypeSchema(BaseCamelSchema):
-    user = RefOrObject(fields.Str(), required=True)
-    password = RefOrObject(fields.Str(), required=True)
-
-    @staticmethod
-    def schema_config():
-        return V1AuthType
-
-
-class V1AuthType(BaseTypeConfig, polyaxon_sdk.V1AuthType):
+class V1AuthType(BaseTypeConfig):
     """Auth type.
 
     Args:
         user: str
         password: str
 
     ### YAML usage
@@ -99,16 +86,17 @@
        * '{"user": "foo", "password": "bar"}'
        * 'foo:bar'
 
     Dict values:
        * {"user": "foo", "password": "bar"}
     """
 
-    IDENTIFIER = "auth"
-    SCHEMA = AuthTypeSchema
-    REDUCED_ATTRIBUTES = ["user", "password"]
+    _IDENTIFIER = "auth"
+
+    user: StrictStr
+    password: StrictStr
 
     def __str__(self):
         return "{}:{}".format(self.user, self.password)
 
     def __repr__(self):
         return str(self)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/base.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_project_user_access.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,22 +1,26 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-from polyaxon.schemas.base import BaseConfig
+from pydantic import StrictStr
 
+from polyaxon.schemas.base import BaseSchemaModel
 
-class BaseTypeConfig(BaseConfig):
-    def to_param(self):
-        return self.to_dict()
+
+class V1ProjectUserAccess(BaseSchemaModel):
+    user: Optional[StrictStr]
+    queue: Optional[StrictStr]
+    preset: Optional[StrictStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/connections.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/connections.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,82 +1,35 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from typing import Optional
+from typing import Dict, List, Optional, Union
 
-import polyaxon_sdk
-
-from marshmallow import fields, pre_load, validate
+from pydantic import Field, StrictStr
 
 from polyaxon.connections.kinds import V1ConnectionKind
-from polyaxon.connections.schemas import (
-    ConnectionSchema,
-    K8sResourceSchema,
-    V1BucketConnection,
-    V1ClaimConnection,
-    V1GitConnection,
-    V1HostConnection,
-    V1HostPathConnection,
-)
-from polyaxon.schemas.base import BaseCamelSchema, BaseConfig
+from polyaxon.connections.schemas import V1K8sResourceSchema
+from polyaxon.connections.schemas.connections import V1Connection
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields.ref_or_obj import RefField
 from polyaxon.schemas.types.k8s_resources import V1K8sResourceType
 
 
-class ConnectionTypeSchema(BaseCamelSchema):
-    name = fields.Str(required=True)
-    kind = fields.Str(
-        required=True, validate=validate.OneOf(V1ConnectionKind.allowable_values)
-    )
-    description = fields.Str(allow_none=True)
-    tags = fields.List(fields.Str(), allow_none=True)
-    schema = fields.Nested(ConnectionSchema, allow_none=True)
-    secret = fields.Nested(K8sResourceSchema, allow_none=True)
-    config_map = fields.Nested(K8sResourceSchema, allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1ConnectionType
-
-    @pre_load
-    def pre_make(self, data, **kwargs):
-        schema = data.get("schema")
-        kind = data.get("kind")
-        if schema and kind:
-            schema["kind"] = "custom"
-            if kind in V1ConnectionKind.BLOB_VALUES:
-                schema["kind"] = V1BucketConnection.IDENTIFIER
-
-            if kind == V1ConnectionKind.VOLUME_CLAIM:
-                schema["kind"] = V1ClaimConnection.IDENTIFIER
-
-            if kind == V1ConnectionKind.HOST_PATH:
-                schema["kind"] = V1HostPathConnection.IDENTIFIER
-
-            if kind == V1ConnectionKind.REGISTRY:
-                schema["kind"] = V1HostConnection.IDENTIFIER
-
-            if kind == V1ConnectionKind.GIT:
-                schema["kind"] = V1GitConnection.IDENTIFIER
-
-        return data
-
-
-class V1ConnectionType(BaseConfig, polyaxon_sdk.V1ConnectionType):
+class V1ConnectionType(BaseSchemaModel):
     """Connections are how Polyaxon connects several
     types of external systems and resources to your operations.
 
     All connections in Polyaxon are typed, and some of them have special built-in handlers
     to automatically connect and load information.
 
     Using connections you can define the boilerplate required
@@ -109,14 +62,16 @@
                           `grpc`, `hdfs`, `http`, `pig_cli`, `hive_cli`, `hive_metastore`,
                           `hive_server2`, `jdbc`, `jenkins`, `samba`, `snowflake`, `ssh`,
                           `cloudant`, `databricks`, `segment`, `slack`, `discord`, `mattermost`,
                           `pagerduty`, `hipchat`, `webhook`, `custom`]
         schema: dict, optional
         secret: str, optional
         config_map: str, optional
+        env: List[Dict], optional
+        annotations: Dict, optional
 
 
     ## YAML usage
 
     ```yaml
     >>> artifactsStore:
     >>>   name: azure
@@ -257,31 +212,92 @@
         * name: str, required, the name of the configMap,
                 this is the minimum to tell Polyaxon to mount that configMap
                 whenever the connection is referenced.
         * mountPath: str, optional, if you prefer to mount the configMap as a volume
                      instead of exposing its items as environment variables.
         * items: List[str], optional, if you only want to expose a subset
                  of the items in the configMap.
+
+    ### env
+
+    > **Note**: This is available starting from v1.18
+
+    Optional list of environment variables to always inject with the connection.
+
+    Example
+
+    ```yaml
+    >>> name: ...
+    >>> kind: ...
+    >>> secret:
+    >>>   name: ...
+    >>> env:
+    >>>   - name: KEY1
+    >>>     value: VALUE1
+    >>>   - name: KEY2
+    >>>     value: VALUE2
+    ```
+
+    ### annotations
+
+    > **Note**: This is available starting from v1.18
+
+    A list of annotations to always use with the connection.
+
+    From [Kubernetes docs](https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/)  # noqa
+
+    > You can use Kubernetes annotations to attach arbitrary non-identifying metadata to objects.
+    > Clients such as tools and libraries can retrieve this metadata.
+
+    ```yaml
+    >>> annotations:
+    >>>   key1: "value1"
+    >>>   key2: "value2"
     """
 
-    IDENTIFIER = "connection"
-    SCHEMA = ConnectionTypeSchema
-    REDUCED_ATTRIBUTES = [
-        "name",
-        "kind",
-        "description",
-        "tags",
-        "schema",
-        "secret",
-        "configMap",
-    ]
+    _IDENTIFIER = "connection"
+
+    name: StrictStr
+    kind: V1ConnectionKind
+    description: Optional[StrictStr]
+    tags: Optional[Union[List[StrictStr], RefField]]
+    schema_: Optional[V1Connection] = Field(alias="schema")
+    secret: Optional[Union[V1K8sResourceSchema, RefField]]
+    config_map: Optional[Union[V1K8sResourceSchema, RefField]] = Field(
+        alias="configMap"
+    )
+    env: Optional[Union[List[Dict], RefField]]
+    annotations: Optional[Union[Dict, RefField]]
+
+    # @validator("schema_", pre=True)
+    # def pre_make(cls, schema, values):
+    #     if not schema or not isinstance(schema, dict):
+    #         return schema
+    #     kind = values.get("kind")
+    #     if kind:
+    #         if kind in V1ConnectionKind.blob_values():
+    #             return V1BucketConnection.from_dict(schema)
+    #
+    #         if kind == V1ConnectionKind.VOLUME_CLAIM:
+    #             return V1ClaimConnection.from_dict(schema)
+    #
+    #         if kind == V1ConnectionKind.HOST_PATH:
+    #             return V1HostPathConnection.from_dict(schema)
+    #
+    #         if kind == V1ConnectionKind.REGISTRY:
+    #             return V1HostConnection.from_dict(schema)
+    #
+    #         if kind == V1ConnectionKind.GIT:
+    #             return V1GitConnection.from_dict(schema)
+    #         return V1CustomConnection.from_dict(schema)
+    #     return schema
 
     @classmethod
     def from_model(cls, model) -> "V1ConnectionType":
-        schema = model.schema
+        schema = model.schema_
         secret = model.secret
         config_map = model.config_map
         if hasattr(schema, "to_dict"):
             schema = schema.to_dict()
         if hasattr(secret, "to_dict"):
             secret = secret.to_dict()
         if hasattr(config_map, "to_dict"):
@@ -289,23 +305,30 @@
         return V1ConnectionType.from_dict(
             {
                 "name": model.name,
                 "kind": model.kind,
                 "schema": schema,
                 "secret": secret,
                 "configMap": config_map,
+                "env": model.env,
+                "annotations": model.annotations,
             }
         )
 
     @property
     def store_path(self) -> str:
         if self.is_mount:
-            return self.schema.mount_path
+            return self.schema_.mount_path.rstrip("/")
         if self.is_bucket:
-            return self.schema.bucket
+            bucket = self.schema_.bucket.rstrip("/")
+            if self.is_wasb:
+                from polyaxon.parser.parser import parse_wasbs_path
+
+                return parse_wasbs_path(bucket).get_container_path()
+            return bucket
 
     @property
     def is_mount(self) -> bool:
         return V1ConnectionKind.is_mount(self.kind)
 
     @property
     def is_artifact(self) -> bool:
@@ -333,14 +356,14 @@
 
     @property
     def is_wasb(self) -> bool:
         return V1ConnectionKind.is_wasb(self.kind)
 
     def get_secret(self) -> Optional[V1K8sResourceType]:
         if self.secret:
-            return V1K8sResourceType(name=self.secret.name, schema=self.secret)
+            return V1K8sResourceType(name=self.secret.name, schema_=self.secret)
         return None
 
     def get_config_map(self) -> Optional[V1K8sResourceType]:
         if self.config_map:
-            return V1K8sResourceType(name=self.config_map.name, schema=self.config_map)
+            return V1K8sResourceType(name=self.config_map.name, schema_=self.config_map)
         return None
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/dockerfile.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/dockerfile.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,78 +1,54 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Any, Dict, List, Optional, Tuple, Union
 
-import polyaxon_sdk
+from pydantic import Field, StrictStr, validator
 
-from marshmallow import fields, validates_schema
-
-from polyaxon.schemas.base import BaseCamelSchema
+from polyaxon.schemas.base import skip_partial
 from polyaxon.schemas.fields.docker_image import validate_image
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
+from polyaxon.schemas.fields.ref_or_obj import RefField
 from polyaxon.schemas.types.base import BaseTypeConfig
-from polyaxon.utils.signal_decorators import check_partial
 
 POLYAXON_DOCKERFILE_NAME = "Dockerfile"
 POLYAXON_DOCKER_WORKDIR = "/code"
 POLYAXON_DOCKER_SHELL = "/bin/bash"
 
 
-class DockerfileTypeSchema(BaseCamelSchema):
-    image = RefOrObject(fields.Str(), required=True)
-    env = RefOrObject(fields.Dict(keys=fields.Str(), allow_none=True))
-    path = RefOrObject(fields.List(fields.Str(), allow_none=True))
-    copy = RefOrObject(fields.List(fields.Str(), allow_none=True))
-    run = RefOrObject(fields.List(fields.Str(), allow_none=True))
-    lang_env = RefOrObject(fields.Str(allow_none=True))
-    uid = RefOrObject(fields.Int(allow_none=True))
-    gid = RefOrObject(fields.Int(allow_none=True))
-    filename = RefOrObject(fields.Str(allow_none=True))
-    workdir = RefOrObject(fields.Str(allow_none=True))
-    workdir_path = RefOrObject(fields.Str(allow_none=True))
-    shell = RefOrObject(fields.Str(allow_none=True))
-
-    @staticmethod
-    def schema_config():
-        return V1DockerfileType
-
-    @validates_schema
-    @check_partial
-    def validate_dockerfile(self, data, **kwargs):
-        validate_image(data.get("image"))
-
-
-class V1DockerfileType(BaseTypeConfig, polyaxon_sdk.V1DockerfileType):
+class V1DockerfileType(BaseTypeConfig):
     """Dockerfile type.
 
-    This type allows you to easily construct a dockerfile without
+    This type allows to easily construct a dockerfile without
     the need to clone repo or download a file. It exposes a very simple interface for generating
     a dockerfile to build your container.
 
     Args:
         image: str
         env: Dict, optional
         path: List[str], optional
-        copy: List[str], optional
+        copy: Union[List[str], List[[str, str]], optional
+        post_run_copy: Union[List[str], List[[str, str]], optional
         run: List[str], optional
         lang_env: str, optional
         uid: str, optional
         gid: str, optional
+        username: str, optional, default 'polyaxon'
         filename: str, optional
         workdir: str, optional
         workdir_path: str, optional
         shell: str, optional
 
     ### YAML usage
 
@@ -170,18 +146,24 @@
     >>> )
     ```
 
     ### Fields
       * image: the base image to use, is will exposed as `FROM` command in the dockerfile.
       * env: environment variables dictionary that will be exposed as `ENV` sections.
       * path: list of paths to be added to your `PATH` environment variable.
-      * copy: a list a copy commands that will be exposed as list of COPY commands.
+      * copy: a list a copy commands that will be exposed as list of COPY commands. You can pass a
+        Union[List[str], List[[str, str]], if a str is passed it will be placed under the workdir,
+        if [str, str] is passed the path will be placed under the second string.
+      * postRunCopy: Similar to the copy section,
+        the COPY commands will be placed after RUN commands.
+        This could be very useful to leverage any cached commands before copying new artifacts.
       * run: a list a run commands that will be exposed as list of RUN commands.
       * langEnv: if passed it will expose these environment variable: ENV LC_ALL, LANG, LANGUAGE
       * uid and gid: will create a new user based on these 2 values.
+      * username: an optional name to use for the uid/gid, default is 'polyaxon' user.
       * filename: an optional name for your dockerfile, default is Dockerfile.
         **N.B.** this is not a path, if you need to generate the dockerfile on a custom path,
         you will need to set the path key on the init container definition.
       * workdir: the WORKDIR for your dockerfile, default is `/code`
       * workdirPath: the local workdir to copy to the docker container.
       * shell: shell type environment variable, default `/bin/bash`.
 
@@ -191,73 +173,70 @@
     >>> image: image:tag
     >>> env:
     >>>   KEY1: value1
     >>>   KEY2: value2
     >>> path:
     >>> - module/add/to/path
     >>> copy:
-    >>> - copy/local/path
+    >>> - copy/local/requirements.txt
+    >>> - [copy/.cache/dir, /destination]
     >>> run:
     >>> - pip install ...
     >>> - mv foo bar
+    >>> postRunCopy:
+    >>> - copy/local/path
+    >>> - [copy/local/path, /path/to/user/in/container]
     >>> langEnv: en_US.UTF-8
     >>> uid: 2222
     >>> gid: 1111
     >>> filename: Dockerfile2
     >>> workdir: ../my-code
     ```
     """
 
-    IDENTIFIER = "dockerfile"
-    SCHEMA = DockerfileTypeSchema
-    REDUCED_ATTRIBUTES = [
-        "image",
-        "env",
-        "path",
-        "copy",
-        "run",
-        "langEnv",
-        "uid",
-        "gid",
-        "filename",
-        "workdir",
-        "workdirPath",
-        "shell",
-    ]
+    _IDENTIFIER = "dockerfile"
 
-    @property
-    def filename(self):
-        return (
-            self._filename if self._filename is not None else POLYAXON_DOCKERFILE_NAME
-        )
-
-    @filename.setter
-    def filename(self, filename):
-        self._filename = filename
-
-    @property
-    def workdir(self):
-        return self._workdir if self._workdir is not None else POLYAXON_DOCKER_WORKDIR
-
-    @workdir.setter
-    def workdir(self, workdir):
-        self._workdir = workdir
-
-    @property
-    def shell(self):
-        return self._shell if self._shell is not None else POLYAXON_DOCKER_SHELL
-
-    @shell.setter
-    def shell(self, shell):
-        self._shell = shell
+    image: StrictStr
+    env: Optional[Union[Dict[StrictStr, Any], RefField]]
+    path: Optional[Union[List[StrictStr], RefField]]
+    copy_: Optional[
+        Union[
+            List[Union[StrictStr, List[StrictStr], Tuple[StrictStr, StrictStr]]],
+            RefField,
+        ]
+    ] = Field(alias="copy")
+    post_run_copy: Optional[
+        Union[
+            List[Union[StrictStr, List[StrictStr], Tuple[StrictStr, StrictStr]]],
+            RefField,
+        ]
+    ] = Field(alias="postRunCopy")
+    run: Optional[Union[List[StrictStr], RefField]]
+    lang_env: Optional[StrictStr] = Field(alias="langEnv")
+    uid: Optional[Union[int, RefField]]
+    gid: Optional[Union[int, RefField]]
+    username: Optional[StrictStr]
+    filename: Optional[StrictStr] = Field(default=POLYAXON_DOCKERFILE_NAME)
+    workdir: Optional[StrictStr] = Field(default=POLYAXON_DOCKER_WORKDIR)
+    workdir_path: Optional[StrictStr] = Field(alias="workdirPath")
+    shell: Optional[StrictStr] = Field(default=POLYAXON_DOCKER_SHELL)
+
+    @validator("image")
+    @skip_partial
+    def check_image(cls, image):
+        validate_image(image)
+        return image
 
     @property
     def image_tag(self):
         if not self.image:
             return None
         tagged_image = self.image.split(":")
         if len(tagged_image) == 1:
             return "latest"
         if len(tagged_image) == 2:
             return "latest" if "/" in tagged_image[-1] else tagged_image[-1]
         if len(tagged_image) == 3:
             return tagged_image[-1]
+
+    def get_filename(self) -> str:
+        return self.filename or POLYAXON_DOCKERFILE_NAME
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/file.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/file.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,52 +1,35 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional, Union
 
-import polyaxon_sdk
+from pydantic import StrictStr
 
-from marshmallow import fields, validate
-
-from polyaxon.polyboard.artifacts import V1ArtifactKind
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
+from polyaxon.schemas.fields.ref_or_obj import RefField
 from polyaxon.schemas.types.base import BaseTypeConfig
+from traceml.artifacts import V1ArtifactKind
 
 
-class FileTypeSchema(BaseCamelSchema):
-    content = RefOrObject(fields.Str(), required=True)
-    filename = RefOrObject(fields.Str(allow_none=True))
-    kind = RefOrObject(
-        fields.Str(
-            allow_none=True, validate=validate.OneOf(V1ArtifactKind.allowable_values)
-        )
-    )
-    chmod = RefOrObject(fields.Str(allow_none=True))
-
-    @staticmethod
-    def schema_config():
-        return V1FileType
-
-
-class V1FileType(BaseTypeConfig, polyaxon_sdk.V1FileType):
+class V1FileType(BaseTypeConfig):
     """File type.
 
-    This type allows you to easily construct pass a file content without
+    This type allows to easily construct a file content without
     the need to clone repo or download a from an external localtion.
     It exposes a very simple interface for generating a file or a script
     that can be used by your containers.
 
     Args:
         content: str
         filename: str, optional
@@ -171,15 +154,13 @@
     ### Fields
       * filename: an optional filename.
       * content: the content of the file or script.
       * chmod: Custom permission for the generated file.
       * kind: artifact kind, default to `file`.
     """
 
-    IDENTIFIER = "file"
-    SCHEMA = FileTypeSchema
-    REDUCED_ATTRIBUTES = [
-        "filename",
-        "kind",
-        "content",
-        "chmod",
-    ]
+    _IDENTIFIER = "file"
+
+    kind: Optional[Union[V1ArtifactKind, RefField]]
+    content: StrictStr
+    filename: Optional[StrictStr]
+    chmod: Optional[StrictStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/gcs.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/gcs.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,42 +1,32 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+import os
 
-import polyaxon_sdk
+from typing import Optional
 
-from marshmallow import fields
+from pydantic import StrictStr
 
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
 from polyaxon.schemas.types.base import BaseTypeConfig
 
 
-class GcsTypeSchema(BaseCamelSchema):
-    bucket = RefOrObject(fields.Str(allow_none=True))
-    blob = RefOrObject(fields.Str(allow_none=True))
-
-    @staticmethod
-    def schema_config():
-        return V1GcsType
-
-
-class V1GcsType(BaseTypeConfig, polyaxon_sdk.V1GcsType):
+class V1GcsType(BaseTypeConfig):
     """GCS type.
 
     Args:
         bucket: str
         blob: str
 
     ### YAML usage
@@ -88,22 +78,23 @@
     >>> params = {
     >>>     "test1": V1Param(value=types.V1GcsType(bucket="gs://bucket1")),
     >>>     "test2": V1Param(value=types.V1GcsType(bucket="gs://bucket1", blob="blobName")),
     >>> }
     ```
     """
 
-    IDENTIFIER = "gcs"
-    SCHEMA = GcsTypeSchema
-    REDUCED_ATTRIBUTES = ["bucket", "blob"]
+    _IDENTIFIER = "gcs"
+
+    bucket: Optional[StrictStr]
+    blob: Optional[StrictStr]
 
     def __str__(self):
         path = "gs://{}".format(self.bucket)
         if self.blob:
-            path = "{}/{}".format(path, self.blob)
+            path = os.path.join(path, self.blob)
         return path
 
     def __repr__(self):
         return str(self)
 
     def to_param(self):
         return str(self)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/git.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/git.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,43 +1,31 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional, Union
 
-import polyaxon_sdk
+from pydantic import StrictStr
 
-from marshmallow import fields
-
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
+from polyaxon.schemas.fields.ref_or_obj import RefField
 from polyaxon.schemas.types.base import BaseTypeConfig
 
 
-class GitTypeSchema(BaseCamelSchema):
-    url = RefOrObject(fields.Str(allow_none=True))
-    revision = RefOrObject(fields.Str(allow_none=True))
-    flags = RefOrObject(fields.List(fields.Str(), allow_none=True))
-
-    @staticmethod
-    def schema_config():
-        return V1GitType
-
-
-class V1GitType(BaseTypeConfig, polyaxon_sdk.V1GitType):
+class V1GitType(BaseTypeConfig):
     """Git type allows you to pass a git repo as a parameter.
 
     If used as an input type, Polyaxon can resolve several git connections
     and will turn this input type into an initializer with logic to clone
     the repo with support for branches and commits,
     the requested repo will be exposed as a context for your jobs and operations.
 
@@ -147,15 +135,17 @@
     >>>        ],
     >>>        container=k8s_schemas.V1Container(...)
     >>>     )
     >>> )
     ```
     """
 
-    IDENTIFIER = "git"
-    SCHEMA = GitTypeSchema
-    REDUCED_ATTRIBUTES = ["url", "revision", "flags"]
+    _IDENTIFIER = "git"
+
+    url: Optional[StrictStr]
+    revision: Optional[StrictStr]
+    flags: Optional[Union[List[StrictStr], RefField]]
 
     def get_name(self):
         if self.url:
             return self.url.split("/")[-1].split(".")[0]
         return None
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/k8s_resources.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/k8s_resources.py`

 * *Files 19% similar despite different names*

```diff
@@ -1,48 +1,38 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-import polyaxon_sdk
+from pydantic import Field, StrictStr
 
-from marshmallow import fields
-
-from polyaxon.connections.schemas import K8sResourceSchema
-from polyaxon.schemas.base import BaseCamelSchema
+from polyaxon.connections.schemas import V1K8sResourceSchema
 from polyaxon.schemas.types.base import BaseTypeConfig
 
 
-class K8sResourceTypeSchema(BaseCamelSchema):
-    name = fields.Str(required=True)
-    schema = fields.Nested(K8sResourceSchema, allow_none=True)
-    is_requested = fields.Bool(allow_none=True)
-
-    @staticmethod
-    def schema_config():
-        return V1K8sResourceType
-
+class V1K8sResourceType(BaseTypeConfig):
+    _IDENTIFIER = "secret_resource"
 
-class V1K8sResourceType(BaseTypeConfig, polyaxon_sdk.V1K8sResourceType):
-    IDENTIFIER = "secret_resource"
-    SCHEMA = K8sResourceTypeSchema
-    REDUCED_ATTRIBUTES = ["name", "schema", "isRequested"]
+    name: StrictStr
+    schema_: Optional[V1K8sResourceSchema] = Field(alias="schema")
+    is_requested: Optional[bool] = Field(alias="isRequested")
 
     @classmethod
     def from_model(cls, model, is_requested=False) -> "V1K8sResourceType":
-        schema = model.schema
+        schema = model.schema_
         if hasattr(schema, "to_dict"):
             schema = schema.to_dict()
         return V1K8sResourceType.from_dict(
             {"name": model.name, "schema": schema, "isRequested": is_requested}
         )
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/s3.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/s3.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,42 +1,30 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-import polyaxon_sdk
+from pydantic import StrictStr
 
-from marshmallow import fields
-
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
 from polyaxon.schemas.types.base import BaseTypeConfig
 
 
-class S3TypeSchema(BaseCamelSchema):
-    bucket = RefOrObject(fields.Str(allow_none=True))
-    key = RefOrObject(fields.Str(allow_none=True))
-
-    @staticmethod
-    def schema_config():
-        return V1S3Type
-
-
-class V1S3Type(BaseTypeConfig, polyaxon_sdk.V1S3Type):
+class V1S3Type(BaseTypeConfig):
     """S3 type.
 
     Args:
         bucket: str
         key: str
 
     ### YAML usage
@@ -88,17 +76,18 @@
     >>> params = {
     >>>     "test1": V1Param(value=types.V1S3Type(bucket="s3://bucket1")),
     >>>     "test2": V1Param(value=types.V1S3Type(bucket="s3://bucket1", key="keyName")),
     >>> }
     ```
     """
 
-    IDENTIFIER = "s3"
-    SCHEMA = S3TypeSchema
-    REDUCED_ATTRIBUTES = ["bucket", "key"]
+    _IDENTIFIER = "s3"
+
+    bucket: Optional[StrictStr]
+    key: Optional[StrictStr]
 
     def __str__(self):
         path = "s3://{}".format(self.bucket)
         if self.key:
             path = "{}/{}".format(path, self.key)
         return path
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/uri.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/uri.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,43 +1,30 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-import polyaxon_sdk
+from pydantic import StrictStr
 
-from marshmallow import fields
-
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
 from polyaxon.schemas.types.base import BaseTypeConfig
 
 
-class UriTypeSchema(BaseCamelSchema):
-    user = RefOrObject(fields.Str(required=True))
-    password = RefOrObject(fields.Str(required=True))
-    host = RefOrObject(fields.Str(required=True))
-
-    @staticmethod
-    def schema_config():
-        return V1UriType
-
-
-class V1UriType(BaseTypeConfig, polyaxon_sdk.V1UriType):
+class V1UriType(BaseTypeConfig):
     """Uri type.
 
     Args:
         user: str
         password: str
         host: str
 
@@ -89,17 +76,19 @@
     >>>     ),
     >>> }
     ```
 
     > Normally you should not be passing auth details in plain values.
     """
 
-    IDENTIFIER = "uri"
-    SCHEMA = UriTypeSchema
-    REDUCED_ATTRIBUTES = ["user", "password", "host"]
+    _IDENTIFIER = "uri"
+
+    user: Optional[StrictStr]
+    password: Optional[StrictStr]
+    host: Optional[StrictStr]
 
     def __str__(self):
         return "{}:{}@{}".format(self.user, self.password, self.host)
 
     def __repr__(self):
         return str(self)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/schemas/types/wasb.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/types/wasb.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,43 +1,30 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-import polyaxon_sdk
+from pydantic import Field, StrictStr
 
-from marshmallow import fields
-
-from polyaxon.schemas.base import BaseCamelSchema
-from polyaxon.schemas.fields.ref_or_obj import RefOrObject
 from polyaxon.schemas.types.base import BaseTypeConfig
 
 
-class WasbTypeSchema(BaseCamelSchema):
-    container = RefOrObject(fields.Str(allow_none=True))
-    storage_account = RefOrObject(fields.Str(allow_none=True))
-    path = RefOrObject(fields.Str(allow_none=True))
-
-    @staticmethod
-    def schema_config():
-        return V1WasbType
-
-
-class V1WasbType(BaseTypeConfig, polyaxon_sdk.V1WasbType):
+class V1WasbType(BaseTypeConfig):
     """Wasb type.
 
     Args:
         container: str
         storage_account: str
         path: str
 
@@ -54,15 +41,15 @@
     ```
 
     The params usage
 
     ```yaml
     >>> params:
     >>>   test1: {value: {container: "containerName", user: "username"}}
-    >>>   test2: {value: {container: "containerName", user: "username", key: "some/path"}}
+    >>>   test2: {value: {container: "containerName", user: "username", path: "some/path"}}
     ```
 
     ### Python usage
 
     The inputs definition
 
     ```python
@@ -94,21 +81,31 @@
     >>>              container="containerName2", user="username", path="path/value"
     >>>         )
     >>>      ),
     >>> }
     ```
     """
 
-    IDENTIFIER = "wasb"
-    SCHEMA = WasbTypeSchema
-    REDUCED_ATTRIBUTES = ["container", "storageAccount", "path"]
+    _IDENTIFIER = "wasb"
+
+    container: Optional[StrictStr]
+    storage_account: Optional[StrictStr] = Field(alias="storageAccount")
+    path: Optional[StrictStr]
 
     def __str__(self):
-        return "wasbs://{}@{}.blob.core.windows.net".format(
-            self.container, self.storage_account, self.path
+        value = "wasbs://{}@{}.blob.core.windows.net".format(
+            self.container, self.storage_account
         )
+        if self.path:
+            return "{}/{}".format(value, self.path)
+        return value
 
     def __repr__(self):
         return str(self)
 
     def to_param(self):
         return str(self)
+
+    def get_container_path(self):
+        if self.path:
+            return "{}/{}".format(self.container, self.path)
+        return self.container
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/services/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/fs/types.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,15 +1,22 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+
+from typing import Union
+
+from fsspec import AbstractFileSystem
+from fsspec.asyn import AsyncFileSystem
+
+FSSystem = Union[AbstractFileSystem, AsyncFileSystem]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/services/auth.py` & `polyaxon-2.0.0rc0/polyaxon/services/auth.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -17,11 +17,11 @@
 
 class AuthenticationError(Exception):
     pass
 
 
 class AuthenticationTypes:
     TOKEN = "Token"
-    INTERNAL_TOKEN = "Internaltoken"
+    INTERNAL_TOKEN = "InternalToken"
     EPHEMERAL_TOKEN = "EphemeralToken"
 
     VALUES = {TOKEN, INTERNAL_TOKEN, EPHEMERAL_TOKEN}
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/services/ephemeral.py` & `polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/bayesian_optimization/__init__.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,21 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
+# To keep backwards compatibility
 
-class EphemeralServices:
-    RUNNER = "runner"
-
-    VALUES = [RUNNER]
+from hypertune.search_managers.bayesian_optimization.manager import BayesSearchManager
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/sidecar/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/sidecar/container/__init__.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -12,40 +12,48 @@
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import asyncio
 import os
 
-from kubernetes.client.rest import ApiException
+from clipped.tz_utils import now
+from kubernetes_asyncio.client.rest import ApiException
 
 from polyaxon.client import RunClient
-from polyaxon.containers.contexts import CONTEXT_MOUNT_RUN_EVENTS_FORMAT
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.env_vars.getters import get_run_info
-from polyaxon.env_vars.keys import POLYAXON_KEYS_K8S_POD_ID
+from polyaxon.env_vars.keys import EV_KEYS_K8S_POD_ID
 from polyaxon.exceptions import PolyaxonClientException, PolyaxonContainerException
+from polyaxon.fs.fs import (
+    close_fs,
+    get_artifacts_connection_type,
+    get_async_fs_from_type,
+)
+from polyaxon.fs.watcher import FSWatcher
 from polyaxon.k8s.async_manager import AsyncK8SManager
 from polyaxon.logger import logger
 from polyaxon.settings import CLIENT_CONFIG
-from polyaxon.sidecar.intervals import get_sync_interval
-from polyaxon.sidecar.monitors import sync_artifacts, sync_logs
+from polyaxon.sidecar.container.intervals import get_sync_interval
+from polyaxon.sidecar.container.monitors import sync_artifacts, sync_logs
+from polyaxon.sidecar.ignore import CONTAINER_IGNORE_FOLDERS
 
 
 async def start_sidecar(
     container_id: str,
     sleep_interval: int,
     sync_interval: int,
     monitor_outputs: bool,
     monitor_logs: bool,
 ):
     sync_interval = get_sync_interval(
         interval=sync_interval, sleep_interval=sleep_interval
     )
     try:
-        pod_id = os.environ[POLYAXON_KEYS_K8S_POD_ID]
+        pod_id = os.environ[EV_KEYS_K8S_POD_ID]
     except KeyError as e:
         raise PolyaxonContainerException(
             "Please make sure that this job has been "
             "started by Polyaxon with all required context."
         ) from e
 
     try:
@@ -53,16 +61,19 @@
     except PolyaxonClientException as e:
         raise PolyaxonContainerException(e)
 
     client = RunClient(owner=owner, project=project, run_uuid=run_uuid)
     k8s_manager = AsyncK8SManager(namespace=CLIENT_CONFIG.namespace, in_cluster=True)
     await k8s_manager.setup()
     pod = await k8s_manager.get_pod(pod_id, reraise=True)
+    connection_type = get_artifacts_connection_type()
+    fs = await get_async_fs_from_type(connection_type=connection_type)
+    fw = FSWatcher.read(ctx_paths.CONTEXT_MOUNT_FILE_WATCHER)
 
-    retry = 1
+    retry = 0
     is_running = True
     counter = 0
     state = {
         "last_artifacts_check": None,
         "last_logs_check": None,
     }
 
@@ -74,43 +85,67 @@
                 pod=pod,
                 last_time=None,
                 stream=True,
                 is_running=is_running,
             )
         if monitor_outputs:
             last_check = state["last_artifacts_check"]
-            state["last_artifacts_check"] = sync_artifacts(
-                last_check=last_check,
+            await sync_artifacts(
+                fs=fs,
+                fw=fw,
+                store_path=connection_type.store_path,
                 run_uuid=run_uuid,
+                exclude=CONTAINER_IGNORE_FOLDERS,
             )
-            client.sync_events_summaries(
-                last_check=last_check,
-                events_path=CONTEXT_MOUNT_RUN_EVENTS_FORMAT.format(run_uuid),
-            )
+            try:
+                client.sync_events_summaries(
+                    last_check=last_check,
+                    events_path=ctx_paths.CONTEXT_MOUNT_RUN_EVENTS_FORMAT.format(
+                        run_uuid
+                    ),
+                )
+                client.sync_system_events_summaries(
+                    last_check=last_check,
+                    events_path=ctx_paths.CONTEXT_MOUNT_RUN_SYSTEM_RESOURCES_EVENTS_FORMAT.format(
+                        run_uuid
+                    ),
+                )
+                update_last_check = True
+            except Exception as e:
+                logger.info(
+                    "An error occurred while syncing events summaries, "
+                    "Exception %s" % repr(e)
+                )
+                update_last_check = False
+            if update_last_check:
+                state["last_artifacts_check"] = now()
 
     while is_running and retry <= 3:
         await asyncio.sleep(sleep_interval)
+        if retry:
+            await asyncio.sleep(retry * 2)
         try:
             is_running = await k8s_manager.is_pod_running(pod_id, container_id)
         except ApiException as e:
             retry += 1
             logger.info("Exception %s" % repr(e))
             logger.info("Sleeping ...")
-            await asyncio.sleep(retry)
             continue
 
         logger.debug("Syncing ...")
         if is_running:
-            retry = 1
+            retry = 0
 
         counter += 1
         if counter == sync_interval:
             counter = 0
             try:
                 await monitor()
             except Exception as e:
                 logger.warning("Polyaxon sidecar error: %s" % repr(e))
 
     await monitor()
     logger.info("Cleaning non main containers")
     if k8s_manager:
         await k8s_manager.close()
+
+    await close_fs(fs)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/sidecar/intervals.py` & `polyaxon-2.0.0rc0/polyaxon/sidecar/container/intervals.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/sidecar/monitors/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/flink.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,18 +1,28 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Dict, Union
+from typing_extensions import Literal
 
-from polyaxon.sidecar.monitors.artifacts import sync_artifacts
-from polyaxon.sidecar.monitors.logs import sync_logs
+from polyaxon.polyflow.run.base import BaseRun
+from polyaxon.polyflow.run.kinds import V1RunKind
+from polyaxon.schemas.fields.ref_or_obj import RefField
+
+
+class V1Flink(BaseRun):
+    _IDENTIFIER = V1RunKind.FLINK
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    spec: Union[Dict, RefField]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/sidecar/monitors/logs.py` & `polyaxon-2.0.0rc0/polyaxon/sidecar/container/monitors/logs.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -14,33 +14,33 @@
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 from typing import Optional
 
 import aiofiles
 
+from clipped.path_utils import check_or_create_path, delete_path
 from kubernetes_asyncio.client.models import V1Pod
 
-from polyaxon.containers.contexts import CONTEXT_MOUNT_ARTIFACTS_FORMAT
+from polyaxon.contexts import paths as ctx_paths
 from polyaxon.k8s.async_manager import AsyncK8SManager
 from polyaxon.k8s.logging.async_monitor import query_k8s_pod_logs
-from polyaxon.polyboard.logging import V1Logs
 from polyaxon.types import AwareDT
-from polyaxon.utils.path_utils import check_or_create_path, delete_path
+from traceml.logging import V1Logs
 
 
 async def sync_logs(
     run_uuid: str,
     k8s_manager: AsyncK8SManager,
     pod: V1Pod,
     last_time: Optional[AwareDT],
     stream: bool = False,
     is_running: bool = True,
 ):
-    path_from = CONTEXT_MOUNT_ARTIFACTS_FORMAT.format(run_uuid)
+    path_from = ctx_paths.CONTEXT_MOUNT_ARTIFACTS_FORMAT.format(run_uuid)
     path_from = "{}/.tmpplxlogs".format(path_from)
 
     if not is_running:
         delete_path(path_from)
         return
 
     logs, _ = await query_k8s_pod_logs(
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/stores/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/fastai_v1.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,15 +1,22 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+
+# To keep backwards compatibility
+
+from traceml.integrations.fastai_v1 import Callback
+
+# alias
+PolyaxonCallback = Callback
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/stores/polyaxon_store.py` & `polyaxon-2.0.0rc0/polyaxon/stores/polyaxon_store.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,78 +13,56 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 import json
 import os
 import requests
 
-from typing import List
+from typing import Dict, List
 
+from clipped.formatting import Printer
+from clipped.list_utils import to_list
+from clipped.path_utils import (
+    check_or_create_path,
+    create_tarfile_from_path,
+    get_files_by_paths,
+    untar_file,
+)
 from requests_toolbelt import MultipartEncoder, MultipartEncoderMonitor
 
 from polyaxon import settings
 from polyaxon.constants.globals import DEFAULT_UPLOADS_PATH
-from polyaxon.env_vars.keys import POLYAXON_KEYS_UPLOAD_SIZE
+from polyaxon.env_vars.keys import EV_KEYS_UPLOAD_SIZE
 from polyaxon.exceptions import (
     HTTP_ERROR_MESSAGES_MAPPING,
     PolyaxonClientException,
     PolyaxonShouldExitError,
 )
 from polyaxon.logger import logger
-from polyaxon.stores.base_store import StoreMixin
-from polyaxon.utils.list_utils import to_list
-from polyaxon.utils.path_utils import (
-    check_or_create_path,
-    create_tarfile_from_path,
-    get_files_by_paths,
-    get_path,
-    untar_file,
-)
-from polyaxon.utils.requests_utils import create_progress_callback, progress_bar
-from polyaxon.utils.units import format_sizeof
+from traceml.processors.units_processors import format_sizeof
 
 
-class PolyaxonStore(StoreMixin):
+class PolyaxonStore:
     """
     Polyaxon filesystem store.
 
     Used to download data from Polyaxon streams apis.
 
     By default, this store requires a valid run.
     """
 
-    URL = "streams/v1/{namespace}/{owner}/{project}/runs/{uuid}/{subpath}"
-
     def __init__(self, client: "RunClient"):  # noqa
         self._client = client
 
     def ls(self, path):
         return self.list(path=path)
 
     def list(self, path):
         return self._client.get_artifacts_tree(path=path)
 
-    def _get_headers(self, headers=None):
-        request_headers = headers or {}
-        # Auth headers if access_token is present
-        if self._client.client.config:
-            config = self._client.client.config
-            if "Authorization" not in request_headers and config.token:
-                request_headers.update(
-                    {
-                        "Authorization": "{} {}".format(
-                            config.authentication_type, config.token
-                        )
-                    }
-                )
-            if config.header and config.header_service:
-                request_headers.update({config.header: config.header_service})
-
-        return request_headers
-
     @staticmethod
     def check_response_status(response, endpoint):
         """Check if response is successful. Else raise Exception."""
 
         if 200 <= response.status_code < 300:
             return response
 
@@ -108,16 +86,17 @@
         files,
         files_size,
         params=None,
         json_data=None,
         timeout=None,
         headers=None,
         session=None,
+        show_progress=True,
     ):
-        upload_size_max = os.environ.get(POLYAXON_KEYS_UPLOAD_SIZE)
+        upload_size_max = os.environ.get(EV_KEYS_UPLOAD_SIZE)
         if not upload_size_max:
             # Backwards compatibility
             upload_size_max = os.environ.get("POLYAXON_UPLOAD_SIZE_MAX")
         if not upload_size_max:
             upload_size_max = 1024 * 1024 * 500
         try:
             upload_size_max = int(upload_size_max)
@@ -146,93 +125,131 @@
             )
 
         files = to_list(files)
         if json_data:
             files.append(("json", json.dumps(json_data)))
 
         multipart_encoder = MultipartEncoder(fields=files)
-        request_headers = self._get_headers(headers=headers)
+        request_headers = self._client.client.config.get_full_headers(headers=headers)
         request_headers.update({"Content-Type": multipart_encoder.content_type})
 
-        # Attach progress bar
-        progress_callback, callback_bar = create_progress_callback(multipart_encoder)
-        multipart_encoder_monitor = MultipartEncoderMonitor(
-            multipart_encoder, progress_callback
-        )
-
         timeout = timeout if timeout is not None else settings.LONG_REQUEST_TIMEOUT
 
         session = session or requests.Session()
-        try:
-            response = session.post(
+
+        def _upload_impl(callback=None):
+            multipart_encoder_monitor = MultipartEncoderMonitor(
+                multipart_encoder, callback
+            )
+            return session.post(
                 url=url,
                 params=params,
                 data=multipart_encoder_monitor,
                 headers=request_headers,
                 timeout=timeout,
             )
-        finally:
-            # always make sure we clear the console
-            callback_bar.done()
 
-        return response
+        if not show_progress:
+            return _upload_impl()
+
+        with Printer.get_progress() as progress:
+            task = progress.add_task("[cyan]Uploading contents:", total=files_size)
+
+            def progress_callback(monitor):
+                progress.update(task, completed=monitor.bytes_read)
+
+            return _upload_impl(progress_callback)
+
+    def _get_header_value(self, headers: Dict, key: str):
+        headers = headers or {}
+        for k in headers.keys():
+            kh = k.lower()
+            if kh == key or kh == f"x-{key}":
+                return headers.get(k, "")
+        return ""
 
     def download(
         self,
         url,
         filename,
         params=None,
         headers=None,
         timeout=None,
         session=None,
         untar=False,
         delete_tar=True,
         extract_path=None,
+        use_filepath=True,
+        show_progress=True,
     ):
         """
         Download the file from the given url at the current path
         """
         # pylint:disable=too-many-branches
         logger.debug("Downloading files from url: %s", url)
 
-        request_headers = self._get_headers(headers=headers)
+        request_headers = self._client.client.config.get_full_headers(headers=headers)
         timeout = timeout if timeout is not None else settings.LONG_REQUEST_TIMEOUT
         session = session or requests.Session()
 
         try:
-            response = session.get(
-                url=url,
-                params=params,
-                headers=request_headers,
-                timeout=timeout,
-                stream=True,
+            with Printer.console.status("Loading content ..."):
+                response = session.get(
+                    url=url,
+                    params=params,
+                    headers=request_headers,
+                    timeout=timeout,
+                    stream=True,
+                )
+            content_disposition = self._get_header_value(
+                headers=response.headers,
+                key="content-disposition",
             )
+            has_tar = (
+                '.tar"' in content_disposition or '.tar.gz"' in content_disposition
+            )
+            if has_tar:
+                filename = filename + ".tar.gz"
+            if untar:
+                untar = has_tar
 
             self.check_response_status(response, url)
             with open(filename, "wb") as f:
-                # chunk mode response doesn't have content-length so we are
-                # using a custom header here
-                content_length = response.headers.get("x-polyaxon-content-length")
-                if not content_length:
-                    content_length = response.headers.get("content-length")
-                if content_length:
-                    for chunk in progress_bar(
-                        response.iter_content(chunk_size=1024),
-                        expected_size=(int(content_length) / 1024) + 1,
-                    ):
+                content_length = self._get_header_value(
+                    headers=response.headers,
+                    key="content-length",
+                )
+                content_length = float(content_length) if content_length else None
+                chunk_size = 1024 * 10
+
+                def _download_impl():
+                    for chunk in response.iter_content(chunk_size=chunk_size):
+                        if progress:
+                            progress.update(
+                                task,
+                                advance=len(chunk),
+                            )
                         if chunk:
                             f.write(chunk)
+
+                if show_progress:
+                    with Printer.get_progress() as progress:
+                        task = progress.add_task(
+                            "Writing contents:", total=content_length
+                        )
+                        _download_impl()
                 else:
-                    for chunk in response.iter_content(chunk_size=1024):
-                        if chunk:
-                            f.write(chunk)
+                    _download_impl()
 
             if untar:
                 filename = untar_file(
-                    filename=filename, delete_tar=delete_tar, extract_path=extract_path
+                    filename=filename,
+                    delete_tar=delete_tar,
+                    extract_path=extract_path,
+                    use_filepath=use_filepath,
                 )
             return filename
         except (
             requests.exceptions.ConnectionError,
             requests.exceptions.RequestException,
             requests.exceptions.Timeout,
             requests.exceptions.HTTPError,
@@ -254,46 +271,47 @@
 
         If the untar args is not specified it assumes a single file.
         If untar is provided: False or True it appends the tar.gz extension.
         If untar is True: it extracts the file.
         If untar is False: it keeps the file compressed.
         """
         local_path = kwargs.pop("path_to", None)
-        local_path = local_path or get_path(
-            settings.CLIENT_CONFIG.archive_root, self._client.run_uuid
+        local_path = local_path or os.path.join(
+            settings.CLIENT_CONFIG.archives_root, self._client.run_uuid
         )
         if path:
-            local_path = get_path(local_path, path)
-        _local_path = local_path
-        untar = kwargs.get("untar")
-        if untar is not None:
-            _local_path = _local_path + ".tar.gz"
-        if untar is False:
-            local_path = _local_path
-        check_or_create_path(_local_path, is_dir=False)
-        if not os.path.exists(_local_path):
-            self.download(
-                filename=_local_path, params={"path": path}, url=url, **kwargs
-            )
+            local_path = os.path.join(local_path, path)
+
+        check_or_create_path(local_path, is_dir=False)
+        if not os.path.exists(local_path):
+            params = kwargs.pop("params", {})
+            params["path"] = path
+            self.download(filename=local_path, params=params, url=url, **kwargs)
         return local_path
 
-    def upload_file(self, url: str, filepath: str, **kwargs):
+    def upload_file(
+        self, url: str, filepath: str, show_progress: bool = True, **kwargs
+    ):
         """This function uploads a single file or several files compressed in tar.gz.
 
         If the untar args is provided the server will decompress
         the uploaded file as a tar on the artifacts store.
         """
         json_data = {
             "untar": kwargs.get("untar", False),
             "path": kwargs.get("path", ""),
             "overwrite": kwargs.get("overwrite", True),
         }
         with get_files_by_paths("upload_file", [filepath]) as (files, files_size):
             return self.upload(
-                url, files=files, files_size=files_size, json_data=json_data
+                url,
+                files=files,
+                files_size=files_size,
+                json_data=json_data,
+                show_progress=show_progress,
             )
 
     def upload_dir(self, url: str, files: List[str], **kwargs):
         path = kwargs.get("path", "")
         json_data = {
             "untar": True,
             "path": path,
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/streams/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/polytune/search_managers/grid_search/__init__.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,15 +1,19 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+
+# To keep backwards compatibility
+
+from hypertune.search_managers.grid_search.manager import GridSearchManager
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/streams/app/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/fields/number.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,15 +1,21 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Union
+
+from pydantic import StrictFloat, StrictInt
+
+IntOrFloat = Union[int, float]
+StrictIntOrFloat = Union[StrictInt, StrictFloat, float]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/streams/app/resources.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_entities_tags.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,25 +1,26 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import List, Optional
 
-from starlette.templating import Jinja2Templates
+from pydantic import StrictStr
 
-templates = Jinja2Templates(directory="templates")
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields import UUIDStr
 
 
-def url_for(*args, **kwargs):
-    from polyaxon.streams.app.main import app
-
-    return app.url_path_for(*args, **kwargs)
+class V1EntitiesTags(BaseSchemaModel):
+    uuids: Optional[List[UUIDStr]]
+    tags: Optional[List[StrictStr]]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/streams/controllers/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/fastai.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,15 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+
+# To keep backwards compatibility
+
+from traceml.integrations.fastai import Callback
+
+# alias
+PolyaxonCallback = Callback
+PolyaxonFastaiCallback = Callback
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/streams/controllers/k8s_crd.py` & `polyaxon-2.0.0rc0/polyaxon/deploy/schemas/operators.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,27 +1,29 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-from polyaxon.k8s.async_manager import AsyncK8SManager
-from polyaxon.k8s.custom_resources import operation as op_crd
+from typing import Optional
 
+from polyaxon.schemas.base import BaseSchemaModel
 
-async def get_k8s_operation(k8s_manager: AsyncK8SManager, resource_name: str):
-    return await k8s_manager.get_custom_object(
-        name=resource_name,
-        group=op_crd.GROUP,
-        version=op_crd.API_VERSION,
-        plural=op_crd.PLURAL,
-    )
+
+class OperatorsConfig(BaseSchemaModel):
+    tfjob: Optional[bool]
+    pytorchjob: Optional[bool]
+    paddlejob: Optional[bool]
+    mpijob: Optional[bool]
+    mxjob: Optional[bool]
+    xgbjob: Optional[bool]
+    sparkjob: Optional[bool]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/streams/tasks/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/tensorflow.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,15 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+
+# To keep backwards compatibility
+
+from traceml.integrations.tensorflow import Callback
+
+# alias
+PolyaxonCallback = Callback
+PolyaxonSessionRunHook = Callback
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/streams/tasks/notification.py` & `polyaxon-2.0.0rc0/polyaxon/connections/gcp/service.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,75 +1,90 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from typing import List
 
-from polyaxon import settings
-from polyaxon.agents.spawners.async_spawner import AsyncSpawner
-from polyaxon.lifecycle import V1StatusCondition
-from polyaxon.logger import logger
-from polyaxon.operations import get_notifier_operation
-from polyaxon.polyaxonfile import OperationSpecification
-from polyaxon.polypod import compiler
-from polyaxon.polypod.compiler.converters import PLATFORM_CONVERTERS
-
-
-async def notify_run(
-    namespace: str,
-    owner: str,
-    project: str,
-    run_uuid: str,
-    run_name: str,
-    condition: V1StatusCondition,
-    connections: List[str],
-):
-    spawner = AsyncSpawner(namespace=namespace)
-    await spawner.k8s_manager.setup()
-    for connection in connections:
-        connection_type = settings.AGENT_CONFIG.connections_by_names.get(connection)
-        if not connection_type:
-            logger.warning(
-                "Could not create notification using connection {}, "
-                "the connection was not found or not set correctly.".format(
-                    connection_type
-                )
-            )
-            continue
-
-        operation = get_notifier_operation(
-            connection=connection,
-            backend=connection_type.kind,
-            owner=owner,
-            project=project,
-            run_uuid=run_uuid,
-            run_name=run_name,
-            condition=condition.to_dict(),
-        )
-        compiled_operation = OperationSpecification.compile_operation(operation)
-        resource = compiler.make(
-            owner_name=owner,
-            project_name=project,
-            project_uuid=project,
-            run_uuid=run_uuid,
-            run_name=run_name,
-            run_path=run_uuid,
-            compiled_operation=compiled_operation,
-            params=operation.params,
-            converters=PLATFORM_CONVERTERS,
-        )
-        await spawner.create(
-            run_uuid=run_uuid,
-            run_kind=compiled_operation.get_run_kind(),
-            resource=resource,
+import json
+import os
+
+from typing import TYPE_CHECKING, List, Optional
+
+from clipped.path_utils import create_project_tmp
+
+from polyaxon.connections.base import BaseService
+from polyaxon.connections.gcp.base import get_gc_client
+from polyaxon.connections.reader import get_connection_context_path
+from polyaxon.contexts import paths as ctx_paths
+
+if TYPE_CHECKING:
+    from google.oauth2.service_account import Credentials
+
+    from polyaxon.schemas.types import V1ConnectionType
+
+
+class GCPService(BaseService):
+    def __init__(self, connection=None, **kwargs):
+        super().__init__(connection=connection, **kwargs)
+        self._project_id = kwargs.get("project_id")
+        self._credentials = kwargs.get("credentials")
+        self._key_path = kwargs.get("key_path")
+        self._keyfile_dict = kwargs.get("keyfile_dict")
+        self._scopes = kwargs.get("scopes")
+        self._encoding = kwargs.get("encoding", "utf-8")
+
+    def set_connection(
+        self,
+        connection: Optional[str] = None,
+        connection_type: Optional["V1ConnectionType"] = None,
+        project_id: Optional[str] = None,
+        key_path: Optional[str] = None,
+        keyfile_dict: Optional[str] = None,
+        credentials: Optional["Credentials"] = None,
+        scopes: Optional[List[str]] = None,
+    ):
+        """
+        Sets a new gc client.
+
+        Args:
+            project_id: `str`. The project if.
+            key_path: `str`. The path to the json key file.
+            keyfile_dict: `str`. The dict containing the auth data.
+            credentials: `Credentials instance`. The credentials to use.
+            scopes: `list`. The scopes.
+
+        Returns:
+            Service client instance
+        """
+        if connection:
+            self._connection = connection
+            return
+        connection_type = connection_type or self._connection_type
+        connection_name = connection_type.name if connection_type else None
+        context_path = get_connection_context_path(name=connection_name)
+        self._connection = get_gc_client(
+            project_id=project_id or self._project_id,
+            key_path=key_path or self._key_path,
+            keyfile_dict=keyfile_dict or self._keyfile_dict,
+            credentials=credentials or self._credentials,
+            scopes=scopes or self._scopes,
+            context_path=context_path,
         )
+
+    def set_env_vars(self):
+        if self._key_path:
+            os.environ["GOOGLE_APPLICATION_CREDENTIALS"] = self._key_path
+        elif self._keyfile_dict:
+            create_project_tmp(".polyaxon")
+            with open(ctx_paths.CONTEXT_MOUNT_GC, "w") as outfile:
+                json.dump(self._keyfile_dict, outfile)
+            os.environ["GOOGLE_APPLICATION_CREDENTIALS"] = ctx_paths.CONTEXT_MOUNT_GC
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/tracking/contrib/__init__.py` & `polyaxon-2.0.0rc0/polyaxon/tracking/contrib/keras.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,15 +1,23 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+
+# To keep backwards compatibility
+
+from traceml.integrations.keras import Callback
+
+# alias
+PolyaxonCallback = Callback
+PolyaxonKerasCallback = Callback
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/tracking/contrib/lightgbm.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_pipeline.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,30 +1,28 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-from polyaxon import tracking
+from pydantic import StrictStr
 
+from polyaxon.polyflow.run.kinds import V1PipelineKind
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields import UUIDStr
 
-def polyaxon_callback(run=None):
-    run = tracking.get_or_create_run(run)
 
-    def callback(env):
-        res = {}
-        for data_name, eval_name, value, _ in env.evaluation_result_list:
-            key = data_name + "-" + eval_name
-            res[key] = value
-        run.log_metrics(step=env.iteration, **res)
-
-    return callback
+class V1Pipeline(BaseSchemaModel):
+    uuid: Optional[UUIDStr]
+    name: Optional[StrictStr]
+    kind: Optional[V1PipelineKind]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/types.py` & `polyaxon-2.0.0rc0/polyaxon/types.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -29,14 +29,15 @@
 AUTH = "auth"
 LIST = "list"
 GCS = "gcs"
 S3 = "s3"
 WASB = "wasb"
 DOCKERFILE = "dockerfile"
 FILE = "file"
+TENSORBOARD = "tensorboard"
 GIT = "git"
 IMAGE = "image"
 EVENT = "event"
 ARTIFACTS = "artifacts"
 PATH = "path"
 METRIC = "metric"
 METADATA = "metadata"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/cache.py` & `polyaxon-2.0.0rc0/polyaxon/utils/cache.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,39 +1,40 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from clipped.formatting import Printer
+
 from polyaxon.exceptions import PolyaxonSchemaError
 from polyaxon.managers.project import ProjectConfigManager
-from polyaxon.utils.formatting import Printer
 
 CACHE_ERROR = (
     "Found an invalid project config or project config cache, "
     "if you are using Polyaxon CLI please run: "
     "`polyaxon config purge --cache-only`"
 )
 
 
 def get_local_project(is_cli: bool = False):
     try:
         return ProjectConfigManager.get_config()
     except Exception:  # noqa
         if is_cli:
-            Printer.print_error(CACHE_ERROR, sys_exit=True)
+            Printer.error(CACHE_ERROR, sys_exit=True)
         else:
             raise PolyaxonSchemaError(CACHE_ERROR)
 
 
 def _is_same_project(owner=None, project=None):
     local_project = get_local_project(is_cli=True)
     if project and project == local_project.name:
@@ -61,13 +62,9 @@
     # Set caching only if we have an initialized project
     if not ProjectConfigManager.is_initialized():
         return
 
     if not _is_same_project(owner, project):
         return
 
-    visibility = (
-        ProjectConfigManager.VISIBILITY_LOCAL
-        if ProjectConfigManager.is_locally_initialized()
-        else ProjectConfigManager.VISIBILITY_GLOBAL
-    )
+    visibility = ProjectConfigManager.get_visibility()
     config_manager.set_config(config, visibility=visibility)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/cli_constants.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/api/version.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,51 +1,26 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-NEWLINES = ("\n", "\r", "\r\n")
+from typing import Optional
 
-INIT_COMMAND = (
-    "`polyaxon init -p PROJECT_NAME [--polyaxonfile] [--git-connection] [--git-url]`"
-)
+from pydantic import StrictStr
 
-DEFAULT_IGNORE_LIST = """
-.git
-.eggs
-eggs
-lib
-lib64
-parts
-sdist
-var
-*.pyc
-*.swp
-.DS_Store
-./.polyaxon
-"""
+from polyaxon.schemas.base import BaseSchemaModel
 
-INIT_FILE_PATH = "polyaxonfile.yaml"
 
-INIT_FILE_TEMPLATE = """---
-version: 1.1
-kind: component
-run:
-  kind: job
-  container:
-    # image: # image to use
-    # command: # Command to use
-"""
-
-INIT_FILE = "init"
-DEBUG_FILE = "debug"
+class V1Version(BaseSchemaModel):
+    min: Optional[StrictStr]
+    latest: Optional[StrictStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/coroutine.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/references/path.py`

 * *Files 23% similar despite different names*

```diff
@@ -1,29 +1,32 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
-import asyncio
+from typing_extensions import Literal
 
-from functools import wraps
+from pydantic import StrictStr
 
+from polyaxon.polyflow.references.mixin import RefMixin
+from polyaxon.schemas.base import BaseDiscriminatedModel
 
-def coroutine(f):
-    """https://github.com/pallets/click/issues/85#issuecomment-503464628"""
 
-    @wraps(f)
-    def wrapper(*args, **kwargs):
-        return asyncio.run(f(*args, **kwargs))
+class V1PathRef(BaseDiscriminatedModel, RefMixin):
+    _IDENTIFIER = "path_ref"
 
-    return wrapper
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    path: StrictStr
+
+    def get_kind_value(self):
+        return self.path
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/csv_utils.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_list_token_response.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,39 +1,28 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-import sys
+from typing import List, Optional
 
-from typing import Dict
+from pydantic import StrictStr
 
-try:
-    import pandas as pd
-except ImportError:
-    pd = None
-    try:
-        import csv
-    except ImportError:
-        print("pandas or csv module are required to use save as csv file")
-        sys.exit(1)
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.responses.v1_token import V1Token
 
 
-def write_csv(objects: Dict, filename: str):
-    if pd:
-        df = pd.DataFrame(objects)
-        df.to_csv(filename)
-    else:
-        with open(filename, "w", encoding="utf8", newline="") as output_file:
-            writer = csv.DictWriter(output_file, fieldnames=objects[0].keys())
-            writer.writeheader()
-            writer.writerows(objects)
+class V1ListTokenResponse(BaseSchemaModel):
+    count: Optional[int]
+    results: Optional[List[V1Token]]
+    previous: Optional[StrictStr]
+    next: Optional[StrictStr]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/enums_utils.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/notifier.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,30 +1,25 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing_extensions import Literal
 
-from enum import Enum
-from typing import Iterable, List, Set, Tuple, Type, Union
+from polyaxon.polyflow.run.job import V1Job
+from polyaxon.polyflow.run.kinds import V1RunKind
 
 
-def enum_to_choices(enumeration: Type[Enum]) -> Iterable[Tuple]:
-    return tuple((e.value, e.value) for e in enumeration)
+class V1NotifierJob(V1Job):
+    _IDENTIFIER = V1RunKind.NOTIFIER
 
-
-def enum_to_set(enumeration: Type[Enum]) -> Set:
-    return set(e.value for e in enumeration)
-
-
-def values_to_choices(enumeration: Union[List, Set]) -> Iterable[Tuple]:
-    return tuple((e, e) for e in sorted(enumeration))
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/fqn_utils.py` & `polyaxon-2.0.0rc0/polyaxon/utils/fqn_utils.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
@@ -13,14 +13,18 @@
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
 import re
 import unicodedata
 
+from typing import Optional
+
+from polyaxon.exceptions import PolyaxonSchemaError
+
 
 def get_project_instance(owner: str, project: str) -> str:
     return "{}.{}".format(owner, project)
 
 
 def get_run_instance(owner: str, project: str, run_uuid: str) -> str:
     return "{}.{}.runs.{}".format(owner, project, run_uuid)
@@ -34,15 +38,15 @@
     return "plx-operation-{}".format(run_uuid)
 
 
 def get_cleaner_resource_name(run_uuid: str) -> str:
     return "plx-cleaner-{}".format(run_uuid)
 
 
-def get_resource_name_for_kind(run_uuid: str, run_kind: str = None) -> str:
+def get_resource_name_for_kind(run_uuid: str, run_kind: Optional[str] = None) -> str:
     if run_kind == "cleaner":
         return get_cleaner_resource_name(run_uuid)
     # Operation
     return get_resource_name(run_uuid)
 
 
 def to_fqn_name(name: str) -> str:
@@ -53,7 +57,46 @@
     value = (
         unicodedata.normalize("NFKD", value).encode("ascii", "ignore").decode("ascii")
     )
     value = re.sub(r"[^\w\\\/\.\s-]", "", value).strip()
     value = re.sub(r"[\\\/]+", "__", value)
     value = re.sub(r"[-\.\s]+", "-", value)
     return value
+
+
+def get_entity_full_name(
+    owner: Optional[str] = None, entity: Optional[str] = None
+) -> str:
+    if owner and entity:
+        return "{}/{}".format(owner, entity)
+    return entity
+
+
+def get_entity_info(entity):
+    if not entity:
+        raise PolyaxonSchemaError(
+            "Received an invalid entity reference: `{}`".format(entity)
+        )
+
+    parts = entity.replace(".", "/").split("/")
+    if len(parts) > 2:
+        raise PolyaxonSchemaError(
+            "Received an invalid entity reference: `{}`".format(entity)
+        )
+    if len(parts) == 2:
+        owner, entity_name = parts
+    else:
+        owner = None
+        entity_name = entity
+
+    return owner, entity_name
+
+
+def get_versioned_entity_full_name(
+    owner: Optional[str], component: str, tag: Optional[str] = None
+) -> str:
+    if tag:
+        component = "{}:{}".format(component, tag)
+    if owner:
+        component = "{}/{}".format(owner, component)
+
+    return component
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/hashing.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/early_stopping/__init__.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,21 +1,32 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Union
+from typing_extensions import Annotated
 
+from pydantic import Field
 
-def hash_value(value, hash_length: int = 12) -> str:
-    import hashlib
+from polyaxon.polyflow.early_stopping.policies import (
+    V1DiffStoppingPolicy,
+    V1FailureEarlyStopping,
+    V1MedianStoppingPolicy,
+    V1MetricEarlyStopping,
+    V1TruncationStoppingPolicy,
+)
 
-    return hashlib.md5(str(value).encode("utf-8")).hexdigest()[:hash_length]
+V1EarlyStopping = Annotated[
+    Union[V1MetricEarlyStopping, V1FailureEarlyStopping],
+    Field(discriminator="kind", alias="earlyStopping"),
+]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/host_utils.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/component/component_reference.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,24 +1,27 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-import os
+from typing import Union
+from typing_extensions import Annotated
 
-from polyaxon.api import LOCALHOST
-from polyaxon.env_vars.keys import POLYAXON_KEYS_PLATFORM_HOST
-from polyaxon.utils.http_utils import clean_host
+from pydantic import Field
 
+from polyaxon.polyflow.component.component import V1Component
+from polyaxon.polyflow.references import V1DagRef, V1HubRef, V1PathRef, V1UrlRef
 
-def get_api_host(default: str = LOCALHOST):
-    return clean_host(os.environ.get(POLYAXON_KEYS_PLATFORM_HOST, default))
+V1ComponentReference = Annotated[
+    Union[V1Component, V1DagRef, V1HubRef, V1PathRef, V1UrlRef],
+    Field(discriminator="kind"),
+]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/list_utils.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/responses/v1_artifact_tree.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,33 +1,26 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-from collections.abc import Mapping
+from typing import Dict, List, Optional
 
-try:
-    import numpy as np
-except ImportError:
-    np = None
+from pydantic import StrictStr
 
+from polyaxon.schemas.base import BaseSchemaModel
 
-def to_list(value, check_none=False, check_dict=False):
-    if check_none and value is None:
-        return []
-    if isinstance(value, (list, tuple, set)):
-        return list(value)
-    if np and isinstance(value, np.ndarray):
-        return value.tolist()
-    if check_dict and isinstance(value, Mapping):
-        return list(value.items())
-    return [value]
+
+class V1ArtifactTree(BaseSchemaModel):
+    files: Optional[Dict[str, StrictStr]]
+    dirs: Optional[List[StrictStr]]
+    is_done: Optional[bool]
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/log_levels.py` & `polyaxon-2.0.0rc0/polyaxon/connections/schemas/__init__.py`

 * *Files 25% similar despite different names*

```diff
@@ -1,21 +1,27 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-
-
-class LogLevels:
-    INFO = "INFO"
-    WARNING = "WARNING"
-    ERROR = "ERROR"
+from polyaxon.connections.schemas.connections import (
+    V1BucketConnection,
+    V1ClaimConnection,
+    V1GitConnection,
+    V1HostConnection,
+    V1HostPathConnection,
+    validate_connection,
+)
+from polyaxon.connections.schemas.k8s_resources import (
+    V1K8sResourceSchema,
+    validate_k8s_resource,
+)
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/manager_interface.py` & `polyaxon-2.0.0rc0/polyaxon/schemas/patch_strategy.py`

 * *Files 24% similar despite different names*

```diff
@@ -1,55 +1,40 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
 
+from clipped.enums_utils import PEnum
 
-class ManagerInterface:
-    def __init__(self):
-        self._state = {}
-
-    @property
-    def state(self):
-        return self._state
-
-    def _get_state_data(self, obj):
-        raise NotImplementedError
-
-    def subscribe(self, obj):
-        key, value = self._get_state_data(obj)
-        self._subscribe(key=key, value=value)
-
-    def _subscribe(self, key, value):
-        if key in self.state:
-            assert self.state[key] == value
-        else:
-            self.state[key] = value
-
-    def knows(self, key):
-        return key in self.state
-
-    def get(self, key):
-        return self.state.get(key)
-
-    @property
-    def keys(self):
-        return self.state.keys()
-
-    @property
-    def values(self):
-        return self.state.values()
-
-    @property
-    def items(self):
-        return self.state.items()
+
+class V1PatchStrategy(str, PEnum):
+    REPLACE = "replace"
+    ISNULL = "isnull"
+    POST_MERGE = "post_merge"
+    PRE_MERGE = "pre_merge"
+
+    @classmethod
+    def is_replace(cls, value):
+        return value == cls.REPLACE
+
+    @classmethod
+    def is_null(cls, value):
+        return value == cls.ISNULL
+
+    @classmethod
+    def is_post_merge(cls, value):
+        return value == cls.POST_MERGE
+
+    @classmethod
+    def is_pre_merge(cls, value):
+        return value == cls.PRE_MERGE
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/urls_utils.py` & `polyaxon-2.0.0rc0/polyaxon/utils/urls_utils.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,30 +1,27 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
+from urllib.parse import urljoin, urlparse
 
-try:
-    from urllib.parse import urlparse  # pylint:disable=import-error
-except ImportError:
-    raise ImportError("This module depends on django.")
 
-
-def validate_url(url):
+def validate_url(url: str):
     if not url.startswith(("http://", "https://")):
         return False
     parsed = urlparse(url)
     if not parsed.hostname:
         return False
     return True
 
@@ -54,13 +51,32 @@
 
 
 def get_run_health_url(unique_name: str) -> str:
     run_url = get_fqn_run_url(unique_name=unique_name)
     return f"{run_url}/_heartbeat"
 
 
+def get_proxy_run_url(
+    service: str,
+    namespace: str,
+    owner: str,
+    project: str,
+    run_uuid: str,
+    subpath: Optional[str] = None,
+) -> str:
+    url_path = "{namespace}/{owner}/{project}/runs/{run_uuid}".format(
+        namespace=namespace,
+        owner=owner,
+        project=project,
+        run_uuid=run_uuid,
+    )
+    if subpath:
+        url_path = "{}/{}".format(url_path, subpath)
+    return urljoin(service.rstrip() + "/", url_path.lstrip("/"))
+
+
 def get_run_reconcile_url(unique_name: str) -> str:
     run_url = get_fqn_run_url(unique_name=unique_name)
     return "{}/_reconcile".format(run_url)
 
 
 URL_FORMAT = "{protocol}://{domain}{path}"
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/versions.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/references/url.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,25 +1,31 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing_extensions import Literal
 
+from pydantic import StrictStr
 
-def clean_version_for_compatibility(version: str):
-    return version.lstrip("v").replace(".", "-")[:5]
+from polyaxon.polyflow.references.mixin import RefMixin
+from polyaxon.schemas.base import BaseDiscriminatedModel
 
 
-def clean_version_for_check(version: str):
-    if not version:
-        return version
-    return version.lstrip("v").replace("-", ".")[:5]
+class V1UrlRef(BaseDiscriminatedModel, RefMixin):
+    _IDENTIFIER = "url_ref"
+
+    kind: Literal[_IDENTIFIER] = _IDENTIFIER
+    url: StrictStr
+
+    def get_kind_value(self):
+        return self.url
```

### Comparing `polyaxon-1.9.6rc5/polyaxon/utils/workers_utils.py` & `polyaxon-2.0.0rc0/polyaxon/polyflow/run/kubeflow/scheduling_policy.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,54 +1,29 @@
 #!/usr/bin/python
 #
-# Copyright 2018-2021 Polyaxon, Inc.
+# Copyright 2018-2023 Polyaxon, Inc.
 #
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 #      http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
+from typing import Optional
 
-import os
-import signal
-import threading
+from pydantic import Field, StrictStr
 
-from contextlib import contextmanager
-from typing import Generator
+from polyaxon.schemas.base import BaseSchemaModel
+from polyaxon.schemas.fields import IntOrRef
 
-from polyaxon.logger import logger
 
+class V1SchedulingPolicy(BaseSchemaModel):
+    _IDENTIFIER = "schedulingPolicy"
 
-def get_pool_workers():
-    return min(32, (os.cpu_count() or 1) + 4)
-
-
-@contextmanager
-def exit_context() -> Generator:
-    exit_event = threading.Event()
-
-    def _exit_handler(*args, **kwargs) -> None:
-        logger.info("Keyboard Interrupt received, exiting pool.")
-        exit_event.set()
-
-    original = signal.getsignal(signal.SIGINT)
-    try:
-        signal.signal(signal.SIGINT, _exit_handler)
-        yield exit_event
-    except SystemExit:
-        pass
-    finally:
-        signal.signal(signal.SIGINT, original)
-
-
-def get_wait(current: int) -> float:
-    intervals = [0.25, 0.5, 1.0, 2.0, 4.0, 8.0]
-
-    if current >= 5:
-        current = 5
-    return intervals[current]
+    min_available: Optional[IntOrRef] = Field(alias="minAvailable")
+    queue: Optional[StrictStr]
+    priority_class: Optional[StrictStr] = Field(alias="priorityClass")
```

### Comparing `polyaxon-1.9.6rc5/polyaxon.egg-info/SOURCES.txt` & `polyaxon-2.0.0rc0/polyaxon.egg-info/SOURCES.txt`

 * *Files 8% similar despite different names*

```diff
@@ -1,20 +1,23 @@
 MANIFEST.in
 setup.cfg
 setup.py
-../CONTRIBUTING.md
+../LICENSE
 ../README.md
 polyaxon/__init__.py
+polyaxon/__main__.py
 polyaxon/api.py
+polyaxon/dist.py
 polyaxon/exceptions.py
 polyaxon/lifecycle.py
 polyaxon/live_state.py
 polyaxon/logger.py
 polyaxon/main.py
 polyaxon/pkg.py
+polyaxon/py.typed
 polyaxon/settings.py
 polyaxon/types.py
 polyaxon.egg-info/PKG-INFO
 polyaxon.egg-info/SOURCES.txt
 polyaxon.egg-info/dependency_links.txt
 polyaxon.egg-info/entry_points.txt
 polyaxon.egg-info/requires.txt
@@ -26,108 +29,110 @@
 polyaxon/agents/manager.py
 polyaxon/agents/spawners/__init__.py
 polyaxon/agents/spawners/async_spawner.py
 polyaxon/agents/spawners/base.py
 polyaxon/agents/spawners/spawner.py
 polyaxon/auxiliaries/__init__.py
 polyaxon/auxiliaries/cleaner.py
+polyaxon/auxiliaries/default_scheduling.py
 polyaxon/auxiliaries/init.py
 polyaxon/auxiliaries/notifier.py
 polyaxon/auxiliaries/sidecar.py
 polyaxon/auxiliaries/tuner.py
 polyaxon/builds/__init__.py
 polyaxon/builds/builder.py
 polyaxon/builds/generator/__init__.py
 polyaxon/builds/generator/dockerfile.py
 polyaxon/builds/generator/generator.py
 polyaxon/cli/__init__.py
 polyaxon/cli/admin.py
+polyaxon/cli/artifacts.py
 polyaxon/cli/auth.py
 polyaxon/cli/check.py
 polyaxon/cli/completion.py
+polyaxon/cli/components.py
 polyaxon/cli/config.py
 polyaxon/cli/dashboard.py
 polyaxon/cli/errors.py
-polyaxon/cli/hub.py
 polyaxon/cli/init.py
+polyaxon/cli/models.py
 polyaxon/cli/operations.py
 polyaxon/cli/options.py
 polyaxon/cli/port_forward.py
+polyaxon/cli/project_versions.py
 polyaxon/cli/projects.py
-polyaxon/cli/registry.py
 polyaxon/cli/run.py
 polyaxon/cli/session.py
 polyaxon/cli/utils.py
 polyaxon/cli/version.py
-polyaxon/cli/components/__init__.py
-polyaxon/cli/components/agent.py
-polyaxon/cli/components/clean_artifacts.py
-polyaxon/cli/components/clean_ops.py
-polyaxon/cli/components/docker.py
-polyaxon/cli/components/initializer.py
-polyaxon/cli/components/notifier.py
-polyaxon/cli/components/proxies.py
-polyaxon/cli/components/sidecar.py
-polyaxon/cli/components/tuner.py
-polyaxon/cli/components/wait.py
 polyaxon/cli/executor/__init__.py
 polyaxon/cli/executor/conda.py
 polyaxon/cli/executor/docker.py
 polyaxon/cli/executor/k8s.py
 polyaxon/cli/executor/platform.py
+polyaxon/cli/services/__init__.py
+polyaxon/cli/services/agent.py
+polyaxon/cli/services/clean_artifacts.py
+polyaxon/cli/services/docker.py
+polyaxon/cli/services/initializer.py
+polyaxon/cli/services/notifier.py
+polyaxon/cli/services/sidecar.py
+polyaxon/cli/services/tuner.py
+polyaxon/cli/services/wait.py
 polyaxon/client/__init__.py
 polyaxon/client/client.py
 polyaxon/client/impersonate.py
+polyaxon/client/init.py
 polyaxon/client/project.py
 polyaxon/client/run.py
 polyaxon/client/decorators/__init__.py
-polyaxon/client/decorators/client_handler.py
+polyaxon/client/decorators/client_call_handler.py
+polyaxon/client/decorators/errors.py
 polyaxon/client/decorators/is_managed.py
 polyaxon/client/transport/__init__.py
 polyaxon/client/transport/http_transport.py
 polyaxon/client/transport/periodic_transport.py
 polyaxon/client/transport/retry_transport.py
 polyaxon/client/transport/socket_transport.py
 polyaxon/client/transport/threaded_transport.py
+polyaxon/client/transport/ws_client.py
 polyaxon/client/workers/__init__.py
 polyaxon/client/workers/base_worker.py
 polyaxon/client/workers/periodic_worker.py
 polyaxon/client/workers/queue_worker.py
 polyaxon/config_reader/__init__.py
 polyaxon/config_reader/manager.py
 polyaxon/config_reader/spec.py
-polyaxon/config_reader/utils.py
 polyaxon/connections/__init__.py
 polyaxon/connections/base.py
-polyaxon/connections/getter.py
 polyaxon/connections/kinds.py
 polyaxon/connections/reader.py
 polyaxon/connections/aws/__init__.py
 polyaxon/connections/aws/base.py
-polyaxon/connections/aws/s3.py
+polyaxon/connections/aws/service.py
 polyaxon/connections/azure/__init__.py
-polyaxon/connections/azure/azure_blobstore.py
 polyaxon/connections/azure/base.py
+polyaxon/connections/azure/service.py
 polyaxon/connections/gcp/__init__.py
 polyaxon/connections/gcp/base.py
-polyaxon/connections/gcp/gcs.py
+polyaxon/connections/gcp/service.py
 polyaxon/connections/schemas/__init__.py
 polyaxon/connections/schemas/connections.py
 polyaxon/connections/schemas/k8s_resources.py
 polyaxon/constants/__init__.py
 polyaxon/constants/globals.py
 polyaxon/constants/metadata.py
 polyaxon/containers/__init__.py
-polyaxon/containers/contexts.py
 polyaxon/containers/names.py
 polyaxon/containers/pull_policy.py
 polyaxon/containers/statuses.py
 polyaxon/contexts/__init__.py
 polyaxon/contexts/keys.py
 polyaxon/contexts/params.py
+polyaxon/contexts/paths.py
 polyaxon/contexts/refs.py
 polyaxon/contexts/sections.py
 polyaxon/deploy/__init__.py
 polyaxon/deploy/reader.py
 polyaxon/deploy/operators/__init__.py
 polyaxon/deploy/operators/cmd_operator.py
 polyaxon/deploy/operators/compose.py
@@ -141,14 +146,15 @@
 polyaxon/deploy/schemas/celery.py
 polyaxon/deploy/schemas/deployment.py
 polyaxon/deploy/schemas/deployment_types.py
 polyaxon/deploy/schemas/email.py
 polyaxon/deploy/schemas/ingress.py
 polyaxon/deploy/schemas/intervals.py
 polyaxon/deploy/schemas/operators.py
+polyaxon/deploy/schemas/proxy.py
 polyaxon/deploy/schemas/rbac.py
 polyaxon/deploy/schemas/root_user.py
 polyaxon/deploy/schemas/security_context.py
 polyaxon/deploy/schemas/service.py
 polyaxon/deploy/schemas/service_types.py
 polyaxon/deploy/schemas/ssl.py
 polyaxon/deploy/schemas/ui.py
@@ -158,24 +164,37 @@
 polyaxon/env_vars/getters/agent.py
 polyaxon/env_vars/getters/owner_entity.py
 polyaxon/env_vars/getters/project.py
 polyaxon/env_vars/getters/queue.py
 polyaxon/env_vars/getters/run.py
 polyaxon/env_vars/getters/user.py
 polyaxon/env_vars/getters/versioned_entity.py
+polyaxon/fs/__init__.py
+polyaxon/fs/async_manager.py
+polyaxon/fs/azure.py
+polyaxon/fs/fs.py
+polyaxon/fs/gcs.py
+polyaxon/fs/manager.py
+polyaxon/fs/s3.py
+polyaxon/fs/tar.py
+polyaxon/fs/types.py
+polyaxon/fs/watcher.py
 polyaxon/init/__init__.py
+polyaxon/init/artifacts.py
 polyaxon/init/auth.py
 polyaxon/init/dockerfile.py
 polyaxon/init/file.py
 polyaxon/init/git.py
+polyaxon/init/tensorboard.py
 polyaxon/k8s/__init__.py
 polyaxon/k8s/async_manager.py
 polyaxon/k8s/constants.py
 polyaxon/k8s/events.py
 polyaxon/k8s/k8s_schemas.py
+polyaxon/k8s/k8s_validation.py
 polyaxon/k8s/manager.py
 polyaxon/k8s/monitor.py
 polyaxon/k8s/namespace.py
 polyaxon/k8s/nodes.py
 polyaxon/k8s/pods.py
 polyaxon/k8s/run_instance.py
 polyaxon/k8s/custom_resources/__init__.py
@@ -189,17 +208,17 @@
 polyaxon/managers/auth.py
 polyaxon/managers/base.py
 polyaxon/managers/cli.py
 polyaxon/managers/client.py
 polyaxon/managers/compose.py
 polyaxon/managers/deploy.py
 polyaxon/managers/git.py
+polyaxon/managers/home.py
 polyaxon/managers/ignore.py
 polyaxon/managers/project.py
-polyaxon/managers/proxies.py
 polyaxon/managers/run.py
 polyaxon/managers/user.py
 polyaxon/notifiers/__init__.py
 polyaxon/notifiers/base.py
 polyaxon/notifiers/discord_webhook.py
 polyaxon/notifiers/hipchat_webhook.py
 polyaxon/notifiers/keys.py
@@ -231,32 +250,17 @@
 polyaxon/polyaxonfile/specs/operation.py
 polyaxon/polyaxonfile/specs/sections.py
 polyaxon/polyaxonfile/specs/libs/__init__.py
 polyaxon/polyaxonfile/specs/libs/engine.py
 polyaxon/polyaxonfile/specs/libs/parser.py
 polyaxon/polyaxonfile/specs/libs/validator.py
 polyaxon/polyboard/__init__.py
-polyaxon/polyboard/utils.py
-polyaxon/polyboard/artifacts/__init__.py
-polyaxon/polyboard/artifacts/kinds.py
-polyaxon/polyboard/artifacts/schemas.py
-polyaxon/polyboard/events/__init__.py
-polyaxon/polyboard/events/paths.py
-polyaxon/polyboard/events/schemas.py
-polyaxon/polyboard/logging/__init__.py
-polyaxon/polyboard/logging/handler.py
-polyaxon/polyboard/logging/parser.py
-polyaxon/polyboard/logging/schemas.py
-polyaxon/polyboard/logging/streamer.py
-polyaxon/polyboard/processors/__init__.py
-polyaxon/polyboard/processors/events_processors.py
-polyaxon/polyboard/processors/gpu_processor.py
-polyaxon/polyboard/processors/logs_processor.py
-polyaxon/polyboard/processors/psutil_processor.py
-polyaxon/polyboard/processors/writer.py
+polyaxon/polyboard/artifacts.py
+polyaxon/polyboard/events.py
+polyaxon/polyboard/logging.py
 polyaxon/polyflow/__init__.py
 polyaxon/polyflow/operators.py
 polyaxon/polyflow/trigger_policies.py
 polyaxon/polyflow/builds/__init__.py
 polyaxon/polyflow/cache/__init__.py
 polyaxon/polyflow/component/__init__.py
 polyaxon/polyflow/component/base.py
@@ -301,14 +305,15 @@
 polyaxon/polyflow/references/__init__.py
 polyaxon/polyflow/references/dag.py
 polyaxon/polyflow/references/hub.py
 polyaxon/polyflow/references/mixin.py
 polyaxon/polyflow/references/path.py
 polyaxon/polyflow/references/url.py
 polyaxon/polyflow/run/__init__.py
+polyaxon/polyflow/run/base.py
 polyaxon/polyflow/run/cleaner.py
 polyaxon/polyflow/run/dag.py
 polyaxon/polyflow/run/dask.py
 polyaxon/polyflow/run/flink.py
 polyaxon/polyflow/run/job.py
 polyaxon/polyflow/run/kinds.py
 polyaxon/polyflow/run/notifier.py
@@ -317,33 +322,37 @@
 polyaxon/polyflow/run/resources.py
 polyaxon/polyflow/run/service.py
 polyaxon/polyflow/run/tuner.py
 polyaxon/polyflow/run/utils.py
 polyaxon/polyflow/run/kubeflow/__init__.py
 polyaxon/polyflow/run/kubeflow/clean_pod_policy.py
 polyaxon/polyflow/run/kubeflow/mpi_job.py
+polyaxon/polyflow/run/kubeflow/mx_job.py
+polyaxon/polyflow/run/kubeflow/paddle_job.py
 polyaxon/polyflow/run/kubeflow/pytorch_job.py
 polyaxon/polyflow/run/kubeflow/replica.py
+polyaxon/polyflow/run/kubeflow/scheduling_policy.py
 polyaxon/polyflow/run/kubeflow/tf_job.py
+polyaxon/polyflow/run/kubeflow/xgboost_job.py
 polyaxon/polyflow/run/spark/__init__.py
 polyaxon/polyflow/run/spark/replica.py
 polyaxon/polyflow/run/spark/spark.py
 polyaxon/polyflow/schedules/__init__.py
 polyaxon/polyflow/schedules/cron.py
 polyaxon/polyflow/schedules/datetime.py
 polyaxon/polyflow/schedules/interval.py
 polyaxon/polyflow/schedules/kinds.py
 polyaxon/polyflow/templates/__init__.py
 polyaxon/polyflow/termination/__init__.py
 polyaxon/polyplot/__init__.py
-polyaxon/polyplot/run_plot.py
 polyaxon/polypod/__init__.py
 polyaxon/polypod/mixins.py
 polyaxon/polypod/common/__init__.py
 polyaxon/polypod/common/accelerators.py
+polyaxon/polypod/common/annotations.py
 polyaxon/polypod/common/constants.py
 polyaxon/polypod/common/container_resources.py
 polyaxon/polypod/common/containers.py
 polyaxon/polypod/common/env_vars.py
 polyaxon/polypod/common/mounts.py
 polyaxon/polypod/common/setter.py
 polyaxon/polypod/common/stores.py
@@ -354,49 +363,59 @@
 polyaxon/polypod/compiler/contexts/__init__.py
 polyaxon/polypod/compiler/contexts/base.py
 polyaxon/polypod/compiler/contexts/contexts.py
 polyaxon/polypod/compiler/contexts/job.py
 polyaxon/polypod/compiler/contexts/service.py
 polyaxon/polypod/compiler/contexts/kubeflow/__init__.py
 polyaxon/polypod/compiler/contexts/kubeflow/mpi_job.py
+polyaxon/polypod/compiler/contexts/kubeflow/mx_job.py
+polyaxon/polypod/compiler/contexts/kubeflow/paddle_job.py
 polyaxon/polypod/compiler/contexts/kubeflow/pytroch_job.py
 polyaxon/polypod/compiler/contexts/kubeflow/tf_job.py
+polyaxon/polypod/compiler/contexts/kubeflow/xgb_job.py
 polyaxon/polypod/compiler/converters/__init__.py
 polyaxon/polypod/compiler/converters/base.py
 polyaxon/polypod/compiler/converters/helpers.py
 polyaxon/polypod/compiler/converters/job.py
 polyaxon/polypod/compiler/converters/service.py
 polyaxon/polypod/compiler/converters/kubeflow/__init__.py
 polyaxon/polypod/compiler/converters/kubeflow/mpi_job.py
+polyaxon/polypod/compiler/converters/kubeflow/mx_job.py
+polyaxon/polypod/compiler/converters/kubeflow/paddle_job.py
 polyaxon/polypod/compiler/converters/kubeflow/pytroch_job.py
 polyaxon/polypod/compiler/converters/kubeflow/tf_job.py
+polyaxon/polypod/compiler/converters/kubeflow/xgboost_job.py
 polyaxon/polypod/compiler/lineage/__init__.py
 polyaxon/polypod/compiler/lineage/artifacts_collector.py
 polyaxon/polypod/compiler/lineage/collector.py
 polyaxon/polypod/compiler/lineage/io_collector.py
 polyaxon/polypod/compiler/lineage/params_collector.py
 polyaxon/polypod/compiler/resolver/__init__.py
 polyaxon/polypod/compiler/resolver/base.py
 polyaxon/polypod/compiler/resolver/resolver.py
 polyaxon/polypod/custom_resources/__init__.py
 polyaxon/polypod/custom_resources/job.py
 polyaxon/polypod/custom_resources/service.py
 polyaxon/polypod/custom_resources/kubeflow/__init__.py
 polyaxon/polypod/custom_resources/kubeflow/common.py
 polyaxon/polypod/custom_resources/kubeflow/mpi_job.py
+polyaxon/polypod/custom_resources/kubeflow/mx_job.py
+polyaxon/polypod/custom_resources/kubeflow/paddle_job.py
 polyaxon/polypod/custom_resources/kubeflow/pytorch_job.py
 polyaxon/polypod/custom_resources/kubeflow/tf_job.py
+polyaxon/polypod/custom_resources/kubeflow/xgb_job.py
 polyaxon/polypod/init/__init__.py
 polyaxon/polypod/init/artifacts.py
 polyaxon/polypod/init/auth.py
 polyaxon/polypod/init/custom.py
 polyaxon/polypod/init/dockerfile.py
 polyaxon/polypod/init/file.py
 polyaxon/polypod/init/git.py
 polyaxon/polypod/init/store.py
+polyaxon/polypod/init/tensorboard.py
 polyaxon/polypod/main/__init__.py
 polyaxon/polypod/main/container.py
 polyaxon/polypod/main/env_vars.py
 polyaxon/polypod/main/k8s_resources.py
 polyaxon/polypod/main/volumes.py
 polyaxon/polypod/pod/__init__.py
 polyaxon/polypod/pod/spec.py
@@ -404,202 +423,209 @@
 polyaxon/polypod/sidecar/__init__.py
 polyaxon/polypod/sidecar/container.py
 polyaxon/polypod/sidecar/env_vars.py
 polyaxon/polypod/specs/__init__.py
 polyaxon/polypod/specs/contexts.py
 polyaxon/polypod/specs/replica.py
 polyaxon/polytune/__init__.py
-polyaxon/polytune/iteration_lineage.py
-polyaxon/polytune/matrix/__init__.py
-polyaxon/polytune/matrix/dist.py
-polyaxon/polytune/matrix/hyperopt.py
-polyaxon/polytune/matrix/utils.py
-polyaxon/polytune/schemas/__init__.py
-polyaxon/polytune/schemas/iteration.py
 polyaxon/polytune/search_managers/__init__.py
-polyaxon/polytune/search_managers/base.py
-polyaxon/polytune/search_managers/spec.py
-polyaxon/polytune/search_managers/utils.py
 polyaxon/polytune/search_managers/bayesian_optimization/__init__.py
-polyaxon/polytune/search_managers/bayesian_optimization/acquisition_function.py
-polyaxon/polytune/search_managers/bayesian_optimization/manager.py
-polyaxon/polytune/search_managers/bayesian_optimization/optimizer.py
-polyaxon/polytune/search_managers/bayesian_optimization/space.py
 polyaxon/polytune/search_managers/grid_search/__init__.py
-polyaxon/polytune/search_managers/grid_search/manager.py
 polyaxon/polytune/search_managers/hyperband/__init__.py
-polyaxon/polytune/search_managers/hyperband/manager.py
 polyaxon/polytune/search_managers/hyperopt/__init__.py
-polyaxon/polytune/search_managers/hyperopt/manager.py
 polyaxon/polytune/search_managers/mapping/__init__.py
-polyaxon/polytune/search_managers/mapping/manager.py
 polyaxon/polytune/search_managers/random_search/__init__.py
-polyaxon/polytune/search_managers/random_search/manager.py
 polyaxon/pql/__init__.py
 polyaxon/pql/builder.py
 polyaxon/pql/manager.py
 polyaxon/pql/parser.py
-polyaxon/proxies/__init__.py
-polyaxon/proxies/generators/__init__.py
-polyaxon/proxies/generators/api.py
-polyaxon/proxies/generators/base.py
-polyaxon/proxies/generators/gateway.py
-polyaxon/proxies/generators/streams.py
-polyaxon/proxies/schemas/__init__.py
-polyaxon/proxies/schemas/base.py
-polyaxon/proxies/schemas/buffering.py
-polyaxon/proxies/schemas/charset.py
-polyaxon/proxies/schemas/error_page.py
-polyaxon/proxies/schemas/favicon.py
-polyaxon/proxies/schemas/gzip.py
-polyaxon/proxies/schemas/listen.py
-polyaxon/proxies/schemas/locations.py
-polyaxon/proxies/schemas/logging.py
-polyaxon/proxies/schemas/robots.py
-polyaxon/proxies/schemas/timeout.py
-polyaxon/proxies/schemas/urls.py
-polyaxon/proxies/schemas/api/__init__.py
-polyaxon/proxies/schemas/api/base.py
-polyaxon/proxies/schemas/api/main.py
-polyaxon/proxies/schemas/api/uwsgi.py
-polyaxon/proxies/schemas/gateway/__init__.py
-polyaxon/proxies/schemas/gateway/api.py
-polyaxon/proxies/schemas/gateway/auth.py
-polyaxon/proxies/schemas/gateway/base.py
-polyaxon/proxies/schemas/gateway/dns.py
-polyaxon/proxies/schemas/gateway/healthz.py
-polyaxon/proxies/schemas/gateway/main.py
-polyaxon/proxies/schemas/gateway/redirect.py
-polyaxon/proxies/schemas/gateway/services.py
-polyaxon/proxies/schemas/gateway/ssl.py
-polyaxon/proxies/schemas/gateway/streams.py
-polyaxon/proxies/schemas/streams/__init__.py
-polyaxon/proxies/schemas/streams/base.py
-polyaxon/proxies/schemas/streams/gunicorn.py
-polyaxon/proxies/schemas/streams/main.py
 polyaxon/schemas/__init__.py
 polyaxon/schemas/base.py
 polyaxon/schemas/patch_strategy.py
 polyaxon/schemas/pending.py
-polyaxon/schemas/utils.py
+polyaxon/schemas/services.py
 polyaxon/schemas/api/__init__.py
 polyaxon/schemas/api/authentication.py
+polyaxon/schemas/api/compatibility.py
+polyaxon/schemas/api/home.py
+polyaxon/schemas/api/installation.py
 polyaxon/schemas/api/log_handler.py
 polyaxon/schemas/api/resources.py
 polyaxon/schemas/api/user.py
+polyaxon/schemas/api/version.py
 polyaxon/schemas/cli/__init__.py
 polyaxon/schemas/cli/agent_config.py
 polyaxon/schemas/cli/checks_config.py
 polyaxon/schemas/cli/cli_config.py
 polyaxon/schemas/cli/client_config.py
-polyaxon/schemas/cli/proxies_config.py
 polyaxon/schemas/fields/__init__.py
-polyaxon/schemas/fields/dict_or_str.py
 polyaxon/schemas/fields/docker_image.py
-polyaxon/schemas/fields/float_or_str.py
-polyaxon/schemas/fields/indexed_dict.py
-polyaxon/schemas/fields/int_or_str.py
-polyaxon/schemas/fields/obj_list_obj.py
+polyaxon/schemas/fields/email.py
+polyaxon/schemas/fields/number.py
 polyaxon/schemas/fields/ref_or_obj.py
-polyaxon/schemas/fields/str_or_fct.py
-polyaxon/schemas/fields/str_or_list.py
-polyaxon/schemas/fields/swagger.py
-polyaxon/schemas/fields/tensor.py
 polyaxon/schemas/fields/uuids.py
+polyaxon/schemas/responses/__init__.py
+polyaxon/schemas/responses/v1_activity.py
+polyaxon/schemas/responses/v1_agent.py
+polyaxon/schemas/responses/v1_agent_state_response.py
+polyaxon/schemas/responses/v1_agent_state_response_agent_state.py
+polyaxon/schemas/responses/v1_agent_status_body_request.py
+polyaxon/schemas/responses/v1_analytics_spec.py
+polyaxon/schemas/responses/v1_artifact_tree.py
+polyaxon/schemas/responses/v1_auth.py
+polyaxon/schemas/responses/v1_cloning.py
+polyaxon/schemas/responses/v1_connection_response.py
+polyaxon/schemas/responses/v1_dashboard.py
+polyaxon/schemas/responses/v1_dashboard_spec.py
+polyaxon/schemas/responses/v1_entities_tags.py
+polyaxon/schemas/responses/v1_entities_transfer.py
+polyaxon/schemas/responses/v1_entity_notification_body.py
+polyaxon/schemas/responses/v1_entity_stage_body_request.py
+polyaxon/schemas/responses/v1_entity_status_body_request.py
+polyaxon/schemas/responses/v1_events_response.py
+polyaxon/schemas/responses/v1_list_activities_response.py
+polyaxon/schemas/responses/v1_list_agents_response.py
+polyaxon/schemas/responses/v1_list_bookmarks_response.py
+polyaxon/schemas/responses/v1_list_connections_response.py
+polyaxon/schemas/responses/v1_list_dashboards_response.py
+polyaxon/schemas/responses/v1_list_organization_members_response.py
+polyaxon/schemas/responses/v1_list_organizations_response.py
+polyaxon/schemas/responses/v1_list_presets_response.py
+polyaxon/schemas/responses/v1_list_project_versions_response.py
+polyaxon/schemas/responses/v1_list_projects_response.py
+polyaxon/schemas/responses/v1_list_queues_response.py
+polyaxon/schemas/responses/v1_list_run_artifacts_response.py
+polyaxon/schemas/responses/v1_list_run_connections_response.py
+polyaxon/schemas/responses/v1_list_run_edges_response.py
+polyaxon/schemas/responses/v1_list_runs_response.py
+polyaxon/schemas/responses/v1_list_searches_response.py
+polyaxon/schemas/responses/v1_list_service_accounts_response.py
+polyaxon/schemas/responses/v1_list_tags_response.py
+polyaxon/schemas/responses/v1_list_team_members_response.py
+polyaxon/schemas/responses/v1_list_teams_response.py
+polyaxon/schemas/responses/v1_list_token_response.py
+polyaxon/schemas/responses/v1_operation_body.py
+polyaxon/schemas/responses/v1_organization.py
+polyaxon/schemas/responses/v1_organization_member.py
+polyaxon/schemas/responses/v1_password_change.py
+polyaxon/schemas/responses/v1_pipeline.py
+polyaxon/schemas/responses/v1_preset.py
+polyaxon/schemas/responses/v1_project.py
+polyaxon/schemas/responses/v1_project_settings.py
+polyaxon/schemas/responses/v1_project_user_access.py
+polyaxon/schemas/responses/v1_project_version.py
+polyaxon/schemas/responses/v1_queue.py
+polyaxon/schemas/responses/v1_run.py
+polyaxon/schemas/responses/v1_run_connection.py
+polyaxon/schemas/responses/v1_run_edge.py
+polyaxon/schemas/responses/v1_run_reference_catalog.py
+polyaxon/schemas/responses/v1_run_settings.py
+polyaxon/schemas/responses/v1_search.py
+polyaxon/schemas/responses/v1_search_spec.py
+polyaxon/schemas/responses/v1_section_spec.py
+polyaxon/schemas/responses/v1_service_account.py
+polyaxon/schemas/responses/v1_settings_catalog.py
+polyaxon/schemas/responses/v1_tag.py
+polyaxon/schemas/responses/v1_team.py
+polyaxon/schemas/responses/v1_team_member.py
+polyaxon/schemas/responses/v1_team_settings.py
+polyaxon/schemas/responses/v1_token.py
+polyaxon/schemas/responses/v1_trial_start.py
+polyaxon/schemas/responses/v1_user.py
+polyaxon/schemas/responses/v1_user_email.py
+polyaxon/schemas/responses/v1_user_singup.py
+polyaxon/schemas/responses/v1_uuids.py
 polyaxon/schemas/types/__init__.py
 polyaxon/schemas/types/artifacts.py
 polyaxon/schemas/types/auth.py
 polyaxon/schemas/types/base.py
 polyaxon/schemas/types/connections.py
 polyaxon/schemas/types/dockerfile.py
 polyaxon/schemas/types/event.py
 polyaxon/schemas/types/file.py
 polyaxon/schemas/types/gcs.py
 polyaxon/schemas/types/git.py
 polyaxon/schemas/types/k8s_resources.py
 polyaxon/schemas/types/s3.py
+polyaxon/schemas/types/tensorboard.py
 polyaxon/schemas/types/uri.py
 polyaxon/schemas/types/wasb.py
+polyaxon/sdk/__init__.py
+polyaxon/sdk/base_api.py
+polyaxon/sdk/configuration.py
+polyaxon/sdk/exceptions.py
+polyaxon/sdk/models.py
+polyaxon/sdk/api/__init__.py
+polyaxon/sdk/api/agents_v1_api.py
+polyaxon/sdk/api/artifacts_stores_v1_api.py
+polyaxon/sdk/api/auth_v1_api.py
+polyaxon/sdk/api/connections_v1_api.py
+polyaxon/sdk/api/dashboards_v1_api.py
+polyaxon/sdk/api/organizations_v1_api.py
+polyaxon/sdk/api/presets_v1_api.py
+polyaxon/sdk/api/project_dashboards_v1_api.py
+polyaxon/sdk/api/project_searches_v1_api.py
+polyaxon/sdk/api/projects_v1_api.py
+polyaxon/sdk/api/queues_v1_api.py
+polyaxon/sdk/api/runs_v1_api.py
+polyaxon/sdk/api/searches_v1_api.py
+polyaxon/sdk/api/service_accounts_v1_api.py
+polyaxon/sdk/api/tags_v1_api.py
+polyaxon/sdk/api/teams_v1_api.py
+polyaxon/sdk/api/users_v1_api.py
+polyaxon/sdk/api/versions_v1_api.py
+polyaxon/sdk/async_client/__init__.py
+polyaxon/sdk/async_client/api_client.py
+polyaxon/sdk/async_client/rest.py
+polyaxon/sdk/sync_client/__init__.py
+polyaxon/sdk/sync_client/api_client.py
+polyaxon/sdk/sync_client/rest.py
 polyaxon/services/__init__.py
 polyaxon/services/auth.py
 polyaxon/services/ephemeral.py
 polyaxon/services/headers.py
+polyaxon/services/values.py
 polyaxon/sidecar/__init__.py
-polyaxon/sidecar/intervals.py
-polyaxon/sidecar/monitors/__init__.py
-polyaxon/sidecar/monitors/artifacts.py
-polyaxon/sidecar/monitors/logs.py
+polyaxon/sidecar/ignore.py
+polyaxon/sidecar/processor.py
+polyaxon/sidecar/container/__init__.py
+polyaxon/sidecar/container/intervals.py
+polyaxon/sidecar/container/monitors/__init__.py
+polyaxon/sidecar/container/monitors/artifacts.py
+polyaxon/sidecar/container/monitors/logs.py
 polyaxon/stores/__init__.py
-polyaxon/stores/async_manager.py
-polyaxon/stores/base_store.py
-polyaxon/stores/local_store.py
-polyaxon/stores/manager.py
 polyaxon/stores/polyaxon_store.py
-polyaxon/streams/__init__.py
-polyaxon/streams/app/__init__.py
-polyaxon/streams/app/endpoints.py
-polyaxon/streams/app/main.py
-polyaxon/streams/app/resources.py
-polyaxon/streams/controllers/__init__.py
-polyaxon/streams/controllers/events.py
-polyaxon/streams/controllers/k8s_crd.py
-polyaxon/streams/controllers/logs.py
-polyaxon/streams/controllers/notebooks.py
-polyaxon/streams/controllers/uploads.py
-polyaxon/streams/tasks/__init__.py
-polyaxon/streams/tasks/logs.py
-polyaxon/streams/tasks/notification.py
 polyaxon/tracking/__init__.py
 polyaxon/tracking/run.py
 polyaxon/tracking/contrib/__init__.py
 polyaxon/tracking/contrib/fastai.py
 polyaxon/tracking/contrib/fastai_v1.py
+polyaxon/tracking/contrib/hugging_face.py
 polyaxon/tracking/contrib/ignite.py
 polyaxon/tracking/contrib/keras.py
 polyaxon/tracking/contrib/lightgbm.py
 polyaxon/tracking/contrib/pytorch_lightning.py
 polyaxon/tracking/contrib/scikit.py
 polyaxon/tracking/contrib/tensorboard.py
 polyaxon/tracking/contrib/tensorflow.py
 polyaxon/tracking/contrib/xgboost.py
 polyaxon/utils/__init__.py
-polyaxon/utils/bool_utils.py
 polyaxon/utils/cache.py
-polyaxon/utils/cached_property.py
 polyaxon/utils/cli_constants.py
-polyaxon/utils/click_utils.py
-polyaxon/utils/cmd.py
-polyaxon/utils/code_reference.py
-polyaxon/utils/coroutine.py
-polyaxon/utils/csv_utils.py
-polyaxon/utils/date_utils.py
-polyaxon/utils/encoding.py
-polyaxon/utils/enums_utils.py
-polyaxon/utils/env.py
 polyaxon/utils/formatting.py
 polyaxon/utils/fqn_utils.py
-polyaxon/utils/hashing.py
 polyaxon/utils/host_utils.py
-polyaxon/utils/http_utils.py
-polyaxon/utils/humanize.py
-polyaxon/utils/imports.py
-polyaxon/utils/indentation.py
-polyaxon/utils/list_utils.py
-polyaxon/utils/log_levels.py
-polyaxon/utils/manager_interface.py
-polyaxon/utils/memoize_decorators.py
-polyaxon/utils/np_utils.py
-polyaxon/utils/path_utils.py
-polyaxon/utils/query_params.py
-polyaxon/utils/requests_utils.py
-polyaxon/utils/sanitizers.py
-polyaxon/utils/signal_decorators.py
-polyaxon/utils/string_utils.py
-polyaxon/utils/tz_utils.py
-polyaxon/utils/units.py
+polyaxon/utils/test_utils.py
 polyaxon/utils/urls_utils.py
-polyaxon/utils/validation.py
-polyaxon/utils/versions.py
-polyaxon/utils/workers_utils.py
-polyaxon/utils/yaml_utils.py
+polyaxon/utils/fixtures/__init__.py
+polyaxon/utils/fixtures/backfill.py
+polyaxon/utils/fixtures/bo.py
+polyaxon/utils/fixtures/build.py
+polyaxon/utils/fixtures/grid.py
+polyaxon/utils/fixtures/jobs.py
+polyaxon/utils/fixtures/mapping.py
+polyaxon/utils/fixtures/pipelines.py
+polyaxon/utils/fixtures/schedule.py
+polyaxon/utils/fixtures/services.py
 polyaxon/vendor/__init__.py
-polyaxon/vendor/pynvml.py
+polyaxon/vendor/shell_pty.py
+polyaxon_sdk/__init__.py
```

### Comparing `polyaxon-1.9.6rc5/setup.cfg` & `polyaxon-2.0.0rc0/setup.cfg`

 * *Files 20% similar despite different names*

```diff
@@ -1,21 +1,22 @@
 [metadata]
 description-file = README.md
 
 [isort]
+skip_glob = polyaxon/vendor/*
 honor_noqa = True
 profile = black
 line_length = 88
 lines_between_sections = 1
 lines_between_types = 1
 order_by_type = true
 known_future_library = future,pies
-extra_standard_library = typing,mock,pytest,factory,faker,flaky,numpy,pandas,requests,websocket,jinja2,yaml,pytz
-known_third_party = rest_framework,scipy,sklearn,datadog,docker,corsheaders,celery,picklefield,sentry_sdk,ujson,marshmallow
-known_first_party = polyaxon
+extra_standard_library = typing,typing_extensions,mock,pytest,factory,faker,flaky,numpy,pandas,requests,websocket,jinja2,yaml,pytz
+known_third_party = rest_framework,scipy,sklearn,datadog,docker,corsheaders,celery,picklefield,sentry_sdk,ujson,pydantic,clipped
+known_first_party = polyaxon,traceml,hypertune
 indent = '    '
 multi_line_output = 3
 include_trailing_comma = True
 force_grid_wrap = 0
 use_parentheses = True
 known_django = django
 forced_separate = django.contrib,django.utils
@@ -26,14 +27,15 @@
 addopts = --doctest-glob='*.rst'
 markers = 
 	api_mark
 	automl_mark
 	api_builds
 	cli_mark
 	client_mark
+	utils_mark
 	managers_mark
 	operators_mark
 	polyaxonfile_mark
 	polyflow_mark
 	components_mark
 	connections_mark
 	workflow_mark
@@ -41,25 +43,31 @@
 	environment_mark
 	init_mark
 	mounts_mark
 	ops_mark
 	sidecars_mark
 	termination_mark
 	schemas_mark
-	proxies_mark
 	sidecar_mark
 	tracking_mark
-	polytune_mark
 	parser_mark
 	polypod_mark
 	agent_mark
 	polyboard_mark
 	plugins_mark
 	hooks_mark
 	builds_mark
 	events_mark
-	streams_mark
+	fixtures_mark
+
+[mypy]
+python_version = 3.9
+namespace_packages = true
+ignore_missing_imports = True
+show_error_codes = True
+allow_redefinition = True
+exclude = (setup.py$)|(tests/)|(vendor/)
 
 [egg_info]
 tag_build = 
 tag_date = 0
```

